/*! For license information please see 97.js.LICENSE.txt */
"use strict";(self.webpackChunkde_layout_manager_widgets=self.webpackChunkde_layout_manager_widgets||[]).push([[97],{960:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(81),r=n.n(o),a=n(645),s=n.n(a)()(r());s.push([e.id,"._mWNNXfpTxoZVQ2EDPjv{display:flex;width:100%;flex-flow:column nowrap;align-items:stretch}._mWNNXfpTxoZVQ2EDPjv *{box-sizing:border-box;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.YFyV8xJBmi0IXHvjyKhJ{display:flex;flex-flow:column nowrap;align-items:stretch}.qsHMS4gum54RkrOuzeWw{display:flex;flex-flow:row nowrap;cursor:pointer;flex:0 0 30px;font-size:12px;align-items:center;background:#f3f4f6;border-bottom:1px solid #e5e7eb}.ZJAv57CsdElcCDngnZAf{display:flex;flex-flow:column nowrap;flex:1 1 1px;overflow:scroll}.SvzLGTcbIpv6zG8AUaxW{flex:1 1 100px;font-weight:400;text-transform:uppercase;padding-left:16px}.PReItQE3TWGPhDGeqdPW{flex:0 0 100px;max-width:100px;text-transform:uppercase;padding-left:10px}.HvBliToKHkwWiarQ45HR{flex:0 0 200px;max-width:200px;text-transform:uppercase;padding-left:10px}.ubB7rrGzxf8hUTl2s0Tz{flex:0 0 150px;max-width:150px;text-transform:uppercase;padding-left:10px}.Xen_akE7ldWR7mN1ANNL{display:flex;flex-flow:row nowrap;cursor:pointer;flex:0 0 40px;align-items:stretch;border-bottom:1px solid #e5e7eb}.NdQhYw2DiWT8XKLRfMkY{margin-left:30px;display:flex;flex-flow:column nowrap;align-items:stretch}.FjNRwI3CQeoacZMZxKy4{font-size:12px;color:gray;font-weight:400;padding:5px;border-bottom:1px solid #e5e7eb}.LJuokDvz4QOrY164jqA4{font-size:13px;line-height:40px;padding-left:16px;padding-right:16px;font-weight:600;flex:1 1 100px;background:#f3f4f6}.OR17PzTKTyv8paSiZckA{font-size:13px;line-height:40px;padding-left:10px;padding-right:10px;flex:0 0 100px;max-width:100px;font-weight:400;display:flex;flex-flow:row nowrap;align-items:center}.YCFKlZahVmd5gFZKYSzc{display:flex;flex-flow:row nowrap;align-items:center;padding:0 8px;height:18px;margin:8px 0;border-radius:4px;background:#fff2b0}.YCFKlZahVmd5gFZKYSzc.C5Nd6NuR6VYn1d5oCPUE{background:#d8ffde}.YCFKlZahVmd5gFZKYSzc.SLqf5IhCVTVP1hLv38pC{background:#fff2b0}.YCFKlZahVmd5gFZKYSzc.TQYeJHxwtbgRNxYuHuGQ{background:#ffcfcf}.YCFKlZahVmd5gFZKYSzc.ZX9KQ_MEC9wDK8KufSfw{background:#e7e4e4}.kAgBBaKLaqjtHrkLqgOb{background:green;width:8px;height:8px;border-radius:4px;background:#fcaf3c}.kAgBBaKLaqjtHrkLqgOb.C5Nd6NuR6VYn1d5oCPUE{background:#20cc3c}.kAgBBaKLaqjtHrkLqgOb.SLqf5IhCVTVP1hLv38pC{background:#fcaf3c}.kAgBBaKLaqjtHrkLqgOb.TQYeJHxwtbgRNxYuHuGQ{background:#e32c2c}.kAgBBaKLaqjtHrkLqgOb.ZX9KQ_MEC9wDK8KufSfw{background:#707070}.K9PhW_3t8s0zJ5qMDxDr{font-size:10px;margin-left:6px;line-height:auto;color:#b67a20}.K9PhW_3t8s0zJ5qMDxDr.C5Nd6NuR6VYn1d5oCPUE{color:#368e44}.K9PhW_3t8s0zJ5qMDxDr.SLqf5IhCVTVP1hLv38pC{color:#b67a20}.K9PhW_3t8s0zJ5qMDxDr.TQYeJHxwtbgRNxYuHuGQ{color:#913f3f}.K9PhW_3t8s0zJ5qMDxDr.ZX9KQ_MEC9wDK8KufSfw{color:#363636}.Ac6vUl_8z5gX18vrdTW7{font-size:13px;line-height:40px;padding-left:10px;padding-right:10px;flex:0 0 200px;max-width:200px;font-weight:400;color:rgba(12,18,28,.8705882353)}.FslNiX0rpp0pDryJY1he{font-size:13px;line-height:40px;padding-left:10px;padding-right:10px;flex:0 0 150px;max-width:150px;font-weight:400;color:rgba(12,18,28,.8705882353)}",""]),s.locals={hello:"_mWNNXfpTxoZVQ2EDPjv",aspControlRoot:"YFyV8xJBmi0IXHvjyKhJ",aspControlHeader:"qsHMS4gum54RkrOuzeWw",aspControlContent:"ZJAv57CsdElcCDngnZAf",aspControlHeaderColumnName:"SvzLGTcbIpv6zG8AUaxW",aspControlHeaderColumnStatus:"PReItQE3TWGPhDGeqdPW",aspControlHeaderColumnPositionId:"HvBliToKHkwWiarQ45HR",aspControlHeaderColumnPositionFilledBy:"ubB7rrGzxf8hUTl2s0Tz",aspControlRow:"Xen_akE7ldWR7mN1ANNL",aspControlExpansion:"NdQhYw2DiWT8XKLRfMkY",aspControlChildrenMessage:"FjNRwI3CQeoacZMZxKy4",aspControlName:"LJuokDvz4QOrY164jqA4",aspControlStatus:"OR17PzTKTyv8paSiZckA",aspControlStatusInner:"YCFKlZahVmd5gFZKYSzc",active:"C5Nd6NuR6VYn1d5oCPUE",draft:"SLqf5IhCVTVP1hLv38pC",inactive:"TQYeJHxwtbgRNxYuHuGQ",deleted:"ZX9KQ_MEC9wDK8KufSfw",aspControlStatusCircle:"kAgBBaKLaqjtHrkLqgOb",aspControlStatusText:"K9PhW_3t8s0zJ5qMDxDr",aspControlPositionId:"Ac6vUl_8z5gX18vrdTW7",aspControlPositionFilledBy:"FslNiX0rpp0pDryJY1he"};const i=s},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(s[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);o&&s[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},745:(e,t,n)=>{var o=n(56);t.createRoot=o.createRoot,t.hydrateRoot=o.hydrateRoot},251:(e,t,n)=>{var o=n(747),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,a={},c=null,u=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,o)&&!l.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===a[o]&&(a[o]=t[o]);return{$$typeof:r,type:e,key:c,ref:u,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},893:(e,t,n)=>{e.exports=n(251)},340:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var o=n(379),r=n.n(o),a=n(795),s=n.n(a),i=n(569),l=n.n(i),c=n(565),u=n.n(c),d=n(216),p=n.n(d),f=n(589),h=n.n(f),x=n(960),m={};m.styleTagTransform=h(),m.setAttributes=u(),m.insert=l().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=p(),r()(x.Z,m);const v=x.Z&&x.Z.locals?x.Z.locals:void 0},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},s=[],i=0;i<e.length;i++){var l=e[i],c=o.base?l[0]+o.base:l[0],u=a[c]||0,d="".concat(c," ").concat(u);a[c]=u+1;var p=n(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=r(f,o);o.byIndex=i,t.splice(i,0,{identifier:d,updater:h,references:1})}s.push(d)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=n(a[s]);t[i].references--}for(var l=o(e,r),c=0;c<a.length;c++){var u=n(a[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},774:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getHierarchy=t.getAspChildren=t.getAspParent=t.aspPayloadChildren=t.aspPayloadParent=void 0;var s=a(n(879)),i="de-smoketest7.dev.lumada.solutions.hitachienergy.com",l="https://".concat(i,"/v1/dataquery/asset/assetsystemposition/search"),c="https://".concat(i,"/v1/dataquery/asset/assetsystemposition/hierarchy?targetID=<UUID>");t.aspPayloadParent={filters:{positionId:"APS-00000309"},from:0,size:20,sort:[{lastModifiedTimestamp:"DESC"}],must_not:[{exists:{field:"parentPosition.assetsystempositionUUID"}}],fields:["positionId","name","positionFilledBy","status","assetsystempositionUUID"]},t.aspPayloadChildren={filters:{},from:0,size:20,sort:[{lastModifiedTimestamp:"DESC"}],must:[{exists:{field:"parentPosition.assetsystempositionUUID"}}],fields:["positionId","name","positionFilledBy","status","assetsystempositionUUID","parentPosition.assetsystempositionUUID"]};var u=function(e){return{Authorization:"Bearer ".concat(e),Accept:"application/json","Content-Type":"application/json","Cache-Control":"no-cache"}};t.getAspParent=function(e,n,o){return void 0===n&&(n=0),void 0===o&&(o=20),d(e,t.aspPayloadParent,n,o)},t.getAspChildren=function(e,n,o){return void 0===n&&(n=0),void 0===o&&(o=20),d(e,t.aspPayloadChildren,n,o)};var d=function(e,n,o,r){void 0===n&&(n=t.aspPayloadParent),void 0===o&&(o=0),void 0===r&&(r=20);try{console.log("getAsp",l,o,r,n.fields),n.from=o,n.size=r,console.log("eee");var a=s.default.post(l,n,{headers:u(e)});return console.log("iii"),console.log(a),a}catch(e){return console.log("iii"),e}};t.getHierarchy=function(e,t,n,a){return void 0===n&&(n=10),void 0===a&&(a=!0),o(void 0,void 0,void 0,(function(){var o,i;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),console.log("getHierarchy",t,n,a),o=c.replace("<UUID>",t),o+="&depth="+n,a&&(o+="&dataFields=all"),[4,s.default.get(o,{headers:u(e)})];case 1:return[2,r.sent()];case 2:return i=r.sent(),console.error("Failed getting asp hierarchy",i),[2,i];case 3:return[2]}}))}))}},627:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{l(o.next(e))}catch(e){a(e)}}function i(e){try{l(o.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((o=o.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,o,r,a,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,o=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){s.label=i[1];break}if(6===i[0]&&s.label<r[1]){s.label=r[1],r=i;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(i);break}r[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HierarchyWidget=void 0;var s=n(893),i=n(747),l=n(774),c=a(n(340));function u(e){return void 0===e&&(e=!1),(null==localStorage.getItem("tkkn")||e)&&localStorage.setItem("tkkn",prompt("Enter your Lumada token from de-smoketest7:")),localStorage.getItem("tkkn")}function d(e){var t=e.status,n=c.default[t.toLowerCase()];return(0,s.jsx)("div",{className:c.default.aspControlStatus,children:(0,s.jsxs)("div",{className:c.default.aspControlStatusInner+" "+n,children:[(0,s.jsx)("div",{className:c.default.aspControlStatusCircle+" "+n}),(0,s.jsx)("div",{className:c.default.aspControlStatusText+" "+n,children:t})]})})}function p(e){var t=e.asp,n=(0,i.useState)(!1),a=n[0],f=n[1],h=(0,i.useState)(null),x=h[0],m=h[1];return(0,i.useEffect)((function(){a&&function(){o(this,void 0,void 0,(function(){var e,n;return r(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,l.getHierarchy)(u(),t.assetsystempositionUUID,1,!0)];case 1:return(e=o.sent()).status>=300||e.status<200?(alert("There was an error fetching children."),[2]):(n=e.data.hierarchy.children.map((function(e){return{positionId:e.data.positionId,name:e.data.name,positionFilledBy:e.data.positionFilledBy,status:e.data.status,assetsystempositionUUID:e.id}})),console.log(n),m(n),[3,3]);case 2:return o.sent(),m([]),[3,3];case 3:return[2]}}))}))}()}),[a]),(0,s.jsxs)("div",{className:c.default.aspControlRoot,children:[(0,s.jsxs)("div",{className:c.default.aspControlRow,onClick:function(){f((function(e){return!e}))},children:[(0,s.jsx)("div",{className:c.default.aspControlName,children:t.name}),(0,s.jsx)(d,{status:t.status}),(0,s.jsx)("div",{className:c.default.aspControlPositionId,children:t.positionId}),(0,s.jsx)("div",{className:c.default.aspControlPositionFilledBy,children:t.positionFilledBy})]}),(0,s.jsx)("div",{className:c.default.aspControlExpansion,children:function(e,t){return e?null==t?(0,s.jsx)("div",{className:c.default.aspControlChildrenMessage,children:"Please wait..."}):0==t.length?(0,s.jsx)("div",{className:c.default.aspControlChildrenMessage,children:"This ASP does not have children."}):t.map((function(e){return(0,s.jsx)(p,{asp:e},e.assetsystempositionUUID)})):null}(a,x)})]})}t.HierarchyWidget=function(){var e=(0,i.useState)(null),t=e[0],n=e[1];return(0,i.useEffect)((function(){console.log("HELLO"),function(){o(this,void 0,void 0,(function(){var e;return r(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,4]),[4,(0,l.getAspParent)(u())];case 1:case 3:return e=t.sent(),n(e.data.results),console.log(e.data.results),[3,4];case 2:return t.sent(),[4,(0,l.getAspParent)(u(!0))];case 4:return[2]}}))}))}()}),[]),(0,s.jsxs)("div",{className:c.default.hello,children:[(0,s.jsxs)("div",{className:c.default.aspControlHeader,children:[(0,s.jsx)("div",{className:c.default.aspControlHeaderColumnName,children:"NAME"}),(0,s.jsx)("div",{className:c.default.aspControlHeaderColumnStatus,children:"STATUS"}),(0,s.jsx)("div",{className:c.default.aspControlHeaderColumnPositionId,children:"POSITION ID"}),(0,s.jsx)("div",{className:c.default.aspControlHeaderColumnPositionFilledBy,children:"POSITION FILLED BY"})]}),(0,s.jsx)("div",{className:c.default.aspControlContent,children:null!=t&&t.map((function(e){return(0,s.jsx)(p,{asp:e},e.assetsystempositionUUID)}))})]})}},97:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(745)),a=n(627);r.default.createRoot(document.getElementById("root")),t.default=a.HierarchyWidget}}]);
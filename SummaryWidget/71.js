"use strict";(self.webpackChunkde_lmw_SummaryWidget=self.webpackChunkde_lmw_SummaryWidget||[]).push([[71],{5071:(t,e,r)=>{r.r(e),r.d(e,{ComplexBase:()=>f,ComponentBase:()=>c,Inject:()=>y,applyMixins:()=>d,compile:()=>v});var i,s=r(5095),n=r(2139),o=r(2471),a=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},i(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),p=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],l=["accordion","tab","splitter"],h=new RegExp("]"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mountingState=!1,e.attrKeys=[],e.cachedTimeOut=0,e.isAppendCalled=!1,e.initRenderCalled=!1,e.isReactForeceUpdate=!1,e.isReact=!0,e.isshouldComponentUpdateCalled=!1,e.isCreated=!1,e}return a(e,t),e.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=-1!==l.indexOf(this.getModuleName()),this.renderReactComponent(),this.portals&&this.portals.length&&(this.mountingState=!0,this.renderReactTemplates(),this.mountingState=!1)},e.prototype.componentDidUpdate=function(t){this.isshouldComponentUpdateCalled||!this.initRenderCalled||this.isReactForeceUpdate||t!==this.props&&(this.isshouldComponentUpdateCalled=!0,this.updateProperties(this.props,!1,t))},e.prototype.renderReactComponent=function(){var t=this.reactElement;t&&!this.isAppendCalled&&(this.isAppendCalled=!0,this.appendTo(t))},e.prototype.shouldComponentUpdate=function(t){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(t),!0):(this.updateProperties(t,!0),!0)},e.prototype.updateProperties=function(t,e,r){for(var i=this,s=(0,o.extend)({},t),n=Object.keys(t),a=(0,o.extend)({},r||this.props),p=(0,o.isNullOrUndefined)(a.statelessTemplates)?(0,o.isNullOrUndefined)(this.statelessTemplateProps)?[]:this.statelessTemplateProps:a.statelessTemplates,l=0,h=n;l<h.length;l++){var c=h[l],d="className"===c;if("children"!==c)if(d||(0,o.isNullOrUndefined)(this.htmlattributes[""+c])||this.htmlattributes[""+c]===s[""+c]||(this.htmlattributes[""+c]=s[""+c]),this.compareValues(a[""+c],t[""+c]))delete s[""+c];else if(-1!==this.attrKeys.indexOf(c))if(d){this.clsName=!0;for(var u=a[""+c].split(" "),f=0;f<u.length;f++)this.element.classList.remove(u[parseInt(f.toString(),10)]);for(var m=s[""+c].split(" "),y=0;y<m.length;y++)this.element.classList.add(m[parseInt(y.toString(),10)])}else"disabled"===c||this.properties.hasOwnProperty(c)||delete s[""+c];else("value"===c&&t[""+c]===this[""+c]||p.indexOf(c)>-1&&("content"===c&&"function"==typeof s[""+c]||t[""+c].toString()===this[""+c].toString()))&&delete s[""+c]}s.children&&delete s.children,this.initRenderCalled&&(this.canDelayUpdate||a.delayUpdate)?setTimeout((function(){i.refreshProperties(s,t,e)})):this.refreshProperties(s,t,e)},e.prototype.refreshProperties=function(t,e,r){var i=(0,o.isNullOrUndefined)(this.props.statelessTemplates)?[]:this.props.statelessTemplates;Object.keys(t).length&&(r||this.processComplexTemplate(t,this),this.setProperties(t,r)),-1===i.indexOf("directiveTemplates")&&this.refreshChild(r,e)},e.prototype.processComplexTemplate=function(t,e){var r=e.complexTemplate;if(r)for(var i in r){var s=r[""+i];t[""+i]&&(0,o.setValue)(s,(0,o.getValue)(i,t),t)}},e.prototype.getDefaultAttributes=function(){var t=this;this.isReact=!0;var r=Object.keys(this.props),i=["children","statelessTemplates","immediateRender","isLegacyTemplate","delayUpdate"];this.htmlattributes||(this.htmlattributes={}),this.attrKeys=p.concat(this.controlAttributes||[]);for(var s=0,n=r;s<n.length;s++){var o=n[s];(-1!==o.indexOf("data-")||-1!==o.indexOf("aria-")||-1!==this.attrKeys.indexOf(o)||-1===Object.keys(this.properties).indexOf(""+o)&&-1===i.indexOf(""+o))&&this.htmlattributes[""+o]!==this.props[""+o]&&(this.htmlattributes[""+o]=this.props[""+o])}if(this.htmlattributes.ref||(this.htmlattributes.ref=function(e){t.reactElement=e},-1!==["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio","rating"].indexOf(this.getModuleName())&&(this.htmlattributes.key=""+e.reactUid,e.reactUid++,this.type&&!this.htmlattributes.type&&(this.htmlattributes.type=this.multiline?"hidden":this.type),this.name&&!this.htmlattributes.name&&(this.htmlattributes.name=this.name))),this.clsName){for(var a=this.element.classList,l=this.htmlattributes.className,h=0;h<a.length;h++)-1===l.indexOf(a[parseInt(h.toString(),10)])&&(this.htmlattributes.className=this.htmlattributes.className+" "+a[parseInt(h.toString(),10)]);this.clsName=!1}return this.htmlattributes},e.prototype.trigger=function(t,e,r){var i=this;if(!0!==this.isDestroyed&&this.modelObserver){if(h.test(t)){var s=(0,o.getValue)(t,this);s?(s.call(this,e),r&&r.call(this,e)):r&&r.call(this,e)}"change"!==t&&"input"!==t||this.props.onChange&&e.event&&this.props.onChange.call(void 0,{syntheticEvent:e.event,nativeEvent:{text:e.value},value:e.value,target:this});var n=this.isProtectedOnChange;this.isProtectedOnChange=!1,"created"===t?setTimeout((function(){i.isCreated=!0,i.isDestroyed||i.modelObserver.notify(t,e,r)}),10):this.modelObserver.notify(t,e,r),this.isProtectedOnChange=n}},e.prototype.compareValues=function(t,e){if(typeof t==typeof e){if(t===e)return!0;if((!(0,o.isNullOrUndefined)(t)&&t.constructor)!==(!(0,o.isNullOrUndefined)(e)&&e.constructor))return!1;if(t instanceof Date||t instanceof RegExp||t instanceof String||t instanceof Number)return t.toString()===e.toString();if((0,o.isObject)(t)||Array.isArray(t)){var r=t,i=e;return(0,o.isObject)(r)&&(r=[t],i=[e]),this.compareObjects(r,i).status}if(t.constructor&&t.constructor.name===e.constructor.name&&("Query"===t.constructor.name||"DataManager"===t.constructor.name)&&JSON.stringify(t)===JSON.stringify(e))return!0}return!1},e.prototype.compareObjects=function(t,e,r){var i=!0,s=t.length===e.length,n=[],a=(0,o.isNullOrUndefined)(this.templateProps)?[]:this.templateProps;if(s)for(var p=0,l=e.length;p<l;p++){var h={},c=t[parseInt(p.toString(),10)],d=e[parseInt(p.toString(),10)],u=Object.keys(d);if(0!==u.length)for(var f=0,m=u;f<m.length;f++){var y=m[f],g=c[""+y],v=d[""+y];if("items"===y)for(var O=0;O<v.length;O++)if("richtexteditor"===this.getModuleName()&&"object"==typeof v[parseInt(O.toString(),10)])return{status:!0};if("grid"===this.getModuleName()&&"field"===y&&(h[""+y]=v),!c.hasOwnProperty(y)||!(a.length>0&&-1===a.indexOf(""+y)&&"function"==typeof v?this.compareValues(g.toString(),v.toString()):this.compareValues(g,v))){if(!r)return{status:!1};i=!1,h[""+y]=v}}else if(e[parseInt(p.toString(),10)]===t[parseInt(p.toString(),10)])i=!0;else{if(!r)return{status:!1};i=!1}"grid"===this.getModuleName()&&"columns"===r&&(0,o.isNullOrUndefined)(h.field)&&(h.field=void 0),Object.keys(h).length&&n.push({index:p,value:h,key:r})}else i=!1;return{status:i,changedProperties:n}},e.prototype.refreshChild=function(t,e){if(this.checkInjectedModules){for(var r=this.getInjectedModules()||[],i=0,s=this.getInjectedServices()||[];i<s.length;i++){var n=s[i];-1===r.indexOf(n)&&r.push(n)}this.injectedModules=r}if(this.directivekeys){var a=[],p=this.validateChildren({},this.directivekeys,e||this.props);if(p&&Object.keys(p).length){if(!t&&this.skipRefresh)for(var l=0,h=this.skipRefresh;l<h.length;l++)delete p[""+h[l]];if(this.prevProperties)for(var c=Object.keys(this.prevProperties),d=0;d<c.length;d++){var u=c[parseInt(d.toString(),10)];if(p.hasOwnProperty(u)){var f=this.compareObjects(this.prevProperties[""+u],p[""+u],u);if(f.status)delete p[""+u];else{f.changedProperties.length&&(a=a.concat(f.changedProperties));var m={};m[""+u]=p[""+u],this.prevProperties=(0,o.extend)(this.prevProperties,m)}}}else this.prevProperties=(0,o.extend)({},p,{},!0);if(a.length)if("grid"===this.getModuleName()&&"columns"===u)for(var y=0,g=this.columns;y<g.length;y++)if((0,o.getValue)("field",g[parseInt(y.toString(),10)])===(0,o.getValue)(y+".value.field",a)){var v=(0,o.getValue)(a[parseInt(y.toString(),10)].key+"."+a[parseInt(y.toString(),10)].index,this);v&&v.setProperties?v.setProperties(a[parseInt(y.toString(),10)].value):(0,o.extend)(v,a[parseInt(y.toString(),10)].value)}else this.setProperties(p,t);else for(var O=0,b=a;O<b.length;O++){var C=b[O],x=(0,o.getValue)(C.key+"."+C.index,this);x&&x.setProperties?x.setProperties(C.value):(0,o.extend)(x,C.value)}else this.setProperties(p,t)}}},e.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut),this.initRenderCalled&&this.isAppendCalled&&this.element&&(["dropdowntree","checkbox"].indexOf(this.getModuleName())||document.body.contains(this.element))&&!this.isDestroyed&&this.isCreated&&this.destroy(),o.onIntlChange.offIntlEvents()},e.prototype.appendReactElement=function(t,e){var r=n.createPortal(t,e);this.portals?this.portals.push(r):this.portals=[r]},e.prototype.renderReactTemplates=function(t){this.isReactForeceUpdate=!0,t?this.forceUpdate(t):this.forceUpdate(),this.isReactForeceUpdate=!1},e.prototype.clearTemplate=function(t,e,r){var i=this,s=[];t&&t.length?Array.prototype.forEach.call(t,(function(t){var r=0;if(i.portals.forEach((function(e){e.propName===t&&(s.push(r),r++)})),!(0,o.isNullOrUndefined)(e)&&i.portals[e]&&i.portals[e].propName===t)i.portals.splice(e,1);else for(var n=0;n<i.portals.length;n++)i.portals[parseInt(n.toString(),10)].propName===t&&(i.portals.splice(n,1),n--)})):this.portals=[],this.renderReactTemplates(r)},e.prototype.validateChildren=function(t,e,r){for(var i=!1,n=0,o=s.Children.toArray(r.children);n<o.length;n++){var a=o[n],p=this.getChildType(a),l=e[""+p];if(p&&e){var h=this.getChildProps(s.Children.toArray(a.props.children),l);h.length&&(i=!0,t[a.type.propertyName||p]=h)}}return i?t:null},e.prototype.getChildType=function(t){return t.type&&t.type.isDirective&&t.type.moduleName||""},e.prototype.getChildProps=function(t,e){for(var r=[],i=0,s=t;i<s.length;i++){var n=s[i],a=!1,p=void 0;"string"==typeof e?(a=!0,p=e):p=Object.keys(e)[0];var l=n.props;if(this.getChildType(n)===p)if(a||!l.children){var h=(0,o.extend)({},l,{},!0);this.processComplexTemplate(h,n.type),r.push(h)}else{var c=this.validateChildren((0,o.extend)({},l),e[""+p],l)||l;c.children&&delete c.children,this.processComplexTemplate(c,n.type),r.push(c)}}return r},e.prototype.getInjectedServices=function(){for(var t=0,e=s.Children.toArray(this.props.children);t<e.length;t++){var r=e[t];if(r.type&&r.type.isService)return r.props.services}return[]},e.reactUid=1,e}(s.Component);function d(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype).forEach((function(r){"isMounted"!==r&&"replaceState"!==r&&(t.prototype[""+r]=e.prototype[""+r])}))}))}var u=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){return null},e.isDirective=!0,e}(s.PureComponent),m=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},t(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.render=function(){return null},e.isService=!0,e}(s.PureComponent),g=(0,o.getTemplateEngine)();function v(t,e){return"string"==typeof t||t.prototype&&t.prototype.CSPTemplate&&"function"==typeof t?g(t,e):function(e,r,i,a){var p,l=t,h=e;"object"==typeof l&&(l=t.template,h=(0,o.extend)({},e,t.data||{})),p=a||document.createElement("div");var c=s.createElement(l,h),d=n.createPortal(c,p);if(d.propName=i,r.portals?r.portals.push(d):r.portals=[d],!a)return[p]}}(0,o.setTemplateEngine)({compile:v})}}]);
//# sourceMappingURL=71.js.map
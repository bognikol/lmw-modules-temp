"use strict";(self.webpackChunkde_lmw_AspHistoryWidget=self.webpackChunkde_lmw_AspHistoryWidget||[]).push([[239],{8239:(e,t,i)=>{i.r(t),i.d(t,{Accordion:()=>St,AccordionActionSettings:()=>yt,AccordionAnimationSettings:()=>bt,AccordionItem:()=>Ct,ActionSettings:()=>cs,AppBar:()=>Kn,Breadcrumb:()=>Ks,BreadcrumbItem:()=>Xs,BreadcrumbOverflowMode:()=>B,Carousel:()=>Mn,CarouselItem:()=>Dn,CarouselSwipeMode:()=>zs,ContextMenu:()=>xt,FieldSettings:()=>de,FieldsSettings:()=>hs,HScroll:()=>b,Header:()=>mi,Item:()=>Ye,Menu:()=>kt,MenuAnimationSettings:()=>ce,MenuItem:()=>he,NodeAnimationSettings:()=>ps,Sidebar:()=>As,Step:()=>Jn,StepLabelPosition:()=>Zn,StepStatus:()=>Pn,StepType:()=>$n,Stepper:()=>Lr,StepperAnimationSettings:()=>wr,StepperBase:()=>er,StepperOrientation:()=>Qn,Tab:()=>gi,TabActionSettings:()=>ui,TabAnimationSettings:()=>fi,TabItem:()=>vi,Toolbar:()=>Ge,TreeView:()=>us,VScroll:()=>M,addScrolling:()=>H,destroyScroll:()=>R});var s,n=i(6311),r=(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},s(e,t)},function(e,t){function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),l=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},o="e-rtl",a="e-overlay",d="e-nav-arrow",h="e-nav-right-arrow",c="e-nav-left-arrow",p="e-scroll-nav",u="e-scroll-right-nav",f="e-scroll-left-nav",m="e-scroll-device",v="e-scroll-overlay",g="e-scroll-right-overlay",y="e-scroll-left-overlay",b=function(e){function t(t,i){return e.call(this,t,i)||this}return r(t,e),t.prototype.preRender=function(){this.browser=n.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=n.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=(0,n.getUniqueID)("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(o)},t.prototype.render=function(){this.touchModule=new n.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),n.EventHandler.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(m),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},t.prototype.setScrollState=function(){(0,n.isNullOrUndefined)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,s=0,n=[].slice.call(i.children);s<n.length;s++){var r=n[s];e.appendChild(r)}t.appendChild(e),i.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"hScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",t.classList.remove("e-hscroll"),t.classList.remove(m),t.classList.remove(o);var i=(0,n.selectAll)(".e-"+t.id+"_nav."+p,t),s=(0,n.selectAll)("."+v,t);[].slice.call(s).forEach((function(e){(0,n.detach)(e)}));for(var r=0,l=[].slice.call(this.scrollItems.children);r<l.length;r++){var a=l[r];t.appendChild(a)}this.uniqueId&&this.element.removeAttribute("id"),(0,n.detach)(this.scrollEle),i.length>0&&((0,n.detach)(i[0]),(0,n.isNullOrUndefined)(i[1])||(0,n.detach)(i[1])),n.EventHandler.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=(0,n.selectAll)(".e-scroll-nav:not(."+a+")",this.element);e?this.element.classList.add(a):this.element.classList.remove(a),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),i=this.createElement("div",{className:v+" "+g}),s="e-"+e.id.concat("_nav "+p+" "+u),n=this.createElement("div",{id:t.concat("_right"),className:s}),r=this.createElement("div",{className:h+" "+d+" e-icons"});n.appendChild(r);var l=this.createElement("div",{className:v+" "+y});this.ieCheck&&n.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(n),e.insertBefore(l,e.firstChild),this.eventBinding([n])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+p+" "+u),s={role:"button",id:t.concat("_right"),"aria-label":"Scroll right"},n=this.createElement("div",{className:i,attrs:s});n.setAttribute("aria-disabled","false");var r=this.createElement("div",{className:h+" "+d+" e-icons"}),l="e-"+e.id.concat("_nav "+p+" "+f),o={role:"button",id:t.concat("_left"),"aria-label":"Scroll left"},m=this.createElement("div",{className:l+" "+a,attrs:o});m.setAttribute("aria-disabled","true");var v=this.createElement("div",{className:c+" "+d+" e-icons"});m.appendChild(v),n.appendChild(r),e.appendChild(n),e.insertBefore(m,e.firstChild),this.ieCheck&&(n.classList.add("e-ie-align"),m.classList.add("e-ie-align")),this.eventBinding([n,m])},t.prototype.onKeyPress=function(e){var t=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100))},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new n.Touch(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),n.EventHandler.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,p)?i.firstElementChild:i,this.timeout=window.setInterval((function(){t.eleScrolling(10,i,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var s=this.element,n=t.classList;n.contains(p)&&(n=t.querySelector("."+d).classList),this.contains(s,o)&&this.browserCheck&&(e=-e),!this.contains(s,o)||this.browserCheck||this.ieCheck?n.contains(h)?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i):n.contains(c)?this.frameScrollRequest(e,"add",i):this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var s=.5,n=function(){var r=Math.sin(s);r<=0?window.cancelAnimationFrame(r):("Left"===e.swipeDirection?i.scrollLeft+=t*r:"Right"===e.swipeDirection&&(i.scrollLeft-=t*r),s-=.5,window.requestAnimationFrame(n))};n()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},t.prototype.frameScrollRequest=function(e,t,i){var s=this;if(i)this.scrollUpdating(e,t);else{this.customStep||[].slice.call((0,n.selectAll)("."+v,this.element)).forEach((function(t){e-=t.offsetWidth}));var r=function(){var i,n;s.contains(s.element,o)&&s.browserCheck?(i=-e,n=-10):(i=e,n=10),i<10?window.cancelAnimationFrame(n):(s.scrollUpdating(n,t),e-=n,window.requestAnimationFrame(r))};r()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceX;this.ieCheck&&this.contains(this.element,o)&&(i=-i),"Left"===e.scrollDirection?t.scrollLeft=t.scrollLeft+i:"Right"===e.scrollDirection&&(t.scrollLeft=t.scrollLeft-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var i=((0,n.isNullOrUndefined)(e)?t:e).querySelector("."+d);(0,n.isNullOrUndefined)(e)?(0,n.classList)(i,[h],[c]):(0,n.classList)(i,[c],[h])}else e&&t&&(e.classList.add(a),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(a),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0"));this.repeatScroll()},t.prototype.scrollHandler=function(e){var t=e.target,i=t.offsetWidth,s=(this.element,this.element.querySelector("."+f)),n=this.element.querySelector("."+u),r=this.element.querySelector("."+y),l=this.element.querySelector("."+g),o=t.scrollLeft;if(o<=0&&(o=-o),this.isDevice&&(!this.enableRtl||this.browserCheck||this.ieCheck||(r=this.element.querySelector("."+g),l=this.element.querySelector("."+y)),r.style.width=o<40?o+"px":"40px",t.scrollWidth-Math.ceil(i+o)<40?l.style.width=t.scrollWidth-Math.ceil(i+o)+"px":l.style.width="40px"),0===o)this.arrowDisabling(s,n);else if(Math.ceil(i+o+.1)>=t.scrollWidth)this.arrowDisabling(n,s);else{var d=this.element.querySelector("."+p+"."+a);d&&(d.classList.remove(a),d.setAttribute("aria-disabled","false"),d.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(o):this.element.classList.remove(o)}},l([(0,n.Property)(null)],t.prototype,"scrollStep",void 0),l([n.NotifyPropertyChanges],t)}(n.Component),C=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),S=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},I="e-rtl",E="e-overlay",x="e-nav-arrow",N="e-nav-up-arrow",O="e-nav-down-arrow",w="e-scroll-nav",L="e-scroll-up-nav",k="e-scroll-down-nav",A="e-scroll-device",T="e-scroll-overlay",P="e-scroll-up-overlay",D="e-scroll-down-overlay",M=function(e){function t(t,i){return e.call(this,t,i)||this}return C(t,e),t.prototype.preRender=function(){this.browser=n.Browser.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=n.Browser.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=(0,n.getUniqueID)("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(I)},t.prototype.render=function(){this.touchModule=new n.Touch(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),n.EventHandler.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(A),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),n.EventHandler.add(this.element,"wheel",this.wheelEventHandler,this)},t.prototype.setScrollState=function(){(0,n.isNullOrUndefined)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},t.prototype.initialize=function(){var e=(0,n.createElement)("div",{className:"e-vscroll-content"}),t=(0,n.createElement)("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var i=this.element,s=0,r=[].slice.call(i.children);s<r.length;s++){var l=r[s];e.appendChild(l)}t.appendChild(e),i.appendChild(t),t.style.overflow="hidden",this.scrollEle=t,this.scrollItems=e},t.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},t.prototype.getModuleName=function(){return"vScroll"},t.prototype.destroy=function(){var t=this.element;t.style.display="",(0,n.removeClass)([this.element],["e-vscroll",A,I]);var i=(0,n.selectAll)(".e-"+t.id+"_nav."+w,t),s=(0,n.selectAll)("."+T,t);[].slice.call(s).forEach((function(e){(0,n.detach)(e)}));for(var r=0,l=[].slice.call(this.scrollItems.children);r<l.length;r++){var o=l[r];t.appendChild(o)}this.uniqueId&&this.element.removeAttribute("id"),(0,n.detach)(this.scrollEle),i.length>0&&((0,n.detach)(i[0]),(0,n.isNullOrUndefined)(i[1])||(0,n.detach)(i[1])),n.EventHandler.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,e.prototype.destroy.call(this)},t.prototype.disable=function(e){var t=(0,n.selectAll)(".e-scroll-nav:not(."+E+")",this.element);e?this.element.classList.add(E):this.element.classList.remove(E),[].slice.call(t).forEach((function(t){t.setAttribute("tabindex",e?"-1":"0")}))},t.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),i=(0,n.createElement)("div",{className:T+" "+D}),s="e-"+e.id.concat("_nav "+w+" "+k),r=(0,n.createElement)("div",{id:t.concat("down"),className:s}),l=(0,n.createElement)("div",{className:O+" "+x+" e-icons"});r.appendChild(l);var o=(0,n.createElement)("div",{className:T+" "+P});this.ieCheck&&r.classList.add("e-ie-align"),e.appendChild(i),e.appendChild(r),e.insertBefore(o,e.firstChild),this.eventBinding([r])},t.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav "+w+" "+k),s=(0,n.createElement)("div",{id:t.concat("_down"),className:i});s.setAttribute("aria-disabled","false");var r=(0,n.createElement)("div",{className:O+" "+x+" e-icons"}),l="e-"+e.id.concat("_nav "+w+" "+L),o=(0,n.createElement)("div",{id:t.concat("_up"),className:l+" "+E});o.setAttribute("aria-disabled","true");var a=(0,n.createElement)("div",{className:N+" "+x+" e-icons"});o.appendChild(a),s.appendChild(r),s.setAttribute("tabindex","0"),e.appendChild(s),e.insertBefore(o,e.firstChild),this.ieCheck&&(s.classList.add("e-ie-align"),o.classList.add("e-ie-align")),this.eventBinding([s,o])},t.prototype.onKeyPress=function(e){var t=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout((function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)}),100))},t.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},t.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach((function(e){new n.Touch(e,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),e.addEventListener("keydown",t.onKeyPress.bind(t)),e.addEventListener("keyup",t.onKeyUp.bind(t)),e.addEventListener("mouseup",t.repeatScroll.bind(t)),e.addEventListener("touchend",t.repeatScroll.bind(t)),e.addEventListener("contextmenu",(function(e){e.preventDefault()})),n.EventHandler.add(e,"click",t.clickEventHandler,t)}))},t.prototype.repeatScroll=function(){clearInterval(this.timeout)},t.prototype.tabHoldHandler=function(e){var t=this,i=e.originalEvent.target;i=this.contains(i,w)?i.firstElementChild:i,this.timeout=window.setInterval((function(){t.eleScrolling(10,i,!0)}),50)},t.prototype.contains=function(e,t){return e.classList.contains(t)},t.prototype.eleScrolling=function(e,t,i){var s=t.classList;s.contains(w)&&(s=t.querySelector("."+x).classList),s.contains(O)?this.frameScrollRequest(e,"add",i):s.contains(N)&&this.frameScrollRequest(e,"",i)},t.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},t.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},t.prototype.swipeHandler=function(e){var t,i=this.scrollEle;t=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var s=.5,n=function(){var r=Math.sin(s);r<=0?window.cancelAnimationFrame(r):("Up"===e.swipeDirection?i.scrollTop+=t*r:"Down"===e.swipeDirection&&(i.scrollTop-=t*r),s-=.02,window.requestAnimationFrame(n))};n()},t.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},t.prototype.frameScrollRequest=function(e,t,i){var s=this;if(i)this.scrollUpdating(e,t);else{this.customStep||[].slice.call((0,n.selectAll)("."+T,this.element)).forEach((function(t){e-=t.offsetHeight}));var r=function(){e<10?window.cancelAnimationFrame(10):(s.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(r))};r()}},t.prototype.touchHandler=function(e){var t=this.scrollEle,i=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+i:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-i)},t.prototype.arrowDisabling=function(e,t){if(this.isDevice){var i=((0,n.isNullOrUndefined)(e)?t:e).querySelector("."+x);(0,n.isNullOrUndefined)(e)?(0,n.classList)(i,[O],[N]):(0,n.classList)(i,[N],[O])}else e.classList.add(E),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(E),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},t.prototype.scrollEventHandler=function(e){var t=e.target,i=t.offsetHeight,s=this.element.querySelector("."+L),n=this.element.querySelector("."+k),r=this.element.querySelector("."+P),l=this.element.querySelector("."+D),o=t.scrollTop;if(o<=0&&(o=-o),this.isDevice&&(r.style.height=o<40?o+"px":"40px",t.scrollHeight-Math.ceil(i+o)<40?l.style.height=t.scrollHeight-Math.ceil(i+o)+"px":l.style.height="40px"),0===o)this.arrowDisabling(s,n);else if(Math.ceil(i+o+.1)>=t.scrollHeight)this.arrowDisabling(n,s);else{var a=this.element.querySelector("."+w+"."+E);a&&(a.classList.remove(E),a.setAttribute("aria-disabled","false"),a.setAttribute("tabindex","0"))}},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(I):this.element.classList.remove(I)}},S([(0,n.Property)(null)],t.prototype,"scrollStep",void 0),S([n.NotifyPropertyChanges],t)}(n.Component);function H(e,t,i,s,n,r){var l,o,a=t.parentElement;if("vscroll"===s?(l=r||t.getBoundingClientRect().height,o=i.getBoundingClientRect().height):(l=t.getBoundingClientRect().width,o=i.getBoundingClientRect().width),l<o)return U(e,t,i,s,n,r);if(a){var d=a.getBoundingClientRect().width;return d<l&&"hscroll"===s?(o=d,t.style.maxWidth=d+"px",U(e,t,i,s,n,r)):i}return i}function U(e,t,i,s,r,l){var o=e("div",{className:"e-menu-"+s});return t.appendChild(o),o.appendChild(i),l?(o.style.overflow="hidden",o.style.height=l+"px"):(o.style.maxHeight=t.style.maxHeight,t.style.overflow="hidden"),"vscroll"===s?new M({enableRtl:r},o).scrollStep=(0,n.select)(".e-"+s+"-bar",t).offsetHeight/2:new b({enableRtl:r},o).scrollStep=(0,n.select)(".e-"+s+"-bar",t).offsetWidth,o}function R(e,t,i){if(e){var s=(0,n.select)(".e-menu-parent",t);s?i&&i!==s||(e.destroy(),t.parentElement.appendChild(s),(0,n.detach)(t)):(e.destroy(),(0,n.detach)(t))}}var B,j=i(5369),q=i(1243),W=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),F=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},V="enter",_="escape",z="e-focused",X="e-menu-header",K="e-selected",Y="e-separator",G="uparrow",Q="downarrow",J="leftarrow",Z="rightarrow",$="home",ee="end",te="tab",ie="e-caret",se="e-menu-item",ne="e-disabled",re="e-menu-hide",le="e-icons",oe="e-rtl",ae="e-menu-popup",de=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),F([(0,n.Property)("id")],t.prototype,"itemId",void 0),F([(0,n.Property)("parentId")],t.prototype,"parentId",void 0),F([(0,n.Property)("text")],t.prototype,"text",void 0),F([(0,n.Property)("iconCss")],t.prototype,"iconCss",void 0),F([(0,n.Property)("url")],t.prototype,"url",void 0),F([(0,n.Property)("separator")],t.prototype,"separator",void 0),F([(0,n.Property)("items")],t.prototype,"children",void 0),t}(n.ChildProperty),he=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),F([(0,n.Property)(null)],t.prototype,"iconCss",void 0),F([(0,n.Property)("")],t.prototype,"id",void 0),F([(0,n.Property)(!1)],t.prototype,"separator",void 0),F([(0,n.Collection)([],t)],t.prototype,"items",void 0),F([(0,n.Property)("")],t.prototype,"text",void 0),F([(0,n.Property)("")],t.prototype,"url",void 0),t}(n.ChildProperty),ce=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return W(t,e),F([(0,n.Property)("SlideDown")],t.prototype,"effect",void 0),F([(0,n.Property)(400)],t.prototype,"duration",void 0),F([(0,n.Property)("ease")],t.prototype,"easing",void 0),t}(n.ChildProperty),pe=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.navIdx=[],s.animation=new n.Animation({}),s.isTapHold=!1,s.tempItem=[],s.showSubMenuOn="Auto",s}return W(t,e),t.prototype.preRender=function(){if(!this.isMenu){var e=void 0;if("EJS-CONTEXTMENU"===this.element.tagName){e=this.createElement("ul",{id:(0,n.getUniqueID)(this.getModuleName()),className:"e-control e-lib e-"+this.getModuleName()});var t=(0,n.getValue)("ej2_instances",this.element);(0,n.removeClass)([this.element],["e-control","e-lib","e-"+this.getModuleName()]),this.clonedElement=this.element,this.element=e,(0,n.setValue)("ej2_instances",t,this.element)}else{e=this.createElement("ul",{id:(0,n.getUniqueID)(this.getModuleName())}),(0,n.append)([].slice.call(this.element.cloneNode(!0).children),e);var i=this.element.nextElementSibling;i?this.element.parentElement.insertBefore(e,i):this.element.parentElement.appendChild(e),this.clonedElement=e}this.clonedElement.style.display="none"}if("EJS-MENU"===this.element.tagName){for(var s=this.element,r=(0,n.getValue)("ej2_instances",s),l=(e=this.createElement("ul"),this.createElement("EJS-MENU",{className:"e-"+this.getModuleName()+"-wrapper"})),o=0,a=s.attributes.length;o<a;o++)e.setAttribute(s.attributes[o].nodeName,s.attributes[o].nodeValue);s.parentNode.insertBefore(l,s),(0,n.detach)(s),s=e,l.appendChild(s),(0,n.setValue)("ej2_instances",r,s),this.clonedElement=l,this.element=s,this.element.id||(this.element.id=(0,n.getUniqueID)(this.getModuleName()))}},t.prototype.render=function(){var e=this;this.initialize(),this.renderItems(),this.wireEvents(),this.renderComplete();var t=this.getWrapper();this.template&&this.enableScrolling&&(this.isReact||this.isAngular)&&requestAnimationFrame((function(){H(e.createElement,t,e.element,"hscroll",e.enableRtl)}))},t.prototype.initialize=function(){var e=this.getWrapper();e||(e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.isMenu?this.element.parentElement.insertBefore(e,this.element):document.body.appendChild(e)),this.cssClass&&(0,n.addClass)([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.enableRtl&&e.classList.add(oe),e.appendChild(this.element),this.isMenu&&this.hamburgerMode&&(this.target||this.createHeaderContainer(e)),this.defaultOption=this.showItemOnClick},t.prototype.renderItems=function(){if(!this.items.length){var e=j.ListBase.createJsonFromElement(this.element,{fields:{child:"items"}});this.setProperties({items:e},!0),(0,n.isBlazor)()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML=""}var t=this.createItems(this.items);if((0,n.append)(Array.prototype.slice.call(t.children),this.element),this.element.classList.add("e-menu-parent"),this.isMenu){if(!this.hamburgerMode&&this.element.classList.contains("e-vertical")&&this.setBlankIconStyle(this.element),this.enableScrolling){var i=this.getWrapper();this.element.classList.contains("e-vertical")?H(this.createElement,i,this.element,"vscroll",this.enableRtl):H(this.createElement,i,this.element,"hscroll",this.enableRtl)}}else this.element.parentElement.setAttribute("role","dialog"),this.element.parentElement.setAttribute("aria-label","context menu")},t.prototype.wireEvents=function(){var e=this.getWrapper();if(this.target){for(var t=void 0,i=(0,n.selectAll)(this.target),s=0,r=i.length;s<r;s++)t=i[s],this.isMenu?n.EventHandler.add(t,"click",this.menuHeaderClickHandler,this):n.Browser.isIos?new n.Touch(t,{tapHold:this.touchHandler.bind(this)}):n.EventHandler.add(t,"contextmenu",this.cmenuHandler,this);if(this.targetElement=t,!this.isMenu){n.EventHandler.add(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler,this);for(var l=0,o=(0,q.getScrollableParent)(this.targetElement);l<o.length;l++){var a=o[l];n.EventHandler.add(a,"mousewheel DOMMouseScroll",this.scrollHandler,this)}}}n.Browser.isDevice||(this.delegateMoverHandler=this.moverHandler.bind(this),this.delegateMouseDownHandler=this.mouseDownHandler.bind(this),n.EventHandler.add(this.isMenu?document:e,"mouseover",this.delegateMoverHandler,this),n.EventHandler.add(document,"mousedown",this.delegateMouseDownHandler,this)),this.delegateClickHandler=this.clickHandler.bind(this),n.EventHandler.add(document,"click",this.delegateClickHandler,this),this.wireKeyboardEvent(e),this.rippleFn=(0,n.rippleEffect)(e,{selector:"."+se})},t.prototype.wireKeyboardEvent=function(e){var t={downarrow:Q,uparrow:G,enter:V,leftarrow:J,rightarrow:Z,escape:_};this.isMenu&&(t.home=$,t.end=ee,t.tab=te),new n.KeyboardEvents(e,{keyAction:this.keyBoardHandler.bind(this),keyConfigs:t})},t.prototype.mouseDownHandler=function(e){(0,n.closest)(e.target,".e-"+this.getModuleName()+"-wrapper")===this.getWrapper()||(0,n.closest)(e.target,".e-"+this.getModuleName()+"-popup")||this.closeMenu(this.isMenu?null:this.navIdx.length,e)},t.prototype.keyHandler=function(e){38!==e.keyCode&&40!==e.keyCode||e.target&&(e.target.classList.contains("e-contextmenu")||e.target.classList.contains("e-menu-item"))&&e.preventDefault()},t.prototype.keyBoardHandler=function(e){var t="",i=e.target,s=this.isMenu&&!this.hamburgerMode&&!this.element.classList.contains("e-vertical")&&this.navIdx.length<1;if(e.preventDefault(),this.enableScrolling&&13===e.keyCode&&i.classList.contains("e-scroll-nav")&&this.removeLIStateByClass([z,K],[(0,n.closest)(i,".e-"+this.getModuleName()+"-wrapper")]),s)switch(e.action){case Z:t=Z,e.action=Q;break;case J:t=J,e.action=G;break;case Q:t=Q,e.action=Z;break;case G:t=G,e.action=""}else if(this.enableRtl)switch(e.action){case J:s=!0,t=J,e.action=Z;break;case Z:s=!0,t=Z,e.action=J}switch(e.action){case Q:case G:case ee:case $:case te:this.upDownKeyHandler(e);break;case Z:this.rightEnterKeyHandler(e);break;case J:this.leftEscKeyHandler(e);break;case V:this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):this.rightEnterKeyHandler(e);break;case _:this.leftEscKeyHandler(e)}s&&(e.action=t)},t.prototype.upDownKeyHandler=function(e){var t=this.getUlByNavIdx(),i=e.action===Q||e.action===$||e.action===te?0:t.childElementCount-1,s=i,n=this.getLIByClass(t,z);n&&(e.action!==ee&&e.action!==$&&(s=this.getIdx(t,n)),n.classList.remove(z),e.action!==ee&&e.action!==$&&(e.action===Q?s++:s--,s===(e.action===Q?t.childElementCount:-1)&&(s=i)));var r=t.children[s];s=this.isValidLI(r,s,e.action),t.children[s].classList.add(z),t.children[s].focus()},t.prototype.isValidLI=function(e,t,i){var s=this.getUlByNavIdx(),n=i===Q||i===$||i===te?0:s.childElementCount-1;return(e.classList.contains(Y)||e.classList.contains(ne)||e.classList.contains(re))&&(i===Q&&t===s.childElementCount-1||i===G&&0===t?t=n:i===Q||i===Z?t++:t--),((e=s.children[t]).classList.contains(Y)||e.classList.contains(ne)||e.classList.contains(re))&&(t=this.isValidLI(e,t,i)),t},t.prototype.getUlByNavIdx=function(e){var t=this;if(void 0===e&&(e=this.navIdx.length),this.isMenu){var i=[this.getWrapper()].concat([].slice.call((0,n.selectAll)("."+ae)))[e],s=[];return(0,n.selectAll)("."+ae).forEach((function(e){(t.element.id===e.id.split("-")[2]||e.id.split("-")[2]+"-"+e.id.split("-")[3])&&s.push(e)})),i=[this.getWrapper()].concat([].slice.call(s))[e],(0,n.isNullOrUndefined)(i)?null:(0,n.select)(".e-menu-parent",i)}return this.getWrapper().children[e]},t.prototype.rightEnterKeyHandler=function(e){var t,i=this.getUlByNavIdx(),s=this.getLIByClass(i,z);if(s){var n=this.getIdx(i,s),r=this.navIdx.concat(n),l=this.getItem(r);if(l.items.length)this.navIdx.push(n),this.keyType="right",this.action=e.action,this.openMenu(s,l,-1,-1,e);else if(e.action===V){this.isMenu&&0===this.navIdx.length?this.removeLIStateByClass([K],[this.getWrapper()]):s.classList.remove(z),s.classList.add(K),t={element:s,item:l,event:e},this.trigger("select",t);var o=s.querySelector(".e-menu-url");if(l.url&&o)switch(o.getAttribute("target")){case"_blank":window.open(l.url,"_blank");break;case"_parent":window.parent.location.href=l.url;break;default:window.location.href=l.url}this.closeMenu(null,e);var a=this.getLIByClass(this.getUlByNavIdx(),K);a&&(a.classList.add(z),a.focus())}}},t.prototype.leftEscKeyHandler=function(e){this.navIdx.length?(this.keyType="left",this.closeMenu(this.navIdx.length,e)):e.action===_&&this.closeMenu(null,e)},t.prototype.scrollHandler=function(e){this.closeMenu(null,e)},t.prototype.touchHandler=function(e){this.isTapHold=!0,this.cmenuHandler(e.originalEvent)},t.prototype.cmenuHandler=function(e){e.preventDefault(),this.currentTarget=e.target,this.isCMenu=!0,this.pageX=e.changedTouches?e.changedTouches[0].pageX+1:e.pageX+1,this.pageY=e.changedTouches?e.changedTouches[0].pageY+1:e.pageY+1,this.closeMenu(null,e),this.isCMenu&&(this.canOpen(e.target)&&this.openMenu(null,null,this.pageY,this.pageX,e),this.isCMenu=!1)},t.prototype.closeMenu=function(e,t,i){var s=this;if(void 0===e&&(e=0),void 0===t&&(t=null),this.isMenuVisible()){var r,l,o=void 0,a=this.getWrapper(),d=void 0,h=this.getPopups(),c=!1,p=this.isMenu?h.length+1:a.childElementCount,u=this.isMenu&&1!==p?(0,n.select)(".e-ul",h[p-2]):(0,n.selectAll)(".e-menu-parent",a)[p-1];if(this.isMenu&&u.classList.contains("e-menu")&&((o=this.getLIByClass(u,K))&&o.classList.remove(K),c=!0),!c){var f=t&&t.target&&this.getLI(t.target);this.cli=f||u.children[0],r=this.navIdx.length?this.getItem(this.navIdx):null,l=r?r.items:this.items,d={element:u,parentItem:r,items:l,event:t,cancel:!1,isFocused:!0},this.trigger("beforeClose",d,(function(o){var d,h,c,p,m,v,g="",y=!o.cancel;(y||s.isCMenu)&&(s.isMenu?(d=(0,n.closest)(u,"."+ae),s.hamburgerMode&&(d.parentElement.style.minHeight="",(0,n.closest)(u,".e-menu-item").setAttribute("aria-expanded","false")),s.unWireKeyboardEvent(d),R((0,n.getInstance)(d.children[0],M),d.children[0]),(c=(0,n.getInstance)(d,q.Popup)).hide(),g=d.id,c.destroy(),(0,n.detach)(d)):s.toggleAnimation(u,!1),h={element:u,parentItem:r,items:l},s.trigger("onClose",h),s.navIdx.pop(),0===s.navIdx.length&&t&&"keyup"===t.type&&(s.showSubMenu=!1),s.isMenu||(n.EventHandler.remove(u,"keydown",s.keyHandler),"right"===s.keyType&&(s.keyType=""))),s.updateReactTemplate();var b=s.getWrapper()&&s.getUlByNavIdx();s.isCMenu&&(s.canOpen(t.target)&&s.openMenu(null,null,s.pageY,s.pageX,t),s.isCMenu=!1),s.isMenu&&b&&g.length?(p=new RegExp("(.*)-ej2menu-"+s.element.id+"-popup").exec(g)[1],m=b.querySelector('[id="'+p+'"]'),v=f&&b.querySelector('[id="'+f.id+'"]')):b&&(m=b.querySelector(".e-menu-item.e-selected"),v=f&&b.querySelector('[id="'+f.id+'"]'));var C=f&&f.querySelectorAll(".e-menu-item");if(y&&s.hamburgerMode&&e&&!C.length)s.afterCloseMenu(t);else if(y&&!s.hamburgerMode&&m&&!v&&"left"!==s.keyType&&(s.navIdx.length||!s.isMenu&&0===s.navIdx.length)){var S=t&&(t.target.classList.contains("e-vscroll")||t.target.classList.contains("e-scroll-nav"))?(0,n.closest)(t.target,".e-menu-wrapper"):null;S?(S=S.querySelector(".e-menu-item"),(s.showItemOnClick||S&&s.getIndex(S.id,!0).length<=s.navIdx.length)&&s.closeMenu(s.navIdx[s.navIdx.length-1],t,!0)):t&&t.target.classList.contains("e-nav-arrow")||s.closeMenu(s.navIdx[s.navIdx.length-1],t)}else if(y&&!i&&!e&&(s.hamburgerMode&&s.navIdx.length||1===s.navIdx.length&&f&&b!==f.parentElement))s.closeMenu(null,t);else if(y&&(0,n.isNullOrUndefined)(e)&&s.navIdx.length)s.closeMenu(null,t);else if(!y||s.isMenu||e||0!==s.navIdx.length||s.isMenusClosed)if(y&&s.isMenu&&t&&t.target&&0!==s.navIdx.length&&(0,n.closest)(t.target,".e-menu-parent.e-control"))s.closeMenu(0,t);else if(y&&!s.isMenu&&(0,n.selectAll)(".e-menu-parent",a)[e-1]&&3===t.which)s.closeMenu(null,t);else{if(!y||"right"!==s.keyType&&"click"!==s.keyType){var I=s.getUlByNavIdx(),E=s.getLIByClass(I,K);if(E&&(E.setAttribute("aria-expanded","false"),E.classList.remove(K),(o.isFocused&&f||"left"===s.keyType)&&(E.classList.add(z),t.target&&t.target.classList.contains("e-edit-template")||E.focus())),!y&&s.hamburgerMode&&f&&"false"===f.getAttribute("aria-expanded")&&"true"===f.getAttribute("aria-haspopup")){(0,n.closest)(f,".e-menu-parent.e-control")?s.navIdx=[]:s.navIdx.pop(),s.navIdx.push(s.cliIdx);var x=s.getItem(s.navIdx);f.setAttribute("aria-expanded","true"),s.openMenu(f,x,-1,-1,t)}}else s.afterCloseMenu(t);s.navIdx.length<1&&("Hover"!==s.showSubMenuOn&&"Click"!==s.showSubMenuOn||(s.showItemOnClick=s.defaultOption,s.showSubMenuOn="Auto"))}else s.isMenusClosed=!0,s.closeMenu(0,t);s.removeStateWrapper()}))}}},t.prototype.updateReactTemplate=function(){if(this.isReact&&this.template&&0===this.navIdx.length){var e=this.portals.splice(0,this.items.length);this.clearTemplate(["template"]),this.portals=e,this.renderReactTemplates()}},t.prototype.getMenuItemModel=function(e,t){if((0,n.isNullOrUndefined)(e))return null;(0,n.isNullOrUndefined)(t)&&(t=0);var i=this.getFields(t);return{text:e[i.text],id:e[i.id],items:e[i.child],separator:e[i.separator],iconCss:e[i.iconCss],url:e[i.url]}},t.prototype.getPopups=function(){var e=this,t=[];return[].slice.call(document.querySelectorAll("."+ae)).forEach((function(i){!(0,n.isNullOrUndefined)(i.querySelector("."+se))&&e.getIndex(i.querySelector("."+se).id,!0).length&&t.push(i)})),t},t.prototype.isMenuVisible=function(){return this.navIdx.length>0||this.element.classList.contains("e-contextmenu")&&(0,n.isVisible)(this.element).valueOf()},t.prototype.canOpen=function(e){var t=!0;if(this.filter){t=!1;for(var i=this.filter.split(" "),s=0,r=i.length;s<r;s++)if((0,n.closest)(e,"."+i[s])){t=!0;break}}return t},t.prototype.openMenu=function(e,t,i,s,r,l){var o=this;void 0===i&&(i=0),void 0===s&&(s=0),void 0===r&&(r=null),void 0===l&&(l=this.targetElement);var a=this.getWrapper();this.lItem=e;var d=""!==this.element.id?this.element.id:"menu";if(this.isMenusClosed=!1,(0,n.isNullOrUndefined)(i)&&(i=-1),(0,n.isNullOrUndefined)(s)&&(s=-1),e){if(this.uList=this.createItems(t[this.getField("children",this.navIdx.length-1)]),!this.isMenu&&n.Browser.isDevice){a.lastChild.style.display="none";var h={text:t[this.getField("text")].toString(),iconCss:le+" e-previous"},c=new he(this.items[0],"items",h,!0),p=this.createItems([c]).children[0];p.classList.add(X),this.uList.insertBefore(p,this.uList.children[0])}this.isMenu?(this.popupWrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper "+ae,id:e.id+"-ej2menu-"+d+"-popup"}),this.hamburgerMode?(i=e.offsetHeight,e.appendChild(this.popupWrapper)):document.body.appendChild(this.popupWrapper),this.isNestedOrVertical=this.element.classList.contains("e-vertical")||1!==this.navIdx.length,this.popupObj=this.generatePopup(this.popupWrapper,this.uList,e,this.isNestedOrVertical),this.template&&this.renderReactTemplates(),this.hamburgerMode?this.calculateIndentSize(this.uList,e):(this.cssClass&&(0,n.addClass)([this.popupWrapper],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.popupObj.hide()),this.hamburgerMode||this.showItemOnClick||!this.hoverDelay?this.triggerBeforeOpen(e,this.uList,t,r,0,0,"menu"):(window.clearInterval(this.timer),this.timer=window.setTimeout((function(){o.triggerBeforeOpen(e,o.uList,t,r,0,0,"menu")}),this.hoverDelay))):(this.uList.style.zIndex=this.element.style.zIndex,a.appendChild(this.uList),!this.showItemOnClick&&this.hoverDelay?(window.clearInterval(this.timer),this.timer=window.setTimeout((function(){o.triggerBeforeOpen(e,o.uList,t,r,i,s,"none")}),this.hoverDelay)):this.triggerBeforeOpen(e,this.uList,t,r,i,s,"none"))}else if(this.uList=this.element,this.uList.style.zIndex=(0,q.getZindexPartial)(l||this.element).toString(),(0,n.isNullOrUndefined)(r)){var u=document.createEvent("MouseEvents");u.initEvent("click",!0,!1);var f=this.copyObject(u,{});f.target=f.srcElement=l,f.currentTarget=l,this.triggerBeforeOpen(e,this.uList,t,f,i,s,"none")}else this.triggerBeforeOpen(e,this.uList,t,r,i,s,"none")},t.prototype.copyObject=function(e,t){for(var i in e)t[""+i]=e[""+i];return t},t.prototype.calculateIndentSize=function(e,t){var i=getComputedStyle(t),s=parseInt(i.textIndent,10);this.navIdx.length<2&&!t.classList.contains("e-blankicon")?s*=2:s+=s/4,e.style.textIndent=s+"px";var n=e.querySelectorAll(".e-blankicon");if(n&&n.length)for(var r=e.querySelector(".e-menu-icon"),l=getComputedStyle(r),o=parseInt(l.marginRight,10)+r.offsetWidth+s,a=0;a<n.length;a++)n[a].style.textIndent=o+"px"},t.prototype.generatePopup=function(e,t,i,s){var r=this,l=new q.Popup(e,{actionOnScroll:this.hamburgerMode?"none":"reposition",relateTo:i,collision:this.hamburgerMode?{X:"none",Y:"none"}:{X:s||this.enableRtl?"none":"flip",Y:"fit"},position:s&&!this.hamburgerMode?{X:"right",Y:"top"}:{X:"left",Y:"bottom"},targetType:"relative",enableRtl:this.enableRtl,content:t,open:function(){var e=(0,n.select)(".e-menu-vscroll",l.element);e&&(e.style.height="inherit",e.style.maxHeight="");var t=(0,n.select)(".e-ul",l.element);l.element.style.maxHeight="",t.focus(),r.triggerOpen(t)}});return l},t.prototype.createHeaderContainer=function(e){e=e||this.getWrapper();var t=this.createElement("span",{className:"e-"+this.getModuleName()+"-header"}),i=this.enableHtmlSanitizer?n.SanitizeHtmlHelper.sanitize(this.title):this.title,s=this.createElement("span",{className:"e-"+this.getModuleName()+"-title",innerHTML:i}),r=this.createElement("span",{className:"e-icons e-"+this.getModuleName()+"-icon",attrs:{tabindex:"0"}});t.appendChild(s),t.appendChild(r),e.insertBefore(t,this.element)},t.prototype.openHamburgerMenu=function(e){this.hamburgerMode&&this.triggerBeforeOpen(null,this.element,null,e,0,0,"hamburger")},t.prototype.closeHamburgerMenu=function(e){var t=this,i={element:this.element,parentItem:null,event:e,items:this.items,cancel:!1};this.trigger("beforeClose",i,(function(i){i.cancel||(t.closeMenu(null,e),t.element.classList.add("e-hide-menu"),t.trigger("onClose",{element:t.element,parentItem:null,items:t.items}))}))},t.prototype.callFit=function(e,t,i,s,n){return(0,q.fit)(e,null,{X:t,Y:i},{top:s,left:n})},t.prototype.triggerBeforeOpen=function(e,t,i,s,r,l,o){var a=this,d=e?i[this.getField("children",this.navIdx.length-1)]:this.items,h={element:t,items:d,parentItem:i,event:s,cancel:!1,top:r,left:l,showSubMenuOn:"Auto"},c=o;this.trigger("beforeOpen",h,(function(r){switch(c){case"menu":a.hamburgerMode||("Auto"!==r.showSubMenuOn&&(a.showItemOnClick=!a.defaultOption,a.showSubMenuOn=r.showSubMenuOn),a.top=r.top,a.left=r.left),a.popupWrapper.style.display="block",a.hamburgerMode||(a.popupWrapper.style.maxHeight=a.popupWrapper.getBoundingClientRect().height+"px",a.enableScrolling&&H(a.createElement,a.popupWrapper,a.uList,"vscroll",a.enableRtl),a.checkScrollOffset(s)),a.hamburgerMode||a.left||a.top?(a.popupObj.collision={X:"none",Y:"none"},a.popupWrapper.style.display=""):(a.popupObj.refreshPosition(a.lItem,!0),a.left=parseInt(a.popupWrapper.style.left,10),a.top=parseInt(a.popupWrapper.style.top,10),a.enableRtl&&(a.left=a.isNestedOrVertical?a.left-a.popupWrapper.offsetWidth-a.lItem.parentElement.offsetWidth+2:a.left-a.popupWrapper.offsetWidth+a.lItem.offsetWidth),a.template&&(a.isReact||a.isAngular)?requestAnimationFrame((function(){a.collision(),a.popupWrapper.style.display=""})):(a.collision(),a.popupWrapper.style.display=""));break;case"none":a.top=r.top,a.left=r.left;break;case"hamburger":r.cancel||(a.element.classList.remove("e-hide-menu"),a.triggerOpen(a.element))}if("hamburger"!==c)if(r.cancel)a.isMenu?(a.popupObj.destroy(),(0,n.detach)(a.popupWrapper)):t.className.indexOf("e-ul")>-1&&(0,n.detach)(t),a.navIdx.pop();else if(a.isMenu)if(a.hamburgerMode)a.popupWrapper.style.top=a.top+"px",a.popupWrapper.style.left="0px",a.toggleAnimation(a.popupWrapper);else{a.setBlankIconStyle(a.popupWrapper),a.wireKeyboardEvent(a.popupWrapper),(0,n.rippleEffect)(a.popupWrapper,{selector:"."+se}),a.popupWrapper.style.left=a.left+"px",a.popupWrapper.style.top=a.top+"px";var l="None"!==a.animationSettings.effect?{name:a.animationSettings.effect,duration:a.animationSettings.duration,timingFunction:a.animationSettings.easing}:null;a.popupObj.show(l,a.lItem)}else a.setBlankIconStyle(a.uList),a.setPosition(a.lItem,a.uList,a.top,a.left),a.toggleAnimation(a.uList);if("right"===a.keyType){var o=a.getUlByNavIdx();if(e.classList.remove(z),a.isMenu&&1===a.navIdx.length&&a.removeLIStateByClass([K],[a.getWrapper()]),e.classList.add(K),a.action===V){var d={element:e,item:i,event:s};a.trigger("select",d)}e.focus(),o=a.getUlByNavIdx();var h=a.isValidLI(o.children[0],0,a.action);o.children[h].classList.add(z),o.children[h].focus()}}))},t.prototype.collision=function(){var e;if(e=(0,q.isCollide)(this.popupWrapper,null,this.left,this.top),(this.isNestedOrVertical||this.enableRtl)&&(e.indexOf("right")>-1||e.indexOf("left")>-1)){this.popupObj.collision.X="none";var t=(0,n.closest)(this.lItem,".e-"+this.getModuleName()+"-wrapper").offsetWidth;this.left=this.enableRtl?(0,q.calculatePosition)(this.lItem,this.isNestedOrVertical?"right":"left","top").left:this.left-this.popupWrapper.offsetWidth-t+2}((e=(0,q.isCollide)(this.popupWrapper,null,this.left,this.top)).indexOf("left")>-1||e.indexOf("right")>-1)&&(this.left=this.callFit(this.popupWrapper,!0,!1,this.top,this.left).left),this.popupWrapper.style.left=this.left+"px"},t.prototype.setBlankIconStyle=function(e){var t=[].slice.call(e.getElementsByClassName("e-blankicon"));if(t.length){var i=e.querySelector(".e-menu-item:not(.e-blankicon):not(.e-separator)");if(i){var s=i.querySelector(".e-menu-icon");if(s){var n=this.enableRtl?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"},r=getComputedStyle(s),l=parseInt(r.fontSize,10);parseInt(r.width,10)&&parseInt(r.width,10)>l&&(l=parseInt(r.width,10));var o=l+parseInt(r[n.margin],10)+parseInt(getComputedStyle(i)[n.padding],10)+"px";t.forEach((function(e){e.style[n.padding]=o}))}}}},t.prototype.checkScrollOffset=function(e){var t=this.getWrapper();if(t.children[0].classList.contains("e-menu-hscroll")&&1===this.navIdx.length){var i=(0,n.isNullOrUndefined)(e)?this.element:(0,n.closest)(e.target,"."+se),s=(0,n.select)(".e-hscroll-bar",t);s.scrollLeft>i.offsetLeft&&(s.scrollLeft-=s.scrollLeft-i.offsetLeft);var r=s.scrollLeft+s.offsetWidth,l=i.offsetLeft+i.offsetWidth;r<l&&(s.scrollLeft+=l-r)}},t.prototype.setPosition=function(e,t,i,s){var r="px";if(this.toggleVisiblity(t),t===this.element||s>-1&&i>-1){if((d=(0,q.isCollide)(t,null,s,i)).indexOf("right")>-1&&(s-=t.offsetWidth),d.indexOf("bottom")>-1&&(i=(o=this.callFit(t,!1,!0,i,s)).top-20)<0){var l=pageYOffset+document.documentElement.clientHeight-t.getBoundingClientRect().height;l>-1&&(i=l)}(d=(0,q.isCollide)(t,null,s,i)).indexOf("left")>-1&&(s=(o=this.callFit(t,!0,!1,i,s)).left)}else if(n.Browser.isDevice)i=Number(this.element.style.top.replace(r,"")),s=Number(this.element.style.left.replace(r,""));else{var o,a=this.enableRtl?"left":"right";i=(o=(0,q.calculatePosition)(e,a,"top")).top,s=o.left;var d,h=(d=(0,q.isCollide)(t,null,this.enableRtl?s-t.offsetWidth:s,i)).indexOf("left")>-1||d.indexOf("right")>-1;h&&(s=(o=(0,q.calculatePosition)(e,this.enableRtl?"right":"left","top")).left),(this.enableRtl||h)&&(s=this.enableRtl&&h?s:s-t.offsetWidth),d.indexOf("bottom")>-1&&(i=(o=this.callFit(t,!1,!0,i,s)).top)}this.toggleVisiblity(t,!1),t.style.top=i+r,t.style.left=s+r},t.prototype.toggleVisiblity=function(e,t){void 0===t&&(t=!0),e.style.visibility=t?"hidden":"",e.style.display=t?"block":"none"},t.prototype.createItems=function(e){var t=this,i=this.navIdx?this.navIdx.length:0,s=this.getFields(i),r=this.hasField(e,this.getField("iconCss",i)),l={showIcon:r,moduleName:"menu",fields:s,template:this.template,itemNavigable:!0,itemCreating:function(e){e.curData[e.fields[s.id]]||(e.curData[e.fields[s.id]]=(0,n.getUniqueID)("menuitem")),(0,n.isNullOrUndefined)(e.curData.htmlAttributes)&&(e.curData.htmlAttributes={}),n.Browser.isIE?(e.curData.htmlAttributes.role="menuitem",e.curData.htmlAttributes.tabindex="-1"):Object.assign(e.curData.htmlAttributes,{role:"menuitem",tabindex:"-1"}),t.isMenu&&!e.curData[t.getField("separator",i)]&&(e.curData.htmlAttributes["aria-label"]=e.curData[e.fields.text]?e.curData[e.fields.text]:e.curData[e.fields.id]),""===e.curData[e.fields[s.iconCss]]&&(e.curData[e.fields[s.iconCss]]=null)},itemCreated:function(e){if(e.curData[t.getField("separator",i)]&&(e.item.classList.add(Y),e.item.setAttribute("role","separator")),!r||e.curData[e.fields.iconCss]||e.curData[t.getField("separator",i)]||e.item.classList.add("e-blankicon"),e.curData[e.fields.child]&&e.curData[e.fields.child].length){var s=t.createElement("span",{className:le+" "+ie});e.item.appendChild(s),e.item.setAttribute("aria-haspopup","true"),e.item.setAttribute("aria-expanded","false"),e.item.classList.add("e-menu-caret-icon")}t.isMenu&&t.template&&(e.item.setAttribute("id",e.curData[e.fields.id].toString()),e.item.removeAttribute("data-uid"),e.item.classList.contains("e-level-1")&&e.item.classList.remove("e-level-1"),e.item.classList.contains("e-has-child")&&e.item.classList.remove("e-has-child"),e.item.removeAttribute("aria-level"));var n={item:e.curData,element:e.item};t.trigger("beforeItemRender",n)}};this.setProperties({items:this.items},!0),this.isMenu&&(l.templateID=this.element.id+"Template");var o=j.ListBase.createList(this.createElement,e,l,!this.template,this);return o.setAttribute("tabindex","0"),this.isMenu?o.setAttribute("role","menu"):o.setAttribute("role","menubar"),o},t.prototype.moverHandler=function(e){var t=e.target;this.liTrgt=t;var i=this.getLI(t),s=i?(0,n.closest)(i,".e-"+this.getModuleName()+"-wrapper"):this.getWrapper(),r=this.getWrapper(),l=new RegExp("-ej2menu-(.*)-popup"),o=!1;if(s){if((""!==s.id?l.exec(s.id)[1]:s.querySelector("ul").id)!==this.element.id){if(this.removeLIStateByClass([z,K],[this.getWrapper()]),!this.navIdx.length)return;o=!0}i&&(0,n.closest)(i,".e-"+this.getModuleName()+"-wrapper")&&!o?(this.removeLIStateByClass([z],this.isMenu?[s].concat(this.getPopups()):[s]),this.removeLIStateByClass([z],this.isMenu?[r].concat(this.getPopups()):[r]),i.classList.add(z),this.showItemOnClick||this.clickHandler(e)):this.isMenu&&this.showItemOnClick&&!o&&this.removeLIStateByClass([z],[s].concat(this.getPopups())),this.isMenu&&(this.showItemOnClick||t.parentElement===s||(0,n.closest)(t,".e-"+this.getModuleName()+"-popup")||i&&(!i||this.getIndex(i.id,!0).length)||"Hover"===this.showSubMenuOn?o&&!this.showItemOnClick&&this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e)):(this.removeLIStateByClass([z],[s]),this.navIdx.length&&(this.isClosed=!0,this.closeMenu(null,e))),this.isClosed||this.removeStateWrapper(),this.isClosed=!1)}},t.prototype.removeStateWrapper=function(){if(this.liTrgt){var e=(0,n.closest)(this.liTrgt,".e-menu-vscroll");"DIV"===this.liTrgt.tagName&&e&&this.removeLIStateByClass([z,K],[e])}},t.prototype.removeLIStateByClass=function(e,t){for(var i,s=function(s){e.forEach((function(e){(i=(0,n.select)("."+e,t[s]))&&i.classList.remove(e)}))},r=0;r<t.length;r++)s(r)},t.prototype.getField=function(e,t){void 0===t&&(t=0);var i=this.fields[""+e];return"string"==typeof i?i:i[t]?i[t].toString():i[i.length-1].toString()},t.prototype.getFields=function(e){return void 0===e&&(e=0),{id:this.getField("itemId",e),iconCss:this.getField("iconCss",e),text:this.getField("text",e),url:this.getField("url",e),child:this.getField("children",e),separator:this.getField("separator",e)}},t.prototype.hasField=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i][""+t])return!0;return!1},t.prototype.menuHeaderClickHandler=function(e){(0,n.closest)(e.target,".e-menu-wrapper").querySelector("ul.e-menu-parent").id===this.element.id&&(this.element.className.indexOf("e-hide-menu")>-1?this.openHamburgerMenu(e):this.closeHamburgerMenu(e))},t.prototype.clickHandler=function(e){if(this.isTapHold)this.isTapHold=!1;else{var t=this.getWrapper(),i=e.target,s=this.cli=this.getLI(i),r=new RegExp("-ej2menu-(.*)-popup"),l=s?(0,n.closest)(s,".e-"+this.getModuleName()+"-wrapper"):null,o=s&&l&&(this.isMenu?this.getIndex(s.id,!0).length>0:t.firstElementChild.id===l.firstElementChild.id);if(n.Browser.isDevice&&this.isMenu&&(this.removeLIStateByClass([z],[t].concat(this.getPopups())),this.mouseDownHandler(e)),s&&l&&this.isMenu){var a=l.id?r.exec(l.id)[1]:l.querySelector(".e-menu-parent").id;if(this.element.id!==a)return}if(o&&"click"===e.type&&!s.classList.contains(X)){this.setLISelected(s);var d=this.getIndex(s.id,!0),h={element:s,item:this.getItem(d),event:e};this.trigger("select",h)}if(o&&("mouseover"===e.type||n.Browser.isDevice||this.showItemOnClick)){var c=void 0;if(s.classList.contains(X))c=t.children[this.navIdx.length-1],this.toggleAnimation(c),(u=this.getLIByClass(c,K))&&u.classList.remove(K),(0,n.detach)(s.parentNode),this.navIdx.pop();else if(!s.classList.contains(Y)){this.showSubMenu=!0;var p=s.parentNode;if((0,n.isNullOrUndefined)(p))return;if(this.cliIdx=this.getIdx(p,s),this.isMenu||!n.Browser.isDevice){var u,f=this.isMenu?Array.prototype.indexOf.call([t].concat(this.getPopups()),(0,n.closest)(p,".e-"+this.getModuleName()+"-wrapper")):this.getIdx(t,p);this.navIdx[f]===this.cliIdx&&(this.showSubMenu=!1),f===this.navIdx.length||"mouseover"===e.type&&!this.showSubMenu||((u=this.getLIByClass(p,K))&&u.classList.remove(K),this.isClosed=!0,this.keyType="click",this.showItemOnClick&&this.setLISelected(s),this.closeMenu(f+1,e),this.showItemOnClick&&this.setLISelected(s))}this.isClosed||this.afterCloseMenu(e),this.isClosed=!1}}else if(this.isMenu&&"DIV"===i.tagName&&this.navIdx.length&&(0,n.closest)(i,".e-menu-vscroll")){var m=(0,n.closest)(i,"."+ae),v=Array.prototype.indexOf.call(this.getPopups(),m)+1;v<this.navIdx.length&&(this.closeMenu(v+1,e),m&&this.removeLIStateByClass([z,K],[m]))}else this.isMenu&&this.hamburgerMode&&"SPAN"===i.tagName&&i.classList.contains("e-menu-icon")?this.menuHeaderClickHandler(e):"UL"===i.tagName&&(this.isMenu?!i.parentElement.classList.contains("e-menu-wrapper")||this.getIndex(i.querySelector("."+se).id,!0).length:i.parentElement===t)||(s||this.removeLIStateByClass([K],[t]),s&&s.querySelector("."+ie)||this.closeMenu(null,e))}},t.prototype.afterCloseMenu=function(e){if(!(0,n.isNullOrUndefined)(e)){var t;if(this.showSubMenu){t=this.showItemOnClick&&0===this.navIdx.length?(0,n.closest)(e.target,".e-menu-parent.e-control"):(0,n.closest)(this.element,".e-menu-parent.e-control");var i=this.navIdx.concat(this.cliIdx),s=this.getItem(i);if(s&&s[this.getField("children",i.length-1)]&&s[this.getField("children",i.length-1)].length?(("mouseover"===e.type||n.Browser.isDevice&&this.isMenu)&&this.setLISelected(this.cli),(!this.hamburgerMode&&t||this.hamburgerMode&&"false"===this.cli.getAttribute("aria-expanded"))&&(this.cli.setAttribute("aria-expanded","true"),this.navIdx.push(this.cliIdx),this.openMenu(this.cli,s,null,null,e))):"mouseover"!==e.type&&this.closeMenu(null,e),!t){var r=this.getUlByNavIdx(),l=this.getLIByClass(r,K);l&&(l.setAttribute("aria-expanded","false"),l.classList.remove(K))}}this.keyType=""}},t.prototype.setLISelected=function(e){var t=this.getLIByClass(e.parentElement,K);t&&t.classList.remove(K),this.isMenu||e.classList.remove(z),e.classList.add(K)},t.prototype.getLIByClass=function(e,t){for(var i=0,s=e.children.length;i<s;i++)if(e.children[i].classList.contains(t))return e.children[i];return null},t.prototype.getItemIndex=function(e,t){var i;i="string"==typeof e?e:e.id;var s=!1!==t;return this.getIndex(i,s)},t.prototype.setItem=function(e,t,i){var s;s=i?t||e.id:t||e.text;var n=this.getIndex(s,i),r=this.getItem(n);Object.assign(r,e)},t.prototype.getItem=function(e){var t=(e=e.slice()).pop();return this.getItems(e)[t]},t.prototype.getItems=function(e){for(var t=this.items,i=0;i<e.length;i++)t=t[e[i]][this.getField("children",i)];return t},t.prototype.setItems=function(e,t){var i=this.getItems(t);i.splice(0,i.length);for(var s=0;s<e.length;s++)i.splice(s,0,e[s])},t.prototype.getIdx=function(e,t,i){void 0===i&&(i=!0);var s=Array.prototype.indexOf.call(e.children,t);return i&&e.children[0].classList.contains(X)&&s--,s},t.prototype.getLI=function(e){return"LI"===e.tagName&&e.classList.contains("e-menu-item")?e:(0,n.closest)(e,"li.e-menu-item")},t.prototype.updateItemsByNavIdx=function(){for(var e=this.items,t=0,i=0;i<this.navIdx.length&&(e=e[i].items);i++){t++;var s=this.getUlByNavIdx(t);if(!s)break;this.updateItem(s,e)}},t.prototype.removeChildElement=function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild);return e},t.prototype.onPropertyChanged=function(e,t){for(var i=this,s=this.getWrapper(),r=function(r){switch(r){case"cssClass":t.cssClass&&(0,n.removeClass)([s],t.cssClass.split(" ")),e.cssClass&&(0,n.addClass)([s],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":l.enableRtl?s.classList.add(oe):s.classList.remove(oe);break;case"showItemOnClick":l.unWireEvents(),l.showItemOnClick=e.showItemOnClick,l.wireEvents();break;case"enableScrolling":if(e.enableScrolling){var o;l.element.classList.contains("e-vertical")?H(l.createElement,s,l.element,"vscroll",l.enableRtl):H(l.createElement,s,l.element,"hscroll",l.enableRtl),l.getPopups().forEach((function(e){o=(0,n.select)(".e-ul",e),H(i.createElement,e,o,"vscroll",i.enableRtl)}))}else{var a=s.children[0];l.element.classList.contains("e-vertical")?R((0,n.getInstance)(a,M),a):R((0,n.getInstance)(a,b),a),s.style.overflow="",s.appendChild(l.element),l.getPopups().forEach((function(e){a=e.children[0],R((0,n.getInstance)(a,M),a),e.style.overflow=""}))}break;case"items":var d=void 0,h=void 0,c=void 0;if(l.isReact&&l.template&&l.clearTemplate(["template"]),Object.keys(t.items).length){var p=Object.keys(e.items);for(u=0;u<p.length;u++)(h=l.getChangedItemIndex(e,[],Number(p[u]))).length<=l.getWrapper().children.length&&(d=h.pop(),c=l.getItems(h),l.insertAfter([c[d]],c[d].text),l.removeItem(c,h,d),l.setItems(c,h)),h.length=0}else{if(l.updateItem(l.element,l.items),l.enableScrolling&&l.element.parentElement.classList.contains("e-custom-scroll")&&(l.element.classList.contains("e-vertical")?H(l.createElement,s,l.element,"vscroll",l.enableRtl):H(l.createElement,s,l.element,"hscroll",l.enableRtl)),!l.hamburgerMode)for(var u=1,f=s.childElementCount;u<f;u++)(0,n.detach)(s.lastElementChild);l.navIdx=[]}}},l=this,o=0,a=Object.keys(e);o<a.length;o++)r(a[o])},t.prototype.updateItem=function(e,t){if((0,n.isBlazor)()&&!this.isMenu)e=this.removeChildElement(e);else{if(this.enableScrolling){var i=this.getWrapper().children[0];this.element.classList.contains("e-vertical")?R((0,n.getInstance)(i,M),i):R((0,n.getInstance)(i,b),i)}e.innerHTML=""}[].slice.call(this.createItems(t).children).forEach((function(t){e.appendChild(t)}))},t.prototype.getChangedItemIndex=function(e,t,i){t.push(i);var s=Object.keys(e.items[i]).pop();if("items"===s){var n=e.items[i],r=Object.keys(n.items).pop();r&&this.getChangedItemIndex(n,t,Number(r))}else"isParentArray"===s&&t.length>1&&t.pop();return t},t.prototype.removeItem=function(e,t,i){e.splice(i,1);var s=this.getWrapper().children;t.length<s.length&&(0,n.detach)(s[t.length].children[i])},t.prototype.unWireEvents=function(e){void 0===e&&(e=this.target);var t=this.getWrapper();if(e){for(var i=void 0,s=void 0,r=(0,n.selectAll)(e),l=0,o=r.length;l<o;l++)i=r[l],this.isMenu?n.EventHandler.remove(i,"click",this.menuHeaderClickHandler):n.Browser.isIos?(s=(0,n.getInstance)(i,n.Touch))&&s.destroy():n.EventHandler.remove(i,"contextmenu",this.cmenuHandler);if(!this.isMenu){n.EventHandler.remove(this.targetElement,"mousewheel DOMMouseScroll",this.scrollHandler);for(var a=0,d=(0,q.getScrollableParent)(this.targetElement);a<d.length;a++){var h=d[a];n.EventHandler.remove(h,"mousewheel DOMMouseScroll",this.scrollHandler)}}}n.Browser.isDevice||(n.EventHandler.remove(this.isMenu?document:t,"mouseover",this.delegateMoverHandler),n.EventHandler.remove(document,"mousedown",this.delegateMouseDownHandler)),n.EventHandler.remove(document,"click",this.delegateClickHandler),this.unWireKeyboardEvent(t),this.rippleFn()},t.prototype.unWireKeyboardEvent=function(e){var t=(0,n.getInstance)(e,n.KeyboardEvents);t&&t.destroy()},t.prototype.toggleAnimation=function(e,t){var i,s,n=this;void 0===t&&(t=!0),"None"!==this.animationSettings.effect&&t?this.animation.animate(e,{name:this.animationSettings.effect,duration:this.animationSettings.duration,timingFunction:this.animationSettings.easing,begin:function(e){n.hamburgerMode?(s=e.element.parentElement,e.element.style.position="absolute",i=s.offsetHeight,e.element.style.maxHeight=e.element.offsetHeight+"px",s.style.maxHeight=""):(e.element.style.display="block",e.element.style.maxHeight=e.element.getBoundingClientRect().height+"px")},progress:function(e){n.hamburgerMode&&(s.style.minHeight=i+e.element.offsetHeight+"px")},end:function(e){n.hamburgerMode?(e.element.style.position="",e.element.style.maxHeight="",s.style.minHeight="",e.element.style.top="0px",e.element.children[0].focus(),n.triggerOpen(e.element.children[0])):n.end(e.element,t)}}):this.end(e,t)},t.prototype.triggerOpen=function(e){var t=this.navIdx.length?this.getItem(this.navIdx):null,i={element:e,parentItem:t,items:t?t.items:this.items};this.trigger("onOpen",i),this.isMenu||n.EventHandler.add(e,"keydown",this.keyHandler,this)},t.prototype.end=function(e,t){if(t)if(e.style.display="block",e.style.maxHeight="",this.triggerOpen(e),e.querySelector("."+z))e.querySelector("."+z).focus();else{var i=this.getWrapper().children[this.getIdx(this.getWrapper(),e)-1];this.currentTarget&&(this.currentTarget.classList.contains("e-numerictextbox")||this.currentTarget.classList.contains("e-textbox")||"INPUT"===this.currentTarget.tagName)||(i?i.querySelector("."+K).focus():this.element.focus())}else if(e===this.element){var s=this.getLIByClass(this.element,z);s&&s.classList.remove(z);var r=this.getLIByClass(this.element,K);r&&r.classList.remove(K),e.style.display="none"}else(0,n.detach)(e)},t.prototype.getPersistData=function(){return""},t.prototype.getWrapper=function(){return(0,n.closest)(this.element,".e-"+this.getModuleName()+"-wrapper")},t.prototype.getIndex=function(e,t,i,s,n,r){var l;void 0===i&&(i=this.items),void 0===s&&(s=[]),void 0===n&&(n=!1),void 0===r&&(r=0),r=n?r+1:0;for(var o=0,a=i.length;o<a;o++){if(l=i[o],(t?l[this.getField("itemId",r)]:l[this.getField("text",r)])===e){s.push(o);break}if(l[this.getField("children",r)]&&l[this.getField("children",r)].length){if(-1!==(s=this.getIndex(e,t,l[this.getField("children",r)],s,!0,r))[s.length-1]){s.unshift(o);break}o!==a-1&&s.pop()}else o===a-1&&s.push(-1)}return n||-1!==s[0]?s:[]},t.prototype.enableItems=function(e,t,i){var s,r,l;void 0===t&&(t=!0);for(var o,a=ne,d=0;d<e.length;d++){if(l=this.getIndex(e[d],i),this.navIdx.length){if(1!==l.length){o=!1;for(var h=0,c=l.length-1;h<c;h++)if(l[h]!==this.navIdx[h]){o=!0;break}if(o)continue}}else if(1!==l.length)continue;r=l.pop(),(s=this.getUlByNavIdx(l.length))&&!(0,n.isNullOrUndefined)(r)&&(t?this.isMenu?(s.children[r].classList.remove(a),s.children[r].removeAttribute("aria-disabled")):n.Browser.isDevice&&!s.classList.contains("e-contextmenu")?s.children[r+1].classList.remove(a):s.children[r].classList.remove(a):this.isMenu?(s.children[r].classList.add(a),s.children[r].setAttribute("aria-disabled","true")):n.Browser.isDevice&&!s.classList.contains("e-contextmenu")?s.children[r+1].classList.add(a):s.children[r].classList.add(a))}},t.prototype.showItems=function(e,t){this.showHideItems(e,!1,t)},t.prototype.hideItems=function(e,t){this.showHideItems(e,!0,t)},t.prototype.showHideItems=function(e,t,i){for(var s,n,r,l,o=0;o<e.length;o++)if(n=(r=this.getIndex(e[o],i)).pop(),s=this.getUlByNavIdx(r.length),l=this.getItems(r),s){var a=i?s.children[n].id:l[n].text.toString();t&&a===e[o]?s.children[n].classList.add(re):t||a!==e[o]||s.children[n].classList.remove(re)}},t.prototype.removeItems=function(e,t){for(var i,s,r,l=0;l<e.length;l++)i=(s=this.getIndex(e[l],t)).pop(),r=this.getItems(s),(0,n.isNullOrUndefined)(i)||this.removeItem(r,s,i)},t.prototype.insertAfter=function(e,t,i){this.insertItems(e,t,i)},t.prototype.insertBefore=function(e,t,i){this.insertItems(e,t,i,!1)},t.prototype.insertItems=function(e,t,i,s){var r,l,o,a,d;void 0===s&&(s=!0);for(var h=0;h<e.length;h++){l=(o=this.getIndex(t,i)).pop(),a=this.getItems(o),d=new he(a[0],"items",e[h],!0),a.splice(s?l+1:l,0,d);var c=this.isMenu?[this.getWrapper()].concat(this.getPopups()):[].slice.call(this.getWrapper().children);if(!(0,n.isNullOrUndefined)(l)&&o.length<c.length){l=s?l+1:l,r=this.createItems(a).children[l];var p=this.isMenu?(0,n.select)(".e-menu-parent",c[o.length]):c[o.length];p.insertBefore(r,p.children[l])}}},t.prototype.removeAttributes=function(){var e=this;["top","left","display","z-index"].forEach((function(t){e.element.style.removeProperty(t)})),["role","tabindex","class","style"].forEach((function(t){"class"===t&&e.element.classList.contains("e-menu-parent")&&e.element.classList.remove("e-menu-parent"),-1!==["class","style"].indexOf(t)&&e.element.getAttribute(t)||e.element.removeAttribute(t),e.isMenu&&"class"===t&&e.element.classList.contains("e-vertical")&&e.element.classList.remove("e-vertical")}))},t.prototype.destroy=function(){var t=this.getWrapper();if(t){if(this.unWireEvents(),this.isMenu)this.closeMenu(),(0,n.isBlazor)()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",this.removeAttributes(),t.parentNode.insertBefore(this.element,t),this.clonedElement=null;else{if(this.clonedElement.style.display="","EJS-CONTEXTMENU"===this.clonedElement.tagName)(0,n.addClass)([this.clonedElement],["e-control","e-lib","e-"+this.getModuleName()]),this.element=this.clonedElement;else if(this.refreshing&&this.clonedElement.childElementCount&&"LI"===this.clonedElement.children[0].tagName&&this.setProperties({items:[]},!0),document.getElementById(this.clonedElement.id)){var i=this.clonedElement.nextElementSibling;i&&i!==t?this.clonedElement.parentElement.insertBefore(this.element,i):this.clonedElement.parentElement.appendChild(this.element),(0,n.isBlazor)()&&!this.isMenu?this.element=this.removeChildElement(this.element):this.element.innerHTML="",(0,n.append)([].slice.call(this.clonedElement.children),this.element),(0,n.detach)(this.clonedElement),this.removeAttributes()}this.clonedElement=null}this.isMenu&&this.clonedElement?((0,n.detach)(this.element),t.style.display="",t.classList.remove("e-"+this.getModuleName()+"-wrapper"),t.removeAttribute("data-ripple")):(0,n.detach)(t),e.prototype.destroy.call(this),this.template&&this.clearTemplate(["template"])}this.rippleFn=null},F([(0,n.Event)()],t.prototype,"beforeItemRender",void 0),F([(0,n.Event)()],t.prototype,"beforeOpen",void 0),F([(0,n.Event)()],t.prototype,"onOpen",void 0),F([(0,n.Event)()],t.prototype,"beforeClose",void 0),F([(0,n.Event)()],t.prototype,"onClose",void 0),F([(0,n.Event)()],t.prototype,"select",void 0),F([(0,n.Event)()],t.prototype,"created",void 0),F([(0,n.Property)("")],t.prototype,"cssClass",void 0),F([(0,n.Property)(0)],t.prototype,"hoverDelay",void 0),F([(0,n.Property)(!1)],t.prototype,"showItemOnClick",void 0),F([(0,n.Property)("")],t.prototype,"target",void 0),F([(0,n.Property)("")],t.prototype,"filter",void 0),F([(0,n.Property)(null)],t.prototype,"template",void 0),F([(0,n.Property)(!1)],t.prototype,"enableScrolling",void 0),F([(0,n.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),F([(0,n.Complex)({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},de)],t.prototype,"fields",void 0),F([(0,n.Collection)([],he)],t.prototype,"items",void 0),F([(0,n.Complex)({duration:400,easing:"ease",effect:"SlideDown"},ce)],t.prototype,"animationSettings",void 0),F([n.NotifyPropertyChanges],t)}(n.Component),ue=i(6578),fe=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),me=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},ve="e-vertical",ge="e-toolbar-items",ye="e-toolbar-item",be="e-rtl",Ce="e-separator",Se="e-popup-up-icon",Ie="e-popup-down-icon",Ee="e-popup-open",xe="e-template",Ne="e-overlay",Oe="e-toolbar-text",we="e-popup-text",Le="e-overflow-show",ke="e-overflow-hide",Ae="e-hor-nav",Te="e-scroll-nav",Pe="e-toolbar-center",De="e-tbar-pos",Me="e-hscroll-bar",He="e-toolbar-pop",Ue="e-toolbar-popup",Re="e-nav-active",Be="e-ignore",je="e-popup-alone",qe="e-hidden",We="e-toolbar-multirow",Fe="e-multirow-pos",Ve="e-multirow-separator",_e="e-extended-separator",ze="e-extended-toolbar",Xe="e-toolbar-extended",Ke="e-tbar-extended",Ye=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fe(t,e),me([(0,n.Property)("")],t.prototype,"id",void 0),me([(0,n.Property)("")],t.prototype,"text",void 0),me([(0,n.Property)("auto")],t.prototype,"width",void 0),me([(0,n.Property)("")],t.prototype,"cssClass",void 0),me([(0,n.Property)(!1)],t.prototype,"showAlwaysInPopup",void 0),me([(0,n.Property)(!1)],t.prototype,"disabled",void 0),me([(0,n.Property)("")],t.prototype,"prefixIcon",void 0),me([(0,n.Property)("")],t.prototype,"suffixIcon",void 0),me([(0,n.Property)(!0)],t.prototype,"visible",void 0),me([(0,n.Property)("None")],t.prototype,"overflow",void 0),me([(0,n.Property)("")],t.prototype,"template",void 0),me([(0,n.Property)("Button")],t.prototype,"type",void 0),me([(0,n.Property)("Both")],t.prototype,"showTextOn",void 0),me([(0,n.Property)(null)],t.prototype,"htmlAttributes",void 0),me([(0,n.Property)("")],t.prototype,"tooltipText",void 0),me([(0,n.Property)("Left")],t.prototype,"align",void 0),me([(0,n.Event)()],t.prototype,"click",void 0),me([(0,n.Property)(-1)],t.prototype,"tabIndex",void 0),t}(n.ChildProperty),Ge=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.resizeContext=s.resize.bind(s),s.orientationChangeContext=s.orientationChange.bind(s),s.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},s}return fe(t,e),t.prototype.destroy=function(){var t=this;(this.isReact||this.isAngular)&&this.clearTemplate();var i=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(i).forEach((function(e){(0,n.isNullOrUndefined)(e)||(0,n.isNullOrUndefined)(e.ej2_instances)||(0,n.isNullOrUndefined)(e.ej2_instances[0])||e.ej2_instances[0].isDestroyed||e.ej2_instances[0].destroy()})),this.unwireEvents(),this.tempId.forEach((function(e){(0,n.isNullOrUndefined)(t.element.querySelector(e))||(document.body.appendChild(t.element.querySelector(e)).style.display="none")})),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),(0,n.detach)(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&(0,n.removeClass)([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach((function(e){return t.element.removeAttribute(e)})),e.prototype.destroy.call(this)},t.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(ve),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,be)},t.prototype.wireEvents=function(){n.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},t.prototype.wireKeyboardEvent=function(){this.keyModule=new n.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),n.EventHandler.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},t.prototype.updateTabIndex=function(e){var t=this.element.querySelector("."+ye+":not(."+Ne+" ):not(."+Ce+" ):not(."+qe+" )");if(!(0,n.isNullOrUndefined)(t)&&!(0,n.isNullOrUndefined)(t.firstElementChild)){var i=t.firstElementChild.getAttribute("data-tabindex");i&&"-1"===i&&"INPUT"!==t.firstElementChild.tagName&&t.firstElementChild.setAttribute("tabindex",e)}},t.prototype.unwireKeyboardEvent=function(){this.keyModule&&(n.EventHandler.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},t.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!(0,n.isNullOrUndefined)(this.popObj)&&(0,n.isVisible)(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},t.prototype.unwireEvents=function(){n.EventHandler.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),n.EventHandler.remove(document,"scroll",this.docEvent),n.EventHandler.remove(document,"click",this.docEvent)},t.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},t.prototype.docEvent=function(e){var t=(0,n.closest)(e.target,".e-popup");this.popObj&&(0,n.isVisible)(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},t.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,De),this.scrollModule.destroy(),this.scrollModule=null)},t.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+ye)).forEach((function(e){(0,n.detach)(e)})),this.tbarAlign){var e=this.element.querySelector("."+ge);[].slice.call(e.children).forEach((function(e){(0,n.detach)(e)})),this.tbarAlign=!1,this.remove(e,De)}this.clearProperty()},t.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,be),this.destroyScroll()),this.remove(this.element,Ke),this.remove(this.element,ze);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,We),this.popObj&&this.popupRefresh(this.popObj.element,!0)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},t.prototype.clstElement=function(e,t){return e&&this.popObj&&(0,n.isVisible)(this.popObj.element)?this.popObj.element.querySelector("."+ye):this.element===t||e?this.element.querySelector("."+ye+":not(."+Ne+" ):not(."+Ce+" ):not(."+qe+" )"):(0,n.closest)(t,"."+ye)},t.prototype.keyHandling=function(e,t,i,s,r){var l,o,a=this.popObj,d=this.element,h={name:"FadeOut",duration:100},c="moveUp"===t.action?"previous":"next";switch(t.action){case"moveRight":if(this.isVertical)return;d===i?this.elementFocus(e):s||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;s||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var p=(0,n.closest)(e,".e-popup"),u=this.element.querySelector("."+Xe);"Extended"===this.overflowMode&&u&&u.classList.contains("e-popup-open")&&(p="end"===t.action?u:null),p?(0,n.isVisible)(this.popObj.element)&&(o=[].slice.call(p.children),l="home"===t.action?this.focusFirstVisibleEle(o):this.focusLastVisibleEle(o)):(o=this.element.querySelectorAll("."+ge+" ."+ye+":not(."+Ce+")"),l="home"===t.action?this.focusFirstVisibleEle(o):this.focusLastVisibleEle(o)),l&&this.elementFocus(l)}break;case"moveUp":case"moveDown":if(this.isVertical)"moveUp"===t.action?this.eleFocus(e,"previous"):this.eleFocus(e,"next");else if(a&&(0,n.closest)(i,".e-popup")){var f=a.element,m=f.firstElementChild;"previous"===c&&m===e?f.lastElementChild.firstChild.focus():"next"===c&&f.lastElementChild===e?m.firstChild.focus():this.eleFocus(e,c)}else"moveDown"===t.action&&a&&(0,n.isVisible)(a.element)&&this.elementFocus(e);break;case"tab":if(!r&&!s){var v=e.firstElementChild;d===i&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(v),v.focus()))}break;case"popupClose":a&&"Extended"!==this.overflowMode&&a.hide(h);break;case"popupOpen":if(!s)return;a&&!(0,n.isVisible)(a.element)?(a.element.style.top=d.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(h)}},t.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains(Ne)){e.preventDefault();var i=t.classList.contains(Ae),s=t.classList.contains(Te),n=this.clstElement(i,t);(n||s)&&this.keyHandling(n,e,t,i,s)}},t.prototype.disable=function(e){var t=this.element;e?t.classList.add(Ne):t.classList.remove(Ne),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&((0,n.isVisible)(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},t.prototype.eleContains=function(e){return e.classList.contains(Ce)||e.classList.contains(Ne)||e.getAttribute("disabled")||e.classList.contains(qe)||!(0,n.isVisible)(e)||!e.classList.contains(ye)},t.prototype.focusFirstVisibleEle=function(e){for(var t=0;t<e.length;){var i=e[parseInt(t.toString(),10)];if(!i.classList.contains(qe)&&!i.classList.contains(Ne))return i;t++}},t.prototype.focusLastVisibleEle=function(e){for(var t=e.length-1;t>=0;){var i=e[parseInt(t.toString(),10)];if(!i.classList.contains(qe)&&!i.classList.contains(Ne))return i;t--}},t.prototype.eleFocus=function(e,t){var i=Object(e)[t+"ElementSibling"];if(i){if(this.eleContains(i))return void this.eleFocus(i,t);this.elementFocus(i)}else if(this.tbarAlign){var s=Object(e.parentElement)[t+"ElementSibling"];if((0,n.isNullOrUndefined)(s)||0!==s.children.length||(s=Object(s)[t+"ElementSibling"]),!(0,n.isNullOrUndefined)(s)&&s.children.length>0)if("next"===t){var r=s.querySelector("."+ye);this.eleContains(r)?this.eleFocus(r,t):(r.firstElementChild.focus(),this.activeEleSwitch(r))}else r=s.lastElementChild,this.eleContains(r)?this.eleFocus(r,t):this.elementFocus(r)}else if(!(0,n.isNullOrUndefined)(e)){var l=this.element.querySelectorAll("."+ge+" ."+ye+":not(."+Ce+"):not(."+Ne+"):not(."+qe+")");"next"===t&&l?this.elementFocus(l[0]):"previous"===t&&l&&this.elementFocus(l[l.length-1])}},t.prototype.clickHandler=function(e){var t,i=this,s=e.target,r=this.element,l=!(0,n.isNullOrUndefined)((0,n.closest)(s,"."+He)),o=s.classList,a=(0,n.closest)(s,"."+Ae);a||(a=s),r.children[0].classList.contains("e-hscroll")||r.children[0].classList.contains("e-vscroll")||!o.contains(Ae)||(o=s.querySelector(".e-icons").classList),(o.contains(Se)||o.contains(Ie))&&this.popupClickHandler(r,a,be);var d=(0,n.closest)(e.target,"."+ye);if(!(0,n.isNullOrUndefined)(d)&&!d.classList.contains(Ne)||a.classList.contains(Ae)){d&&(t=this.items[this.tbarEle.indexOf(d)]);var h={originalEvent:e,item:t};t&&!(0,n.isNullOrUndefined)(t.click)&&this.trigger("items["+this.tbarEle.indexOf(d)+"].click",h),h.cancel||this.trigger("clicked",h,(function(e){!(0,n.isNullOrUndefined)(i.popObj)&&l&&!e.cancel&&"Popup"===i.overflowMode&&e.item&&"Input"!==e.item.type&&i.popObj.hide({name:"FadeOut",duration:100})}))}},t.prototype.popupClickHandler=function(e,t,i){var s=this.popObj;(0,n.isVisible)(s.element)?(t.classList.remove(Re),s.hide({name:"FadeOut",duration:100})):(e.classList.contains(i)&&(s.enableRtl=!0,s.position={X:"left",Y:"top"}),0!==s.offsetX||e.classList.contains(i)||(s.enableRtl=!1,s.position={X:"right",Y:"top"}),s.dataBind(),s.refreshPosition(),s.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(s.element.style.minHeight="0px"),t.classList.add(Re),s.show({name:"FadeIn",duration:100}))},t.prototype.render=function(){var e=this;this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates((function(){e.refreshOverflow()}))},t.prototype.initialize=function(){var e=(0,n.formatUnit)(this.width),t=(0,n.formatUnit)(this.height);"msie"===n.Browser.info.name&&"auto"===this.height&&"MultiRow"!==this.overflowMode||(0,n.setStyleAttribute)(this.element,{height:t}),(0,n.setStyleAttribute)(this.element,{width:e});var i={role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"};(0,n.attributes)(this.element,i),this.cssClass&&(0,n.addClass)([this.element],this.cssClass.split(" "))},t.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},t.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},t.prototype.itemsAlign=function(e,t){var i,s;this.tbarEle||(this.tbarEle=[]);for(var n=0;n<e.length;n++)i=this.renderSubComponent(e[parseInt(n.toString(),10)],n),-1===this.tbarEle.indexOf(i)&&this.tbarEle.push(i),this.tbarAlign||this.tbarItemAlign(e[parseInt(n.toString(),10)],t,n),(s=t.querySelector(".e-toolbar-"+e[parseInt(n.toString(),10)].align.toLowerCase()))?(e[parseInt(n.toString(),10)].showAlwaysInPopup&&"Show"!==e[parseInt(n.toString(),10)].overflow||this.tbarAlgEle[(e[parseInt(n.toString(),10)].align+"s").toLowerCase()].push(i),s.appendChild(i)):t.appendChild(i);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())},t.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(ve),this.isVertical=!1,"auto"!==this.height&&"100%"!==this.height||(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(ve),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),(0,n.setStyleAttribute)(this.element,{height:(0,n.formatUnit)(this.height),width:(0,n.formatUnit)(this.width)})),this.destroyMode(),this.refreshOverflow()},t.prototype.initScroll=function(e,t){if(!this.scrollModule&&this.checkOverflow(e,t[0])){this.tbarAlign&&this.element.querySelector("."+ge+" ."+Pe).removeAttribute("style"),this.isVertical?this.scrollModule=new M({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):this.scrollModule=new b({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.cssClass&&(0,n.addClass)([t[0]],this.cssClass.split(" "));var i=this.scrollModule.element.querySelector("."+Me+", .e-vscroll-bar");i&&i.removeAttribute("tabindex"),this.remove(this.scrollModule.element,De),(0,n.setStyleAttribute)(this.element,{overflow:"hidden"})}},t.prototype.itemWidthCal=function(e){var t,i=this,s=0;return[].slice.call((0,n.selectAll)("."+ye,e)).forEach((function(e){(0,n.isVisible)(e)&&(t=window.getComputedStyle(e),s+=i.isVertical?e.offsetHeight:e.offsetWidth,s+=parseFloat(i.isVertical?t.marginTop:t.marginRight),s+=parseFloat(i.isVertical?t.marginBottom:t.marginLeft))})),s},t.prototype.getScrollCntEle=function(e){var t=this.isVertical?".e-vscroll-content":".e-hscroll-content";return e.querySelector(t)},t.prototype.checkOverflow=function(e,t){if((0,n.isNullOrUndefined)(e)||(0,n.isNullOrUndefined)(t)||!(0,n.isVisible)(e))return!1;var i=this.isVertical?e.offsetHeight:e.offsetWidth,s=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||i===s)&&(s=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var r=e.querySelector("."+Ae),l=e.querySelector("."+Te),o=0;return r?o=this.isVertical?r.offsetHeight:r.offsetWidth:l&&(o=this.isVertical?2*l.offsetHeight:2*l.offsetWidth),s>i-o},t.prototype.refreshOverflow=function(){this.resize()},t.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,De),this.itemPositioning())},t.prototype.renderOverflowMode=function(){var e=this.element,t=e.querySelector("."+ge),i=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===n.Browser.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":(0,n.isNullOrUndefined)(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(ge)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||i)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,We),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,Fe)),"hidden"===e.style.overflow&&(e.style.overflow=""),"msie"!==n.Browser.info.name&&"auto"===e.style.height||(e.style.height="auto");break;case"Extended":this.add(this.element,ze),(this.checkOverflow(e,t)||i)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}},t.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call((0,n.selectAll)("."+ge+" ."+ye,e))),(0,n.attributes)(this.element.querySelector("."+Ae),{tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"})},t.prototype.separator=function(){var e=this.element,t=[].slice.call(e.querySelectorAll("."+Ce)),i=e.querySelector("."+Ve),s=e.querySelector("."+_e),n="MultiRow"===this.overflowMode?i:s;null!==n&&("MultiRow"===this.overflowMode?n.classList.remove(Ve):"Extended"===this.overflowMode&&n.classList.remove(_e));for(var r=0;r<=t.length-1;r++)t[parseInt(r.toString(),10)].offsetLeft<30&&0!==t[parseInt(r.toString(),10)].offsetLeft&&("MultiRow"===this.overflowMode?t[parseInt(r.toString(),10)].classList.add(Ve):"Extended"===this.overflowMode&&t[parseInt(r.toString(),10)].classList.add(_e))},t.prototype.createPopupEle=function(e,t){var i=e.querySelector("."+Ae),s=this.isVertical;i||this.createPopupIcon(e),i=e.querySelector("."+Ae);var r=s?i.offsetHeight:i.offsetWidth,l=(s?e.offsetHeight:e.offsetWidth)-r;this.element.classList.remove("e-rtl"),(0,n.setStyleAttribute)(this.element,{direction:"initial"}),this.checkPriority(e,t,l,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},t.prototype.pushingPoppedEle=function(e,t,i,s,r){var l=e.element,o=[].slice.call((0,n.selectAll)("."+Ue,l.querySelector("."+ge))),a=(0,n.selectAll)("."+Le,i),d=0,h=0;o.forEach((function(l,o){a=(0,n.selectAll)("."+Le,i),l.classList.contains(Le)&&a.length>0?e.tbResize&&a.length>o?(i.insertBefore(l,a[parseInt(o.toString(),10)]),++h):(i.insertBefore(l,i.children[a.length]),++h):l.classList.contains(Le)||e.tbResize&&l.classList.contains(ke)&&i.children.length>0&&0===a.length?(i.insertBefore(l,i.firstChild),++h):l.classList.contains(ke)?t.push(l):e.tbResize?(i.insertBefore(l,i.childNodes[d+h]),++d):i.appendChild(l),l.classList.contains(Ce)?(0,n.setStyleAttribute)(l,{display:"",height:r+"px"}):(0,n.setStyleAttribute)(l,{display:"",height:s+"px"})})),t.forEach((function(e){i.appendChild(e)}));for(var c=(0,n.selectAll)("."+ye,l.querySelector("."+ge)),p=c.length-1;p>=0;p--){var u=c[parseInt(p.toString(),10)];if(!u.classList.contains(Ce)||"Extended"===this.overflowMode)break;(0,n.setStyleAttribute)(u,{display:"none"})}},t.prototype.createPopup=function(){var e,t,i=this.element;"Extended"===this.overflowMode&&(t=i.querySelector("."+Ce),e="auto"===i.style.height||""===i.style.height?null:t&&t.offsetHeight);var s,r=i.querySelector("."+ye+":not(."+Ce+"):not(."+Ue+")"),l="auto"===i.style.height||""===i.style.height?null:r&&r.offsetHeight;if((0,n.select)("#"+i.id+"_popup."+He,i))s=(0,n.select)("#"+i.id+"_popup."+He,i);else{var o=this.createElement("div",{id:i.id+"_popup",className:He+" "+Xe}),a=this.createElement("div",{id:i.id+"_popup",className:He});s="Extended"===this.overflowMode?o:a}this.pushingPoppedEle(this,[],s,l,e),this.popupInit(i,s)},t.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},t.prototype.popupInit=function(e,t){if(this.popObj){var i=this.popObj.element;(0,n.setStyleAttribute)(i,{maxHeight:"",display:"block"}),(0,n.setStyleAttribute)(i,{maxHeight:i.offsetHeight+"px",display:""})}else{e.appendChild(t),this.cssClass&&(0,n.addClass)([t],this.cssClass.split(" ")),(0,n.setStyleAttribute)(this.element,{overflow:""});var s=window.getComputedStyle(this.element),r=new q.Popup(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if("Extended"===this.overflowMode&&(r.width=parseFloat(s.width)+2*parseFloat(s.borderRightWidth),r.offsetX=0),r.appendTo(t),n.EventHandler.add(document,"scroll",this.docEvent.bind(this)),n.EventHandler.add(document,"click ",this.docEvent.bind(this)),r.element.style.maxHeight=r.element.offsetHeight+"px",this.isVertical&&(r.element.style.visibility="hidden"),this.isExtendedOpen){var l=this.element.querySelector("."+Ae);l.classList.add(Re),(0,n.classList)(l.firstElementChild,[Se],[Ie]),this.element.querySelector("."+Xe).classList.add(Ee)}else r.hide();this.popObj=r}},t.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,Ke):this.remove(this.element,Ke))},t.prototype.popupOpen=function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var i=this.popObj.element,s=this.popObj.element.parentElement,r=s.querySelector("."+Ae);r.setAttribute("aria-expanded","true"),(0,n.setStyleAttribute)(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var l=i.offsetTop+i.offsetHeight+(0,q.calculatePosition)(s).top,o=r.firstElementChild;r.classList.add(Re),(0,n.classList)(o,[Se],[Ie]),this.tbarPopupHandler(!0);var a=(0,n.isNullOrUndefined)(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+a<l&&this.element.offsetTop<i.offsetHeight){var d=i.offsetHeight-(l-window.innerHeight-a+5);t.height=d+"px";for(var h=0;h<=i.childElementCount;h++){var c=i.children[parseInt(h.toString(),10)];if(c.offsetTop+c.offsetHeight>d){d=c.offsetTop;break}}(0,n.setStyleAttribute)(t.element,{maxHeight:d+"px"})}else if(this.isVertical){var p=this.element.getBoundingClientRect();(0,n.setStyleAttribute)(t.element,{maxHeight:p.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){var u=i.getBoundingClientRect();u.right>document.documentElement.clientWidth&&u.width>s.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}},t.prototype.popupClose=function(e){var t=this.element.querySelector("."+Ae);t.setAttribute("aria-expanded","false");var i=t.firstElementChild;t.classList.remove(Re),(0,n.classList)(i,[Ie],[Se]),this.tbarPopupHandler(!1)},t.prototype.checkPriority=function(e,t,i,s){for(var r,l=this.popupPriCount>0,o=i,a=0,d=0,h=0,c=function(e,t){var i=!1;return t.forEach((function(t){e.classList.contains(t)&&(i=!0)})),i},p=t.length-1;p>=0;p--){var u=void 0,f=window.getComputedStyle(t[parseInt(p.toString(),10)]);this.isVertical?(u=parseFloat(f.marginTop),u+=parseFloat(f.marginBottom)):(u=parseFloat(f.marginRight),u+=parseFloat(f.marginLeft));var m=t[parseInt(p.toString(),10)]===this.tbarEle[0];m&&(this.tbarEleMrgn=u),r=this.isVertical?t[parseInt(p.toString(),10)].offsetHeight:t[parseInt(p.toString(),10)].offsetWidth;var v=m?r+u:r;if(c(t[parseInt(p.toString(),10)],[je])&&l&&(t[parseInt(p.toString(),10)].classList.add(Ue),this.isVertical?(0,n.setStyleAttribute)(t[parseInt(p.toString(),10)],{display:"none",minHeight:v+"px"}):(0,n.setStyleAttribute)(t[parseInt(p.toString(),10)],{display:"none",minWidth:v+"px"}),h++),this.isVertical?t[parseInt(p.toString(),10)].offsetTop+t[parseInt(p.toString(),10)].offsetHeight+u>i:t[parseInt(p.toString(),10)].offsetLeft+t[parseInt(p.toString(),10)].offsetWidth+u>i){if(t[parseInt(p.toString(),10)].classList.contains(Ce)){if("Extended"===this.overflowMode)c(g=t[parseInt(p.toString(),10)],[Ce,Be])&&(t[parseInt(p.toString(),10)].classList.add(Ue),h++),d++;else if("Popup"===this.overflowMode){var g;a>0&&d===h&&c(g=t[p+d+(a-1)],[Ce,Be])&&(0,n.setStyleAttribute)(g,{display:"none"}),a++,d=0,h=0}}else d++;t[parseInt(p.toString(),10)].classList.contains(Le)&&s||c(t[parseInt(p.toString(),10)],[Ce,Be])?i-=(this.isVertical?t[parseInt(p.toString(),10)].offsetHeight:t[parseInt(p.toString(),10)].offsetWidth)+u:(t[parseInt(p.toString(),10)].classList.add(Ue),this.isVertical?(0,n.setStyleAttribute)(t[parseInt(p.toString(),10)],{display:"none",minHeight:v+"px"}):(0,n.setStyleAttribute)(t[parseInt(p.toString(),10)],{display:"none",minWidth:v+"px"}),h++)}}if(s){var y=(0,n.selectAll)("."+ye+":not(."+Ue+")",this.element);this.checkPriority(e,y,o,!1)}},t.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),i="e-"+e.id.concat("_nav e-hor-nav");i="Extended"===this.overflowMode?i+" e-expended-nav":i;var s=this.createElement("div",{id:t,className:i});"msie"!==n.Browser.info.name&&"edge"!==n.Browser.info.name||s.classList.add("e-ie-align");var r=this.createElement("div",{className:Ie+" e-icons"});s.appendChild(r),s.setAttribute("tabindex","0"),s.setAttribute("role","button"),e.appendChild(s)},t.prototype.tbarPriRef=function(e,t,i,s,r,l,o,a,d){var h=a,c=this.popObj.element,p="."+ye+":not(."+Ce+"):not(."+Le+")",u=(0,n.selectAll)("."+Ue+":not(."+Le+")",c).length,f=function(e,t){return e.classList.contains(t)};if(0===(0,n.selectAll)(p,e).length){var m=e.children[t-(t-i)-1],v=!(0,n.isNullOrUndefined)(m)&&f(m,Be);if(!(0,n.isNullOrUndefined)(m)&&f(m,Ce)&&!(0,n.isVisible)(m)||v){m.style.display="unset";var g=m.offsetWidth+2*parseFloat(window.getComputedStyle(m).marginRight),y=m.previousElementSibling;l+g<o||r?(e.insertBefore(s,e.children[t+h-(t-i)]),(0,n.isNullOrUndefined)(y)||(y.style.display="")):((0,n.setStyleAttribute)(s,d),y.classList.contains(Ce)&&(y.style.display="none")),m.style.display=""}else e.insertBefore(s,e.children[t+h-(t-i)])}else e.insertBefore(s,e.children[t+h-u])},t.prototype.popupRefresh=function(e,t){var i=this,s=this.element,r=this.isVertical,l=s.querySelector("."+ge),o=s.querySelector("."+Ae);if(!(0,n.isNullOrUndefined)(o)){var a;l.removeAttribute("style"),e.style.display="block",a=r?s.offsetHeight-(o.offsetHeight+l.offsetHeight):s.offsetWidth-(o.offsetWidth+l.offsetWidth);var d=0;[].slice.call(e.children).forEach((function(e){d+=i.popupEleWidth(e),(0,n.setStyleAttribute)(e,{position:""})})),a+(r?o.offsetHeight:o.offsetWidth)>d&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(a,e,t),e.style.display="",0===e.children.length&&o&&this.popObj&&((0,n.detach)(o),o=null,this.popObj.destroy(),(0,n.detach)(this.popObj.element),this.popObj=null)}},t.prototype.ignoreEleFetch=function(e,t){var i=[].slice.call(t.querySelectorAll("."+Be)),s=[],n=0;return i.length>0?(i.forEach((function(e){s.push([].slice.call(t.children).indexOf(e))})),s.forEach((function(t){t<=e&&n++})),n):0},t.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var i=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var s=e.offsetWidth-e.querySelector("."+Ae).offsetWidth,n=e.querySelector("."+ge).offsetWidth;return t.style.removeProperty("display"),s>i+n},t.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,i=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(we)){var s=e.children[0];!(0,n.isNullOrUndefined)(i)&&e.classList.contains(we)?i.style.display="none":!(0,n.isNullOrUndefined)(i)&&e.classList.contains(Oe)&&(i.style.display="block"),s.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),s.style.minWidth="",s.style.minHeight="",(0,n.isNullOrUndefined)(i)||(i.style.display="")}return t},t.prototype.popupEleRefresh=function(e,t,i){for(var s,r,l=this.popupPriCount>0,o=this.tbarEle,a=this.element.querySelector("."+ge),d=0,h=function(t){if(t.classList.contains(je)&&l&&!i)return"continue";var h=c.popupEleWidth(t);if(t===c.tbarEle[0]&&(h+=c.tbarEleMrgn),t.style.position="",!(h<e||i))return"break";var p={minWidth:t.style.minWidth,height:t.style.height,minHeight:t.style.minHeight};if((0,n.setStyleAttribute)(t,{minWidth:"",height:"",minHeight:""}),t.classList.contains(ke)||t.classList.remove(Ue),r=c.tbarEle.indexOf(t),c.tbarAlign){var u=c.items[parseInt(r.toString(),10)].align;r=c.tbarAlgEle[(u+"s").toLowerCase()].indexOf(t),o=c.tbarAlgEle[(u+"s").toLowerCase()],a=c.element.querySelector("."+ge+" .e-toolbar-"+u.toLowerCase())}var f=0;"Extended"!==c.overflowMode&&o.slice(0,r).forEach((function(t){(t.classList.contains(Le)||t.classList.contains(Ce))&&(t.classList.contains(Ce)&&(t.style.display="",e-=t.offsetWidth),f++)})),d=c.ignoreEleFetch(r,a),t.classList.contains(Le)?(c.tbarPriRef(a,r,f,t,i,h,e,d,p),e-=t.offsetWidth):0===r?(a.insertBefore(t,a.firstChild),e-=t.offsetWidth):(s=(0,n.selectAll)("."+Le,c.popObj.element).length,a.insertBefore(t,a.children[r+d-s]),e-=t.offsetWidth),t.style.height=""},c=this,p=0,u=[].slice.call(t.children);p<u.length&&"break"!==h(u[p]);p++);this.checkOverflow(this.element,this.element.getElementsByClassName(ge)[0])&&!i&&this.renderOverflowMode()},t.prototype.removePositioning=function(){var e=this.element.querySelector("."+ge);if(!(0,n.isNullOrUndefined)(e)&&e.classList.contains(De)){this.remove(e,De);var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}},t.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+ge);this.add(e,De),this.itemPositioning()},t.prototype.itemPositioning=function(){var e,t=this.element.querySelector("."+ge);if(!(0,n.isNullOrUndefined)(t)&&t.classList.contains(De)){var i,s=this.element.querySelector("."+Ae);if(this.scrollModule){var r=this.isVertical?"e-vscroll-content":"e-hscroll-content";i=[].slice.call(t.querySelector("."+r).children)}else i=[].slice.call(t.childNodes);e=this.isVertical?i[0].offsetHeight+i[2].offsetHeight:i[0].offsetWidth+i[2].offsetWidth;var l=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(s){l-=this.isVertical?s.offsetHeight:s.offsetWidth;var o=(this.isVertical?s.offsetHeight:s.offsetWidth)+"px";i[2].removeAttribute("style"),this.isVertical?this.enableRtl?i[2].style.top=o:i[2].style.bottom=o:this.enableRtl?i[2].style.left=o:i[2].style.right=o}if(!(l<=e)){var a=(l-e-(this.isVertical?i[1].offsetHeight:i[1].offsetWidth))/2;i[1].removeAttribute("style");var d=(this.isVertical?i[0].offsetHeight:i[0].offsetWidth)+a+"px";this.isVertical?this.enableRtl?i[1].style.marginBottom=d:i[1].style.marginTop=d:this.enableRtl?i[1].style.marginRight=d:i[1].style.marginLeft=d}}},t.prototype.tbarItemAlign=function(e,t,i){var s=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var n=[];if(n.push(this.createElement("div",{className:"e-toolbar-left"})),n.push(this.createElement("div",{className:Pe})),n.push(this.createElement("div",{className:"e-toolbar-right"})),0===i&&"Left"!==e.align)n.forEach((function(e){t.appendChild(e)})),this.tbarAlign=!0,this.add(t,De);else if("Left"!==e.align){var r=t.childNodes,l=n[0];[].slice.call(r).forEach((function(e){s.tbarAlgEle.lefts.push(e),l.appendChild(e)})),t.appendChild(l),t.appendChild(n[1]),t.appendChild(n[2]),this.tbarAlign=!0,this.add(t,De)}}},t.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,ge),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach((function(t){"DIV"===t.tagName&&(e.tbarEle.push(t),(0,n.isNullOrUndefined)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false"),e.add(t,ye))}))},t.prototype.renderItems=function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var i=void 0;e&&e.children.length>0&&(i=e.querySelector("."+ge)),i||(i=this.createElement("div",{className:ge})),this.itemsAlign(t,i),e.appendChild(i)}},t.prototype.setAttr=function(e,t){for(var i,s=Object.keys(e),n=0;n<s.length;n++)"class"===(i=s[parseInt(n.toString(),10)])?this.add(t,e[""+i]):t.setAttribute(i,e[""+i])},t.prototype.enableItems=function(e,t){var i,s=e,r=s.length;(0,n.isNullOrUndefined)(t)&&(t=!0);var l=function(e,t){e?(t.classList.remove(Ne),(0,n.isNullOrUndefined)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","false")):(t.classList.add(Ne),(0,n.isNullOrUndefined)(t.firstElementChild)||t.firstElementChild.setAttribute("aria-disabled","true"))};if(!(0,n.isNullOrUndefined)(r)&&r>=1){for(var o=0,a=[].slice.call(s);o<r;o++){var d=a[parseInt(o.toString(),10)];if("number"==typeof d){if(i=this.getElementByIndex(d),(0,n.isNullOrUndefined)(i))return;s[parseInt(o.toString(),10)]=i}else i=d;l(t,i)}t?(0,n.removeClass)(s,Ne):(0,n.addClass)(s,Ne)}else{if("number"==typeof s){if(i=this.getElementByIndex(s),(0,n.isNullOrUndefined)(i))return}else i=e;l(t,i)}},t.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},t.prototype.addItems=function(e,t){var i;this.extendedOpen();var s=this.element.querySelector("."+ge);if((0,n.isNullOrUndefined)(s))this.itemsRerender(e);else{var r,l="Left";(0,n.isNullOrUndefined)(t)&&(t=0),e.forEach((function(e){(0,n.isNullOrUndefined)(e.align)||"Left"===e.align||"Left"!==l||(l=e.align)}));for(var o=0,a=e;o<a.length;o++){var d=a[o];if((0,n.isNullOrUndefined)(d.type)&&(d.type="Button"),i=(0,n.selectAll)("."+ye,this.element),d.align=l,r=this.renderSubComponent(d,t),this.tbarEle.length>=t&&i.length>=0){(0,n.isNullOrUndefined)(this.scrollModule)&&this.destroyMode();var h="L"===d.align[0]?0:"C"===d.align[0]?1:2,c=void 0;this.tbarAlign||"Left"===l?this.tbarAlign?((c=(0,n.closest)(i[0],"."+ge).children[parseInt(h.toString(),10)]).insertBefore(r,c.children[parseInt(t.toString(),10)]),this.tbarAlgEle[(d.align+"s").toLowerCase()].splice(t,0,r),this.refreshPositioning()):0===i.length?(i=(0,n.selectAll)("."+ge,this.element))[0].appendChild(r):i[0].parentNode.insertBefore(r,i[parseInt(t.toString(),10)]):(this.tbarItemAlign(d,s,1),this.tbarAlign=!0,(c=(0,n.closest)(i[0],"."+ge).children[parseInt(h.toString(),10)]).appendChild(r),this.tbarAlgEle[(d.align+"s").toLowerCase()].push(r),this.refreshPositioning()),this.items.splice(t,0,d),d.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(t,0,r),t++,this.offsetWid=s.offsetWidth}}s.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}},t.prototype.removeItems=function(e){var t,i=e,s=[].slice.call((0,n.selectAll)("."+ye,this.element));if("number"==typeof i)t=parseInt(e.toString(),10),this.removeItemByIndex(t,s);else if(i&&i.length>1)for(var r=0,l=[].slice.call(i);r<l.length;r++){var o=l[r];t=this.tbarEle.indexOf(o),this.removeItemByIndex(t,s),s=(0,n.selectAll)("."+ye,this.element)}else o=i&&i.length&&1===i.length?i[0]:e,t=s.indexOf(o),this.removeItemByIndex(t,s);this.resize()},t.prototype.removeItemByIndex=function(e,t){if(this.tbarEle[parseInt(e.toString(),10)]&&t[parseInt(e.toString(),10)]){var i=this.tbarEle.indexOf(t[parseInt(e.toString(),10)]);if(this.tbarAlign){var s=this.tbarAlgEle[(this.items[parseInt(i.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(i.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(i.toString(),10)].align+"s").toLowerCase()].splice(parseInt(s.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(t[parseInt(e.toString(),10)]);var r=t[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");(0,n.isNullOrUndefined)(r)||(0,n.isNullOrUndefined)(r.ej2_instances[0])||r.ej2_instances[0].isDestroyed||r.ej2_instances[0].destroy(),(0,n.detach)(t[parseInt(e.toString(),10)]),this.items.splice(i,1),this.tbarEle.splice(i,1)}},t.prototype.templateRender=function(e,t,i,s){var r,l=i.type,o=e;if("object"==typeof e&&(r="function"==typeof o.appendTo),"string"!=typeof e&&r)"Input"===l&&(c=this.createElement("input"),i.id?c.id=i.id:c.id=(0,n.getUniqueID)("tbr-ipt"),t.appendChild(c),o.appendTo(c));else{var a,d=void 0,h=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);a="string"==typeof e?e.trim():e;try{if("object"!=typeof e||(0,n.isNullOrUndefined)(e.tagName))if("string"==typeof e&&h.test(a))t.innerHTML=a;else if(document.querySelectorAll(a).length){var c,p=(c=document.querySelector(a)).outerHTML.trim();t.appendChild(c),c.style.display="",(0,n.isNullOrUndefined)(p)||this.tempId.push(a)}else d=(0,n.compile)(a);else t.appendChild(e)}catch(e){d=(0,n.compile)(a)}var u=void 0;(0,n.isNullOrUndefined)(d)||(u=d({},this,"template",this.element.id+s+"_template",this.isStringTemplate,void 0,void 0,this.root)),!(0,n.isNullOrUndefined)(u)&&u.length>0&&[].slice.call(u).forEach((function(e){(0,n.isNullOrUndefined)(e.tagName)||(e.style.display=""),t.appendChild(e)}))}this.add(t,xe);var f=t.firstElementChild;(0,n.isNullOrUndefined)(f)||(f.setAttribute("tabindex",(0,n.isNullOrUndefined)(f.getAttribute("tabIndex"))?"-1":this.getDataTabindex(f)),f.setAttribute("data-tabindex",(0,n.isNullOrUndefined)(f.getAttribute("tabIndex"))?"-1":this.getDataTabindex(f))),this.tbarEle.push(t)},t.prototype.buttonRendering=function(e,t){var i=this.createElement("button",{className:"e-tbar-btn"});i.setAttribute("type","button");var s,r,l=e.text;e.id?i.id=e.id:i.id=(0,n.getUniqueID)("e-tbr-btn");var o=this.createElement("span",{className:"e-tbar-btn-text"});l?(o.innerHTML=this.enableHtmlSanitizer?n.SanitizeHtmlHelper.sanitize(l):l,i.appendChild(o),i.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(s=e.prefixIcon+" e-icons",r="Left"):(s=e.suffixIcon+" e-icons",r="Right"));var a=new ue.Button({iconCss:s,iconPosition:r});return a.createElement=this.createElement,a.appendTo(i),e.width&&(0,n.setStyleAttribute)(i,{width:(0,n.formatUnit)(e.width)}),i},t.prototype.renderSubComponent=function(e,t){var i,s=this.createElement("div",{className:ye}),r=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!(0,n.isNullOrUndefined)(e.tooltipText)?n.SanitizeHtmlHelper.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,s),e.tooltipText&&s.setAttribute("title",r.textContent),e.cssClass&&(s.className=s.className+" "+e.cssClass),e.template)this.templateRender(e.template,s,e,t);else switch(e.type){case"Button":(i=this.buttonRendering(e,s)).setAttribute("tabindex",(0,n.isNullOrUndefined)(e.tabIndex)?"-1":e.tabIndex.toString()),i.setAttribute("data-tabindex",(0,n.isNullOrUndefined)(e.tabIndex)?"-1":e.tabIndex.toString()),i.setAttribute("aria-label",e.text||e.tooltipText),i.setAttribute("aria-disabled","false"),s.appendChild(i),s.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(s,Ce)}if(e.showTextOn){var l=e.showTextOn;"Toolbar"===l?(this.add(s,Oe),this.add(s,"e-tbtn-align")):"Overflow"===l&&this.add(s,we)}if(e.overflow){var o=e.overflow;"Show"===o?this.add(s,Le):"Hide"===o&&(s.classList.contains(Ce)||this.add(s,ke))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!s.classList.contains(Ce)&&(this.add(s,je),this.popupPriCount++),e.disabled&&this.add(s,Ne),!1===e.visible&&this.add(s,qe),s},t.prototype.getDataTabindex=function(e){return(0,n.isNullOrUndefined)(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},t.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},t.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},t.prototype.activeEleRemove=function(e){if((0,n.isNullOrUndefined)(this.activeEle)||this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),this.activeEle=e,"-1"===this.getDataTabindex(this.activeEle))if((0,n.isNullOrUndefined)(this.trgtEle)&&!e.parentElement.classList.contains(xe))this.updateTabIndex("-1"),e.removeAttribute("tabindex");else{var t=parseInt(this.getDataTabindex(this.activeEle))+1;this.activeEle.setAttribute("tabindex",t.toString())}},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.getModuleName=function(){return"toolbar"},t.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},t.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(ge)[0]);if(!t){this.destroyScroll();var i=e.querySelector("."+ge);(0,n.isNullOrUndefined)(i)||(this.remove(i,Fe),this.tbarAlign&&this.add(i,De))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var s=window.getComputedStyle(this.element);this.popObj.width=parseFloat(s.width)+2*parseFloat(s.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+Me)&&(this.scrollStep=this.element.querySelector("."+Me).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},t.prototype.orientationChange=function(){var e=this;setTimeout((function(){e.resize()}),500)},t.prototype.extendedOpen=function(){var e=this.element.querySelector("."+Xe);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(Ee))},t.prototype.updateHideEleTabIndex=function(e,t,i,s,n){i&&(s=n.indexOf(e));for(var r=n[++s];r;){if(!this.eleContains(r)){var l=r.firstElementChild.getAttribute("data-tabindex");t&&"-1"===l?r.firstElementChild.setAttribute("tabindex","0"):l!==r.firstElementChild.getAttribute("tabindex")&&r.firstElementChild.setAttribute("tabindex",l);break}r=n[++s]}},t.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template)for(var t=this.registeredTemplate,i=0;i<t.template.length;i++){var s=t.template[parseInt(i.toString(),10)].rootNodes[0],r=(0,n.closest)(s,"."+ye);if(!(0,n.isNullOrUndefined)(r)&&r===e){this.clearTemplate(["template"],[t.template[parseInt(i.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0){var l=this.portals;for(i=0;i<l.length;i++){var o=l[parseInt(i.toString(),10)];if(r=(0,n.closest)(o.containerInfo,"."+ye),!(0,n.isNullOrUndefined)(r)&&r===e){this.clearTemplate(["template"],i);break}}}},t.prototype.onPropertyChanged=function(e,t){var i=this.element;i.offsetWidth,this.extendedOpen();for(var s=0,r=Object.keys(e);s<r.length;s++)switch(r[s]){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else for(var l=Object.keys(e.items),o=0;o<l.length;o++){var a=parseInt(Object.keys(e.items)[parseInt(o.toString(),10)],10),d=Object.keys(e.items[parseInt(a.toString(),10)])[0],h=Object(e.items[parseInt(a.toString(),10)])[""+d];if(this.tbarAlign||"align"===d){this.refresh(),this.trigger("created");break}var c="showAlwaysInPopup"===d&&!h,p="overflow"===d&&0!==this.popupPriCount;(c||this.items[parseInt(a.toString(),10)].showAlwaysInPopup&&p)&&--this.popupPriCount,(0,n.isNullOrUndefined)(this.scrollModule)&&this.destroyMode();var u=[].slice.call((0,n.selectAll)("."+ge+" ."+ye,i));this.isReact&&this.items[parseInt(a.toString(),10)].template&&this.clearToolbarTemplate(u[parseInt(a.toString(),10)]),(0,n.detach)(u[parseInt(a.toString(),10)]),this.tbarEle.splice(a,1),this.addItems([this.items[parseInt(a.toString(),10)]],a),this.items.splice(a,1),this.items[parseInt(a.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":(0,n.setStyleAttribute)(i,{width:(0,n.formatUnit)(e.width)}),this.refreshOverflow();break;case"height":(0,n.setStyleAttribute)(this.element,{height:(0,n.formatUnit)(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(i,be),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(i,be):this.remove(i,be),(0,n.isNullOrUndefined)(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,be):this.remove(this.scrollModule.element,be)),(0,n.isNullOrUndefined)(this.popObj)||(e.enableRtl?this.add(this.popObj.element,be):this.remove(this.popObj.element,be)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&(0,n.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,n.addClass)([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}},t.prototype.hideItem=function(e,t){var i,s="object"==typeof e,r=e;if(s||!(0,n.isNullOrUndefined)(r)){var l=[].slice.call((0,n.selectAll)("."+ye,this.element));s?i=e:this.tbarEle[parseInt(r.toString(),10)]&&(i=[].slice.call((0,n.selectAll)("."+ye,this.element))[parseInt(r.toString(),10)]),i&&(t?(i.classList.add(qe),i.classList.contains(Ce)||((0,n.isNullOrUndefined)(i.firstElementChild.getAttribute("tabindex"))||"-1"!==i.firstElementChild.getAttribute("tabindex"))&&this.updateHideEleTabIndex(i,t,s,r,l)):(i.classList.remove(qe),i.classList.contains(Ce)||this.updateHideEleTabIndex(i,t,s,r,l)),this.refreshOverflow())}},me([(0,n.Collection)([],Ye)],t.prototype,"items",void 0),me([(0,n.Property)("auto")],t.prototype,"width",void 0),me([(0,n.Property)("auto")],t.prototype,"height",void 0),me([(0,n.Property)("")],t.prototype,"cssClass",void 0),me([(0,n.Property)("Scrollable")],t.prototype,"overflowMode",void 0),me([(0,n.Property)()],t.prototype,"scrollStep",void 0),me([(0,n.Property)(!0)],t.prototype,"enableCollision",void 0),me([(0,n.Property)(!0)],t.prototype,"enableHtmlSanitizer",void 0),me([(0,n.Property)(!0)],t.prototype,"allowKeyboard",void 0),me([(0,n.Event)()],t.prototype,"clicked",void 0),me([(0,n.Event)()],t.prototype,"created",void 0),me([(0,n.Event)()],t.prototype,"destroyed",void 0),me([(0,n.Event)()],t.prototype,"beforeCreate",void 0),me([n.NotifyPropertyChanges],t)}(n.Component),Qe=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Je=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},Ze="e-acrdn-root",$e="e-accordion",et="e-acrdn-item",tt="e-item-focus",it="e-hide",st="e-acrdn-header",nt="e-acrdn-header-content",rt="e-acrdn-panel",lt="e-acrdn-content",ot="e-toggle-icon",at="e-expand-icon",dt="e-rtl",ht="e-content-hide",ct="e-select",pt="e-selected",ut="e-active",ft="e-overlay",mt="e-toggle-animation",vt="e-expand-state",gt="e-accordion-container",yt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qe(t,e),Je([(0,n.Property)("SlideDown")],t.prototype,"effect",void 0),Je([(0,n.Property)(400)],t.prototype,"duration",void 0),Je([(0,n.Property)("linear")],t.prototype,"easing",void 0),t}(n.ChildProperty),bt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qe(t,e),Je([(0,n.Complex)({effect:"SlideUp",duration:400,easing:"linear"},yt)],t.prototype,"collapse",void 0),Je([(0,n.Complex)({effect:"SlideDown",duration:400,easing:"linear"},yt)],t.prototype,"expand",void 0),t}(n.ChildProperty),Ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qe(t,e),Je([(0,n.Property)(null)],t.prototype,"content",void 0),Je([(0,n.Property)(null)],t.prototype,"header",void 0),Je([(0,n.Property)(null)],t.prototype,"cssClass",void 0),Je([(0,n.Property)(null)],t.prototype,"iconCss",void 0),Je([(0,n.Property)(!1)],t.prototype,"expanded",void 0),Je([(0,n.Property)(!0)],t.prototype,"visible",void 0),Je([(0,n.Property)(!1)],t.prototype,"disabled",void 0),Je([(0,n.Property)()],t.prototype,"id",void 0),t}(n.ChildProperty),St=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.keyConfigs={moveUp:"uparrow",moveDown:"downarrow",enter:"enter",space:"space",home:"home",end:"end"},s}return Qe(t,e),t.prototype.destroy=function(){(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate();var t=this.element;if(e.prototype.destroy.call(this),this.unWireEvents(),this.isDestroy=!0,this.restoreContent(null),[].slice.call(t.children).forEach((function(e){t.removeChild(e)})),this.trgtEle){for(this.trgtEle=null;this.ctrlTem.firstElementChild;)t.appendChild(this.ctrlTem.firstElementChild);this.ctrlTem=null}t.classList.remove(Ze),t.removeAttribute("style"),this.element.removeAttribute("data-ripple"),!this.isNested&&n.isRippleEnabled&&this.removeRippleEffect()},t.prototype.preRender=function(){var e=(0,n.closest)(this.element,"."+rt);this.isNested=!1,this.templateEle=[],this.isDestroy||(this.isDestroy=!1),e&&e.firstElementChild&&e.firstElementChild.firstElementChild?e.firstElementChild.firstElementChild.classList.contains($e)&&(e.classList.add("e-nested"),this.isNested=!0):this.element.classList.add(Ze),this.enableRtl&&this.add(this.element,dt)},t.prototype.add=function(e,t){e.classList.add(t)},t.prototype.remove=function(e,t){e.classList.remove(t)},t.prototype.render=function(){this.initializeHeaderTemplate(),this.initializeItemTemplate(),this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){var e=(0,n.formatUnit)(this.width),t=(0,n.formatUnit)(this.height);(0,n.setStyleAttribute)(this.element,{width:e,height:t}),(0,n.isNullOrUndefined)(this.initExpand)&&(this.initExpand=[]),this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices)},t.prototype.renderControl=function(){this.trgtEle=this.element.children.length>0?(0,n.select)("div",this.element):null,this.renderItems(),this.initItemExpand()},t.prototype.wireFocusEvents=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll("."+et));e<t.length;e++){var i=t[e],s=i.querySelector("."+st);i.childElementCount>0&&s&&(n.EventHandler.clearEvents(s),n.EventHandler.add(s,"focus",this.focusIn,this),n.EventHandler.add(s,"blur",this.focusOut,this))}},t.prototype.unWireEvents=function(){n.EventHandler.remove(this.element,"click",this.clickHandler),(0,n.isNullOrUndefined)(this.keyModule)||this.keyModule.destroy()},t.prototype.wireEvents=function(){n.EventHandler.add(this.element,"click",this.clickHandler,this),this.isNested||this.isDestroy||(this.removeRippleEffect=(0,n.rippleEffect)(this.element,{selector:"."+st})),this.isNested||(this.keyModule=new n.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}))},t.prototype.templateParser=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?(0,n.compile)(document.querySelector(e).innerHTML.trim()):(0,n.compile)(e)}catch(t){return(0,n.compile)(e)}},t.prototype.initializeHeaderTemplate=function(){this.headerTemplate&&(this.headerTemplateFn=this.templateParser(this.headerTemplate))},t.prototype.initializeItemTemplate=function(){this.itemTemplate&&(this.itemTemplateFn=this.templateParser(this.itemTemplate))},t.prototype.getHeaderTemplate=function(){return this.headerTemplateFn},t.prototype.getItemTemplate=function(){return this.itemTemplateFn},t.prototype.focusIn=function(e){e.target.parentElement.classList.add(tt)},t.prototype.focusOut=function(e){e.target.parentElement.classList.remove(tt)},t.prototype.ctrlTemplate=function(){var e;this.ctrlTem=this.element.cloneNode(!0);var t=(0,n.select)("."+gt,this.element);e=t?t.children:this.element.children;var i=[];[].slice.call(e).forEach((function(e){i.push({header:e.childElementCount>0&&e.children[0]?e.children[0]:"",content:e.childElementCount>1&&e.children[1]?e.children[1]:""}),e.parentNode.removeChild(e)})),t&&this.element.removeChild(t),this.setProperties({items:i},!0)},t.prototype.toggleIconGenerate=function(){var e=this.createElement("div",{className:ot}),t=this.createElement("span",{className:"e-tgl-collapse-icon e-icons"});return e.appendChild(t),e},t.prototype.initItemExpand=function(){var e=this.initExpand.length;if(0!==e){if("Single"===this.expandMode)this.expandItem(!0,this.initExpand[e-1]);else for(var t=0;t<e;t++)this.expandItem(!0,this.initExpand[parseInt(t.toString(),10)]);this.isReact&&this.renderReactTemplates()}},t.prototype.renderItems=function(){var e,t,i=this,s=this.element;if((0,n.isNullOrUndefined)(this.trgtEle)||this.ctrlTemplate(),this.dataSource.length>0)this.dataSource.forEach((function(e,r){t=i.renderInnerItem(e,r),s.appendChild(t),t.childElementCount>0&&(n.EventHandler.add(t.querySelector("."+st),"focus",i.focusIn,i),n.EventHandler.add(t.querySelector("."+st),"blur",i.focusOut,i))}));else{var r=this.items;s&&r.length>0&&r.forEach((function(t,r){e=i.renderInnerItem(t,r),s.appendChild(e),e.childElementCount>0&&(n.EventHandler.add(e.querySelector("."+st),"focus",i.focusIn,i),n.EventHandler.add(e.querySelector("."+st),"blur",i.focusOut,i))}))}this.isReact&&this.renderReactTemplates()},t.prototype.clickHandler=function(e){var t,i=e.target,s=this.getItems(),r={};if((0,n.closest)(i,"."+$e)===this.element){i.classList.add("e-target");var l,o=(0,n.closest)(i,"."+et),a=(0,n.closest)(i,"."+st),d=(0,n.closest)(i,"."+rt);o&&((0,n.isNullOrUndefined)(a)||(0,n.isNullOrUndefined)(d))&&(a=o.children[0],d=o.children[1]),a&&(t=(0,n.select)("."+ot,a)),a?l=(0,n.closest)(a,"."+et):d&&(l=(0,n.closest)(d,"."+et));var h=this.getIndexByItem(o);l&&(r.item=s[this.getIndexByItem(l)]),r.originalEvent=e,!(!(0,n.isNullOrUndefined)(t)&&o.childElementCount<=1)||!(0,n.isNullOrUndefined)(d)&&(0,n.isNullOrUndefined)((0,n.select)("."+st+" ."+ot,l))||(o.appendChild(this.contentRendering(h)),this.ariaAttrUpdate(o)),this.afterContentRender(i,r,o,a,d,l),this.isReact&&this.renderReactTemplates()}},t.prototype.afterContentRender=function(e,t,i,s,r,l){var o=this,a=[];this.trigger("clicked",t);var d=r&&!(0,n.isNullOrUndefined)((0,n.select)(".e-target",r)),h="."+rt+" ."+$e,c=r&&!(0,n.isNullOrUndefined)((0,n.select)("."+$e,r))&&(0,n.isNullOrUndefined)((0,n.closest)(e,h)),p=r&&(0,n.isNullOrUndefined)((0,n.select)("."+$e,r))||!((0,n.closest)(e,"."+$e)===this.element);if(d=d&&(c||p),e.classList.remove("e-target"),!(e.classList.contains(rt)||e.classList.contains(lt)||d)){var u=this.element.querySelector("."+gt),f=u?u.children:this.element.children;[].slice.call(f).forEach((function(e){e.classList.contains(ut)&&a.push(e)}));var m=[].slice.call(this.element.querySelectorAll("."+et+" [e-animate]"));if(m.length>0)for(var v=0,g=m;v<g.length;v++){var y=g[v];a.push(y.parentElement)}var b=-1!==a.indexOf(l)&&"true"===r.getAttribute("e-animate"),C=!1;if(!(0,n.isNullOrUndefined)(i)&&!(0,n.isNullOrUndefined)(s)){var S=(0,n.select)("."+rt,i),I=(0,n.closest)(i,"."+Ze).querySelector("."+vt);if((0,n.isNullOrUndefined)(S))return;C=I===i,!(0,n.isVisible)(S)||b&&!l.classList.contains(pt)?(a.length>0&&"Single"===this.expandMode&&!b&&a.forEach((function(e){o.collapse((0,n.select)("."+rt,e)),e.classList.remove(vt)})),this.expand(S)):this.collapse(S),(0,n.isNullOrUndefined)(I)||C||I.classList.remove(vt)}}},t.prototype.eleMoveFocus=function(e,t,i){var s,r=(0,n.closest)(i,"."+et);i===t?s=("moveUp"===e?i.lastElementChild:i).querySelector("."+st):i.classList.contains(st)&&(r="moveUp"===e?r.previousElementSibling:r.nextElementSibling)&&(s=(0,n.select)("."+st,r)),s&&s.focus()},t.prototype.keyActionHandler=function(e){var t=e.target,i=(0,n.closest)(e.target,st);if(!(0,n.isNullOrUndefined)(i)||t.classList.contains($e)||t.classList.contains(st)){var s,r=this.element;switch(e.action){case"moveUp":case"moveDown":this.eleMoveFocus(e.action,r,t);break;case"space":case"enter":s=t.nextElementSibling,!(0,n.isNullOrUndefined)(s)&&s.classList.contains(rt)?"true"!==s.getAttribute("e-animate")&&t.click():t.click(),e.preventDefault();break;case"home":case"end":("home"===e.action?r.firstElementChild.children[0]:r.lastElementChild.children[0]).focus(),e.preventDefault()}}},t.prototype.headerEleGenerate=function(){var e=this.createElement("div",{className:st,id:(0,n.getUniqueID)("acrdn_header")});return(0,n.attributes)(e,{tabindex:"0",role:"button","aria-disabled":"false","aria-expanded":"false"}),e},t.prototype.renderInnerItem=function(e,t){var i=this.createElement("div",{className:et,id:e.id||(0,n.getUniqueID)("acrdn_item")});if(this.headerTemplate){var s=this.headerEleGenerate(),r=this.createElement("div",{className:nt});return s.appendChild(r),(0,n.append)(this.getHeaderTemplate()(e,this,"headerTemplate",this.element.id+"_headerTemplate",!1),r),i.appendChild(s),s.appendChild(this.toggleIconGenerate()),this.add(i,ct),i}e.header&&this.angularnativeCondiCheck(e,"header")&&(this.enableHtmlSanitizer&&"string"==typeof e.header&&(e.header=n.SanitizeHtmlHelper.sanitize(e.header)),s=this.headerEleGenerate(),r=this.createElement("div",{className:nt}),s.appendChild(r),s.appendChild(this.fetchElement(r,e.header,t)),i.appendChild(s));var l=(0,n.select)("."+st,i);if(!e.expanded||(0,n.isNullOrUndefined)(t)||this.enablePersistence||-1===this.initExpand.indexOf(t)&&this.initExpand.push(t),e.cssClass&&(0,n.addClass)([i],e.cssClass.split(" ")),e.disabled&&(0,n.addClass)([i],ft),!1===e.visible&&(0,n.addClass)([i],it),e.iconCss){var o=this.createElement("div",{className:"e-acrdn-header-icon"}),a=this.createElement("span",{className:e.iconCss+" e-icons"});o.appendChild(a),(0,n.isNullOrUndefined)(l)?((l=this.headerEleGenerate()).appendChild(o),i.appendChild(l)):l.insertBefore(o,l.childNodes[0])}if(e.content&&this.angularnativeCondiCheck(e,"content")){var d=this.toggleIconGenerate();(0,n.isNullOrUndefined)(l)&&(l=this.headerEleGenerate(),i.appendChild(l)),l.appendChild(d),this.add(i,ct)}return i},t.prototype.angularnativeCondiCheck=function(e,t){var i="content"===t?e.content:e.header;if(this.isAngular&&!(0,n.isNullOrUndefined)(i.elementRef)){var s=i.elementRef.nativeElement.data;if((0,n.isNullOrUndefined)(s)||""===s||-1===s.indexOf("bindings="))return!0;var r=JSON.parse(i.elementRef.nativeElement.data.replace("bindings=",""));return!(!(0,n.isNullOrUndefined)(r)&&"false"===r["ng-reflect-ng-if"])}return!0},t.prototype.fetchElement=function(e,t,i){var s,r,l;try{if(document.querySelectorAll(t).length&&"Button"!==t){var o=document.querySelector(t);r=o.outerHTML.trim(),e.appendChild(o),o.style.display=""}else s=(0,n.compile)(t)}catch(i){"string"==typeof t?e.innerHTML=n.SanitizeHtmlHelper.sanitize(t):t instanceof HTMLElement?(e.appendChild(t),this.trgtEle&&(e.firstElementChild.style.display="")):s=(0,n.compile)(t)}if(!(0,n.isNullOrUndefined)(s)){this.isReact&&this.renderReactTemplates();var a=void 0,d=void 0;e.classList.contains(nt)?(a=this.element.id+i+"_header",d="header"):e.classList.contains(lt)&&(a=this.element.id+i+"_content",d="content"),l=s({},this,d,a,this.isStringTemplate)}return(0,n.isNullOrUndefined)(l)||!(l.length>0)||(0,n.isNullOrUndefined)(l[0].tagName)&&1===l.length?0===e.childElementCount&&(e.innerHTML=n.SanitizeHtmlHelper.sanitize(t)):[].slice.call(l).forEach((function(t){(0,n.isNullOrUndefined)(t.tagName)||(t.style.display=""),e.appendChild(t)})),(0,n.isNullOrUndefined)(r)||-1===this.templateEle.indexOf(t)&&this.templateEle.push(t),e},t.prototype.ariaAttrUpdate=function(e){var t=(0,n.select)("."+st,e),i=(0,n.select)("."+rt,e);t.setAttribute("aria-controls",i.id),i.setAttribute("aria-labelledby",t.id),i.setAttribute("role","region")},t.prototype.contentRendering=function(e){var t=this.createElement("div",{className:rt+" "+ht,id:(0,n.getUniqueID)("acrdn_panel")});(0,n.attributes)(t,{"aria-hidden":"true"});var i=this.createElement("div",{className:lt});return this.dataSource.length>0?(this.isReact&&this.renderReactTemplates(),(0,n.append)(this.getItemTemplate()(this.dataSource[parseInt(e.toString(),10)],this,"itemTemplate",this.element.id+"_itemTemplate",!1),i),t.appendChild(i)):(this.enableHtmlSanitizer&&(this.items[parseInt(e.toString(),10)].content,1)&&(this.items[parseInt(e.toString(),10)].content=n.SanitizeHtmlHelper.sanitize(this.items[parseInt(e.toString(),10)].content)),t.appendChild(this.fetchElement(i,this.items[parseInt(e.toString(),10)].content,e))),t},t.prototype.expand=function(e){var t=this,i=this.getItems(),s=(0,n.closest)(e,"."+et);if(!((0,n.isNullOrUndefined)(e)||(0,n.isVisible)(e)&&"true"!==e.getAttribute("e-animate")||s.classList.contains(ft))){var r=(0,n.closest)(s,"."+Ze).querySelector("."+vt),l={name:this.animation.expand.effect,duration:this.animation.expand.duration,timingFunction:this.animation.expand.easing},o=(0,n.select)("."+ot,s).firstElementChild,a={element:s,item:i[this.getIndexByItem(s)],index:this.getIndexByItem(s),content:s.querySelector("."+rt),isExpanded:!0};this.trigger("expanding",a,(function(i){i.cancel||(o.classList.add(mt),t.expandedItemsPush(s),(0,n.isNullOrUndefined)(r)||r.classList.remove(vt),s.classList.add(vt),"None"===l.name&&"Enable"!==n.animationMode||"Disable"===n.animationMode?(t.expandProgress("begin",o,e,s,i),t.expandProgress("end",o,e,s,i)):t.expandAnimation(l.name,o,e,s,l,i))}))}},t.prototype.expandAnimation=function(e,t,i,s,r,l){var o,a=this;"None"===e&&"Enable"===n.animationMode&&(e="SlideDown",r.name="SlideDown"),this.lastActiveItemId=s.id,"SlideDown"===e?(r.begin=function(){a.expandProgress("begin",t,i,s,l),i.style.position="absolute",o=s.offsetHeight,i.style.maxHeight=i.offsetHeight+"px",s.style.maxHeight=""},r.progress=function(){s.style.minHeight=o+i.offsetHeight+"px"},r.end=function(){(0,n.setStyleAttribute)(i,{position:"",maxHeight:""}),s.style.minHeight="",a.expandProgress("end",t,i,s,l)}):(r.begin=function(){a.expandProgress("begin",t,i,s,l)},r.end=function(){a.expandProgress("end",t,i,s,l)}),new n.Animation(r).animate(i)},t.prototype.expandProgress=function(e,t,i,s,r){this.remove(i,ht),this.add(s,pt),this.add(t,at),"end"===e&&(this.add(s,ut),i.setAttribute("aria-hidden","false"),(0,n.attributes)(i.previousElementSibling,{"aria-expanded":"true"}),t.classList.remove(mt),this.trigger("expanded",r))},t.prototype.expandedItemsPush=function(e){var t=this.getIndexByItem(e);if(-1===this.expandedIndices.indexOf(t)){var i=[].slice.call(this.expandedIndices);i.push(t),this.setProperties({expandedIndices:i},!0)}},t.prototype.getIndexByItem=function(e){var t=this.getItemElements();return[].slice.call(t).indexOf(e)},t.prototype.getItemElements=function(){var e=[],t=this.element.children;return[].slice.call(t).forEach((function(t){t.classList.contains(et)&&e.push(t)})),e},t.prototype.expandedItemsPop=function(e){var t=this.getIndexByItem(e),i=[].slice.call(this.expandedIndices);i.splice(i.indexOf(t),1),this.setProperties({expandedIndices:i},!0)},t.prototype.collapse=function(e){var t=this,i=this.getItems(),s=(0,n.closest)(e,"."+et);if(!(0,n.isNullOrUndefined)(e)&&(0,n.isVisible)(e)&&!s.classList.contains(ft)){var r={name:this.animation.collapse.effect,duration:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing},l=(0,n.select)("."+ot,s).firstElementChild,o={element:s,item:i[this.getIndexByItem(s)],index:this.getIndexByItem(s),content:s.querySelector("."+rt),isExpanded:!1};this.trigger("expanding",o,(function(i){i.cancel||(t.expandedItemsPop(s),s.classList.remove(vt),l.classList.add(mt),"None"===r.name&&"Enable"!==n.animationMode||"Disable"===n.animationMode?(t.collapseProgress("begin",l,e,s,i),t.collapseProgress("end",l,e,s,i)):t.collapseAnimation(r.name,e,s,l,r,i))}))}},t.prototype.collapseAnimation=function(e,t,i,s,r,l){var o,a,d,h,c=this;"None"===e&&"Enable"===n.animationMode&&(e="SlideUp",r.name="SlideUp"),this.lastActiveItemId=i.id,"SlideUp"===e?(r.begin=function(){d=i.offsetHeight,i.style.minHeight=d+"px",t.style.position="absolute",o=i.offsetHeight,a=t.offsetHeight,t.style.maxHeight=a+"px",c.collapseProgress("begin",s,t,i,l)},r.progress=function(){(h=o-(a-t.offsetHeight))<d&&(i.style.minHeight=h+"px")},r.end=function(){t.style.display="none",c.collapseProgress("end",s,t,i,l),i.style.minHeight="",(0,n.setStyleAttribute)(t,{position:"",maxHeight:"",display:""})}):(r.begin=function(){c.collapseProgress("begin",s,t,i,l)},r.end=function(){c.collapseProgress("end",s,t,i,l)}),new n.Animation(r).animate(t)},t.prototype.collapseProgress=function(e,t,i,s,r){this.remove(t,at),this.remove(s,pt),"end"===e&&(this.add(i,ht),t.classList.remove(mt),this.remove(s,ut),i.setAttribute("aria-hidden","true"),(0,n.attributes)(i.previousElementSibling,{"aria-expanded":"false"}),this.trigger("expanded",r))},t.prototype.getModuleName=function(){return"accordion"},t.prototype.getItems=function(){return this.itemTemplate&&this.headerTemplate?this.dataSource:this.items},t.prototype.addItem=function(e,t){var i=this,s=this.element,r=this.getItemElements(),l=this.getItems();(0,n.isNullOrUndefined)(t)&&(t=l.length),s.childElementCount>=t&&(e instanceof Array?e:[e]).forEach((function(e,o){var a=t+o;l.splice(a,0,e);var d=i.renderInnerItem(e,a);s.childElementCount===a?s.appendChild(d):s.insertBefore(d,r[parseInt(a.toString(),10)]),n.EventHandler.add(d.querySelector("."+st),"focus",i.focusIn,i),n.EventHandler.add(d.querySelector("."+st),"blur",i.focusOut,i),i.expandedIndices=[],i.expandedItemRefresh(),e&&e.expanded&&i.expandItem(!0,a)})),this.isReact&&this.renderReactTemplates()},t.prototype.expandedItemRefresh=function(){var e=this,t=this.getItemElements();[].slice.call(t).forEach((function(t){t.classList.contains(pt)&&e.expandedItemsPush(t)}))},t.prototype.removeItem=function(e){if(this.isReact||this.isAngular){var t=(0,n.selectAll)("."+et,this.element)[parseInt(e.toString(),10)],i=(0,n.select)("."+nt,t),s=(0,n.select)("."+lt,t);this.clearAccordionTemplate(i,this.dataSource.length>0?"headerTemplate":"header",nt),this.clearAccordionTemplate(s,this.dataSource.length>0?"itemTemplate":"content",lt)}var r=this.getItemElements()[parseInt(e.toString(),10)],l=this.getItems();(0,n.isNullOrUndefined)(r)||(this.restoreContent(e),(0,n.detach)(r),l.splice(e,1),this.expandedIndices=[],this.expandedItemRefresh())},t.prototype.select=function(e){var t=this.getItemElements()[parseInt(e.toString(),10)];(0,n.isNullOrUndefined)(t)||(0,n.isNullOrUndefined)((0,n.select)("."+st,t))||t.children[0].focus()},t.prototype.hideItem=function(e,t){var i=this.getItemElements()[parseInt(e.toString(),10)];(0,n.isNullOrUndefined)(i)||((0,n.isNullOrUndefined)(t)&&(t=!0),t?this.add(i,it):this.remove(i,it))},t.prototype.enableItem=function(e,t){var i=this.getItemElements()[parseInt(e.toString(),10)];if(!(0,n.isNullOrUndefined)(i)){var s=i.firstElementChild;t?(this.remove(i,ft),(0,n.attributes)(s,{tabindex:"0","aria-disabled":"false"}),s.focus()):(i.classList.contains(ut)&&(this.expandItem(!1,e),this.eleMoveFocus("movedown",this.element,s)),this.add(i,ft),s.setAttribute("aria-disabled","true"),s.removeAttribute("tabindex"))}},t.prototype.expandItem=function(e,t){var i=this,s=this.getItemElements();if((0,n.isNullOrUndefined)(t))if("Single"===this.expandMode&&e){var r=s[s.length-1];this.itemExpand(e,r,this.getIndexByItem(r))}else{var l=(0,n.select)("#"+this.lastActiveItemId,this.element);[].slice.call(s).forEach((function(t){i.itemExpand(e,t,i.getIndexByItem(t)),t.classList.remove(vt)}));var o=(0,n.select)("."+vt,this.element);o&&o.classList.remove(vt),l&&l.classList.add(vt)}else{if(r=s[parseInt(t.toString(),10)],(0,n.isNullOrUndefined)(r)||!r.classList.contains(ct)||r.classList.contains(ut)&&e)return;"Single"===this.expandMode&&this.expandItem(!1),this.itemExpand(e,r,t)}},t.prototype.itemExpand=function(e,t,i){var s=t.children[1];t.classList.contains(ft)||((0,n.isNullOrUndefined)(s)&&e?(s=this.contentRendering(i),t.appendChild(s),this.ariaAttrUpdate(t),this.expand(s)):(0,n.isNullOrUndefined)(s)||(e?this.expand(s):this.collapse(s)),this.isReact&&this.renderReactTemplates())},t.prototype.destroyItems=function(){this.restoreContent(null),(this.isReact||this.isAngular||this.isVue)&&this.clearTemplate(),[].slice.call(this.element.querySelectorAll("."+et)).forEach((function(e){(0,n.detach)(e)}))},t.prototype.restoreContent=function(e){var t;t=(0,n.isNullOrUndefined)(e)?this.element:this.element.querySelectorAll("."+et)[parseInt(e.toString(),10)],this.templateEle.forEach((function(e){(0,n.isNullOrUndefined)(t.querySelector(e))||(document.body.appendChild(t.querySelector(e)).style.display="none")}))},t.prototype.updateItem=function(e,t){if(!(0,n.isNullOrUndefined)(e)){var i=this.getItems(),s=i[parseInt(t.toString(),10)];i.splice(t,1),this.restoreContent(t);var r=(0,n.select)("."+nt,e),l=(0,n.select)("."+lt,e);(this.isReact||this.isAngular)&&(this.clearAccordionTemplate(r,"header",nt),this.clearAccordionTemplate(l,"content",lt)),(0,n.detach)(e),this.addItem(s,t)}},t.prototype.setTemplate=function(e,t,i){this.fetchElement(t,e,i),this.isReact&&this.renderReactTemplates()},t.prototype.clearAccordionTemplate=function(e,t,i){if(this.registeredTemplate&&this.registeredTemplate[""+t])for(var s=this.registeredTemplate,r=0;r<s[""+t].length;r++){var l=s[""+t][parseInt(r.toString(),10)].rootNodes[0],o=(0,n.closest)(l,"."+i);if(!(0,n.isNullOrUndefined)(o)&&o===e||(0,n.isNullOrUndefined)(l.parentNode)){this.clearTemplate([t],[s[""+t][parseInt(r.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0){var a=this.portals;for(r=0;r<a.length;r++){var d=a[parseInt(r.toString(),10)];if(o=(0,n.closest)(d.containerInfo,"."+i),!(0,n.isNullOrUndefined)(o)&&o===e){this.clearTemplate([t],r);break}}}},t.prototype.getPersistData=function(){return this.addOnPersist(["expandedIndices"])},t.prototype.onPropertyChanged=function(e,t){for(var i=this.element,s=!1,r=0,l=Object.keys(e);r<l.length;r++)switch(l[r]){case"items":if(e.items instanceof Array&&t.items instanceof Array)s=!0;else for(var o=Object.keys(e.items),a=0;a<o.length;a++)for(var d=parseInt(Object.keys(e.items)[parseInt(a.toString(),10)],10),h=Object.keys(e.items[parseInt(d.toString(),10)]),c=0;c<h.length;c++){var p=(0,n.selectAll)("."+et,this.element)[parseInt(d.toString(),10)],u=Object(t.items[parseInt(d.toString(),10)])[""+h[parseInt(c.toString(),10)]],f=Object(e.items[parseInt(d.toString(),10)])[""+h[parseInt(c.toString(),10)]],m=h[parseInt(c.toString(),10)],v=(0,n.select)("."+lt,p);if(("header"===m||"iconCss"===m||"expanded"===m||"content"===m&&""===u)&&this.updateItem(p,d),"cssClass"!==h[parseInt(c.toString(),10)]||(0,n.isNullOrUndefined)(p)||(u&&(0,n.removeClass)([p],u.split(" ")),f&&(0,n.addClass)([p],f.split(" "))),"visible"!==h[parseInt(c.toString(),10)]||(0,n.isNullOrUndefined)(p)||(!1===Object(e.items[parseInt(d.toString(),10)])[""+h[parseInt(c.toString(),10)]]?p.classList.add(it):p.classList.remove(it)),"disabled"!==h[parseInt(c.toString(),10)]||(0,n.isNullOrUndefined)(p)||this.enableItem(d,!f),h.indexOf("header")<0&&"content"===h[parseInt(c.toString(),10)]&&!(0,n.isNullOrUndefined)(p)&&2===p.children.length)if("function"==typeof f){(this.isAngular||this.isReact)&&this.clearAccordionTemplate(v,h[parseInt(c.toString(),10)],lt);var g=p.querySelector("."+lt);g.innerHTML="",this.setTemplate(f,g,d)}else p.classList.contains(pt)&&this.expandItem(!1,d),(0,n.detach)(p.querySelector("."+rt))}break;case"dataSource":case"expandedIndices":null===this.expandedIndices&&(this.expandedIndices=[]),s=!0;break;case"headerTemplate":this.initializeHeaderTemplate(),s=!0;break;case"itemTemplate":this.initializeItemTemplate(),s=!0;break;case"enableRtl":e.enableRtl?this.add(i,dt):this.remove(i,dt);break;case"height":(0,n.setStyleAttribute)(this.element,{height:(0,n.formatUnit)(e.height)});break;case"width":(0,n.setStyleAttribute)(this.element,{width:(0,n.formatUnit)(e.width)});break;case"expandMode":"Single"===e.expandMode&&this.expandedIndices.length>1&&this.expandItem(!1)}s&&(this.initExpand=[],this.expandedIndices.length>0&&(this.initExpand=this.expandedIndices),this.destroyItems(),this.renderItems(),this.initItemExpand())},Je([(0,n.Collection)([],Ct)],t.prototype,"items",void 0),Je([(0,n.Property)([])],t.prototype,"dataSource",void 0),Je([(0,n.Property)()],t.prototype,"itemTemplate",void 0),Je([(0,n.Property)()],t.prototype,"headerTemplate",void 0),Je([(0,n.Property)("100%")],t.prototype,"width",void 0),Je([(0,n.Property)("auto")],t.prototype,"height",void 0),Je([(0,n.Property)([])],t.prototype,"expandedIndices",void 0),Je([(0,n.Property)("Multiple")],t.prototype,"expandMode",void 0),Je([(0,n.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),Je([(0,n.Complex)({},bt)],t.prototype,"animation",void 0),Je([(0,n.Event)()],t.prototype,"clicked",void 0),Je([(0,n.Event)()],t.prototype,"expanding",void 0),Je([(0,n.Event)()],t.prototype,"expanded",void 0),Je([(0,n.Event)()],t.prototype,"created",void 0),Je([(0,n.Event)()],t.prototype,"destroyed",void 0),Je([n.NotifyPropertyChanges],t)}(n.Component),It=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Et=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},xt=function(e){function t(t,i){return e.call(this,t,i)||this}return It(t,e),t.prototype.preRender=function(){this.isMenu=!1,this.element.id=this.element.id||(0,n.getUniqueID)("ej2-contextmenu"),e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),(0,n.attributes)(this.element,{role:"menubar",tabindex:"0"}),this.element.style.zIndex=(0,q.getZindexPartial)(this.element).toString()},t.prototype.open=function(t,i,s){e.prototype.openMenu.call(this,null,null,t,i,null,s)},t.prototype.close=function(){e.prototype.closeMenu.call(this)},t.prototype.onPropertyChanged=function(t,i){e.prototype.onPropertyChanged.call(this,t,i);for(var s=0,n=Object.keys(t);s<n.length;s++)switch(n[s]){case"filter":this.close(),this.filter=t.filter;break;case"target":this.unWireEvents(i.target),this.wireEvents()}},t.prototype.getModuleName=function(){return"contextmenu"},Et([(0,n.Property)("")],t.prototype,"target",void 0),Et([(0,n.Property)("")],t.prototype,"filter",void 0),Et([(0,n.Collection)([],he)],t.prototype,"items",void 0),Et([n.NotifyPropertyChanges],t)}(pe),Nt=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ot=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},wt="e-vertical",Lt="e-hamburger",kt=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.tempItems=[],s}return Nt(t,e),t.prototype.getModuleName=function(){return"menu"},t.prototype.preRender=function(){if(this.isMenu=!0,this.element.id=this.element.id||(0,n.getUniqueID)("ej2-menu"),this.template){try{"function"!=typeof this.template&&document.querySelectorAll(this.template).length&&(this.template=document.querySelector(this.template).innerHTML.trim(),this.clearChanges())}catch(e){}this.updateMenuItems(this.items)}else this.updateMenuItems(this.items);e.prototype.preRender.call(this)},t.prototype.initialize=function(){e.prototype.initialize.call(this),(0,n.attributes)(this.element,{role:"menubar",tabindex:"0"}),"Vertical"===this.orientation?(this.element.classList.add(wt),this.hamburgerMode&&!this.target&&this.element.previousElementSibling.classList.add(wt),this.element.setAttribute("aria-orientation","vertical")):n.Browser.isDevice&&!this.enableScrolling&&this.element.parentElement.classList.add("e-scrollable"),this.hamburgerMode&&(this.element.parentElement.classList.add(Lt),"Horizontal"===this.orientation&&this.element.classList.add("e-hide-menu"))},t.prototype.updateMenuItems=function(e){this.tempItems=e,this.items=[],this.tempItems.map(this.createMenuItems,this),this.setProperties({items:this.items},!0),this.tempItems=[]},t.prototype.onPropertyChanged=function(t,i){for(var s=this,r=0,l=Object.keys(t);r<l.length;r++)switch(l[r]){case"orientation":"Vertical"===t.orientation?(this.element.classList.add(wt),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.add(wt),this.element.classList.remove("e-hide-menu")),this.element.setAttribute("aria-orientation","vertical")):(this.element.classList.remove(wt),this.hamburgerMode&&(this.target||this.element.previousElementSibling.classList.remove(wt),this.element.classList.add("e-hide-menu")),this.element.removeAttribute("aria-orientation"));break;case"items":Object.keys(i.items).length||this.updateMenuItems(t.items);break;case"hamburgerMode":this.element.previousElementSibling||e.prototype.createHeaderContainer.call(this),t.hamburgerMode?(this.element.parentElement.classList.add(Lt),[].slice.call(this.element.getElementsByClassName("e-blankicon")).forEach((function(e){e.style[s.enableRtl?"paddingRight":"paddingLeft"]=""}))):(this.element.parentElement.classList.remove(Lt),"Vertical"===this.orientation&&this.setBlankIconStyle(this.element)),"Vertical"===this.orientation?(this.target||this.element.previousElementSibling.classList.add(wt),this.element.classList.remove("e-hide-menu")):(this.target?this.element.previousElementSibling.classList.add(wt):this.element.previousElementSibling.classList.remove(wt),this.element.classList[t.hamburgerMode?"add":"remove"]("e-hide-menu"));break;case"title":this.hamburgerMode&&this.element.previousElementSibling&&(t.title=this.enableHtmlSanitizer?n.SanitizeHtmlHelper.sanitize(t.title):t.title,this.element.previousElementSibling.querySelector(".e-menu-title").innerHTML=t.title);break;case"target":this.hamburgerMode&&(this.unWireEvents(i.target),this.wireEvents(),"Horizontal"===this.orientation&&(t.target?this.element.previousElementSibling.classList.add(wt):(this.element.previousElementSibling||e.prototype.createHeaderContainer.call(this),this.element.previousElementSibling.classList.remove(wt)),this.element.classList.add("e-hide-menu")))}e.prototype.onPropertyChanged.call(this,t,i)},t.prototype.createMenuItems=function(e){var t,i,s=this.items,n=this.getField("parentId");if(e[""+n]){for(t=this.getIndex(e[""+n].toString(),!0),i=0;i<t.length;i++)s[t[i]].items||(s[t[i]].items=[]),s=s[t[i]].items;s.push(e)}else this.items.push(e)},t.prototype.open=function(){e.prototype.openHamburgerMenu.call(this)},t.prototype.close=function(){e.prototype.closeHamburgerMenu.call(this)},Ot([(0,n.Property)("Horizontal")],t.prototype,"orientation",void 0),Ot([(0,n.Property)("")],t.prototype,"target",void 0),Ot([(0,n.Property)(null)],t.prototype,"template",void 0),Ot([(0,n.Property)(!1)],t.prototype,"enableScrolling",void 0),Ot([(0,n.Property)(!1)],t.prototype,"hamburgerMode",void 0),Ot([(0,n.Property)("Menu")],t.prototype,"title",void 0),Ot([(0,n.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),Ot([(0,n.Complex)({itemId:"id",text:"text",parentId:"parentId",iconCss:"iconCss",url:"url",separator:"separator",children:"items"},de)],t.prototype,"fields",void 0),Ot([n.NotifyPropertyChanges],t)}(pe),At=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Tt=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},Pt="e-tab",Dt="e-tab-header",Mt="e-content",Ht="e-nested",Ut="e-item",Rt="e-template",Bt="e-rtl",jt="e-active",qt="e-disable",Wt="e-hidden",Ft="e-focused",Vt="e-icons",_t="e-icon",zt="e-icon-tab",Xt="e-close-icon",Kt="e-close-show",Yt="e-tab-text",Gt="e-indicator",Qt="e-tab-wrap",Jt="e-text-wrap",Zt="e-tab-icon",$t="e-toolbar-items",ei="e-toolbar-item",ti="e-toolbar-pop",ii="e-toolbar-popup",si="e-progress",ni="e-overlay",ri="e-vertical-tab",li="e-vertical",oi="e-vertical-left",ai="e-vertical-right",di="e-horizontal-bottom",hi="e-fill-mode",ci="tabitem_",pi="e-reorder-active-item",ui=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),Tt([(0,n.Property)("SlideLeftIn")],t.prototype,"effect",void 0),Tt([(0,n.Property)(600)],t.prototype,"duration",void 0),Tt([(0,n.Property)("ease")],t.prototype,"easing",void 0),t}(n.ChildProperty),fi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),Tt([(0,n.Complex)({effect:"SlideLeftIn",duration:600,easing:"ease"},ui)],t.prototype,"previous",void 0),Tt([(0,n.Complex)({effect:"SlideRightIn",duration:600,easing:"ease"},ui)],t.prototype,"next",void 0),t}(n.ChildProperty),mi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),Tt([(0,n.Property)("")],t.prototype,"text",void 0),Tt([(0,n.Property)("")],t.prototype,"iconCss",void 0),Tt([(0,n.Property)("left")],t.prototype,"iconPosition",void 0),t}(n.ChildProperty),vi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return At(t,e),Tt([(0,n.Complex)({},mi)],t.prototype,"header",void 0),Tt([(0,n.Property)(null)],t.prototype,"headerTemplate",void 0),Tt([(0,n.Property)("")],t.prototype,"content",void 0),Tt([(0,n.Property)("")],t.prototype,"cssClass",void 0),Tt([(0,n.Property)(!1)],t.prototype,"disabled",void 0),Tt([(0,n.Property)(!0)],t.prototype,"visible",void 0),Tt([(0,n.Property)()],t.prototype,"id",void 0),Tt([(0,n.Property)(-1)],t.prototype,"tabIndex",void 0),t}(n.ChildProperty),gi=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.show={},s.hide={},s.maxHeight=0,s.title="Close",s.isInteracted=!1,s.lastIndex=0,s.isAdd=!1,s.isIconAlone=!1,s.draggableItems=[],s.resizeContext=s.refreshActiveTabBorder.bind(s),s.keyConfigs={tab:"tab",home:"home",end:"end",enter:"enter",space:"space",delete:"delete",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},s}return At(t,e),t.prototype.destroy=function(){if((this.isReact||this.isAngular)&&this.clearTemplate(),(0,n.isNullOrUndefined)(this.tbObj)||(this.tbObj.destroy(),this.tbObj=null),this.unWireEvents(),this.element.removeAttribute("aria-disabled"),this.expTemplateContent(),this.isTemplate){var t=(0,n.select)(".e-tab > ."+Mt,this.element);this.element.classList.remove(Rt),(0,n.isNullOrUndefined)(t)||(t.innerHTML=this.cnt)}else for(;this.element.firstElementChild;)(0,n.remove)(this.element.firstElementChild);if(this.btnCls&&(this.btnCls=null),this.hdrEle=null,this.cntEle=null,this.tbItems=null,this.tbItem=null,this.tbPop=null,this.prevItem=null,this.popEle=null,this.bdrLine=null,this.content=null,this.dragItem=null,this.cloneElement=null,this.draggingItems=[],this.draggableItems&&this.draggableItems.length>0){for(var i=0;i<this.draggableItems.length;i++)this.draggableItems[i].destroy(),this.draggableItems[i]=null;this.draggableItems=[]}e.prototype.destroy.call(this),this.trigger("destroyed")},t.prototype.refresh=function(){this.isReact&&this.clearTemplate(),e.prototype.refresh.call(this),this.isReact&&this.renderReactTemplates()},t.prototype.preRender=function(){var e=(0,n.closest)(this.element,"."+Mt);this.prevIndex=0,this.isNested=!1,this.isPopup=!1,this.initRender=!0,this.isSwiped=!1,this.itemIndexArray=[],this.templateEle=[],this.allowDragAndDrop&&(this.dragArea=(0,n.isNullOrUndefined)(this.dragArea)?"#"+this.element.id+" ."+Dt:this.dragArea),(0,n.isNullOrUndefined)(e)||(e.parentElement.classList.add(Ht),this.isNested=!0);var t=n.Browser.info.name,i="msie"===t?"e-ie":"edge"===t?"e-edge":"safari"===t?"e-safari":"";(0,n.setStyleAttribute)(this.element,{width:(0,n.formatUnit)(this.width),height:(0,n.formatUnit)(this.height)}),this.setCssClass(this.element,this.cssClass,!0),(0,n.attributes)(this.element,{"aria-disabled":"false"}),this.setCssClass(this.element,i,!0),this.updatePopAnimationConfig()},t.prototype.render=function(){var e=this;this.btnCls=this.createElement("span",{className:Vt+" "+Xt,attrs:{title:this.title}}),this.tabId=this.element.id.length>0?"-"+this.element.id:(0,n.getRandomId)(),this.renderContainer(),this.wireEvents(),this.initRender=!1,this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates((function(){(0,n.isNullOrUndefined)(e.tbObj)||e.tbObj.refreshOverflow(),e.refreshActiveBorder()}))},t.prototype.renderContainer=function(){var e=this.element;if(this.items.forEach((function(e,t){(0,n.isNullOrUndefined)(e.id)&&!(0,n.isNullOrUndefined)(e.setProperties)&&e.setProperties({id:ci+t.toString()},!0)})),this.items.length>0&&0===e.children.length)e.appendChild(this.createElement("div",{className:Mt})),this.setOrientation(this.headerPlacement,this.createElement("div",{className:Dt})),this.isTemplate=!1;else if(this.element.children.length>0){this.isTemplate=!0,e.classList.add(Rt);var t=e.querySelector("."+Dt);t&&"Bottom"===this.headerPlacement&&this.setOrientation(this.headerPlacement,t)}if(!(0,n.isNullOrUndefined)((0,n.select)("."+Dt,this.element))&&!(0,n.isNullOrUndefined)((0,n.select)("."+Mt,this.element))){if(this.renderHeader(),this.tbItems=(0,n.select)("."+Dt+" ."+$t,this.element),(0,n.isNullOrUndefined)(this.tbItems)||(0,n.rippleEffect)(this.tbItems,{selector:".e-tab-wrap"}),this.renderContent(),(0,n.selectAll)("."+ei,this.element).length>0){this.tbItems=(0,n.select)("."+Dt+" ."+$t,this.element),this.bdrLine=this.createElement("div",{className:Gt+" "+Wt+" e-ignore"});var i=(0,n.select)("."+this.scrCntClass,this.tbItems);(0,n.isNullOrUndefined)(i)?this.tbItems.insertBefore(this.bdrLine,this.tbItems.firstChild):i.insertBefore(this.bdrLine,i.firstChild),this.setContentHeight(!0),this.select(this.selectedItem)}this.setRTL(this.enableRtl)}},t.prototype.renderHeader=function(){var e=this,t=this.headerPlacement,i=[];if(this.hdrEle=this.getTabHeader(),this.addVerticalClass(),this.isTemplate){this.element.children.length>1&&this.element.children[1].classList.contains(Dt)&&this.setProperties({headerPlacement:"Bottom"},!0);for(var s=this.hdrEle.children.length,r=[],l=0;l<s;l++)r.push(this.hdrEle.children.item(l));if(s>0){var o=this.createElement("div",{className:"e-items"});this.hdrEle.appendChild(o),r.forEach((function(t,i){e.lastIndex=i;var s={className:Ut,id:Ut+e.tabId+"_"+i},r=e.createElement("span",{className:Yt,attrs:{role:"presentation"}}).outerHTML,l=e.createElement("div",{className:Jt,innerHTML:r+e.btnCls.outerHTML}).outerHTML,a=e.createElement("div",{className:Qt,innerHTML:l,attrs:{role:"tab",tabIndex:"-1","aria-selected":"false","aria-controls":Mt+e.tabId+"_"+i,"aria-disabled":"false"}});a.querySelector("."+Yt).appendChild(t),o.appendChild(e.createElement("div",s)),(0,n.selectAll)("."+Ut,o)[i].appendChild(a)}))}}else i=this.parseObject(this.items,0);this.tbObj=new Ge({width:"Left"===t||"Right"===t?"auto":"100%",height:"Left"===t||"Right"===t?"100%":"auto",overflowMode:this.overflowMode,items:0!==i.length?i:[],clicked:this.clickHandler.bind(this),scrollStep:this.scrollStep,enableHtmlSanitizer:this.enableHtmlSanitizer,cssClass:this.cssClass}),this.tbObj.isStringTemplate=!0,this.tbObj.createElement=this.createElement,this.tbObj.appendTo(this.hdrEle),(0,n.attributes)(this.hdrEle,{role:"tablist"}),(0,n.isNullOrUndefined)(this.element.getAttribute("aria-label"))?(0,n.isNullOrUndefined)(this.element.getAttribute("aria-labelledby"))||(this.hdrEle.setAttribute("aria-labelledby",this.element.getAttribute("aria-labelledby")),this.element.removeAttribute("aria-labelledby")):(this.hdrEle.setAttribute("aria-label",this.element.getAttribute("aria-label")),this.element.removeAttribute("aria-label")),this.setCloseButton(this.showCloseButton);var a=this.tbObj.element.querySelector("."+$t);(0,n.isNullOrUndefined)(a)||((0,n.isNullOrUndefined)(a.id)||""===a.id)&&(a.id=this.element.id+"_tab_header_items")},t.prototype.renderContent=function(){this.cntEle=(0,n.select)("."+Mt,this.element);var e=(0,n.selectAll)("."+ei,this.element);if(this.isTemplate){this.cnt=this.cntEle.children.length>0?this.cntEle.innerHTML:"";for(var t=this.cntEle.children,i=0;i<e.length;i++)t.length-1>=i&&((0,n.addClass)([t.item(i)],Ut),(0,n.attributes)(t.item(i),{role:"tabpanel","aria-labelledby":Ut+this.tabId+"_"+i}),t.item(i).id=Mt+this.tabId+"_"+i)}},t.prototype.reRenderItems=function(){this.renderContainer(),(0,n.isNullOrUndefined)(this.cntEle)||(this.touchModule=new n.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)}))},t.prototype.parseObject=function(e,t){var i=this,s=Array.prototype.slice.call((0,n.selectAll)(".e-tab-header ."+ei,this.element)),r=this.lastIndex;if(!this.isReplace&&s.length>0){var l=[];s.forEach((function(e){l.push(i.getIndexFromEle(e.id))})),r=Math.max.apply(Math,l)}var o,a=[],d=[];return e.forEach((function(e,l){var h=(0,n.isNullOrUndefined)(e.header)||(0,n.isNullOrUndefined)(e.header.iconPosition)?"":e.header.iconPosition,c=(0,n.isNullOrUndefined)(e.header)||(0,n.isNullOrUndefined)(e.header.iconCss)?"":e.header.iconCss;if((0,n.isNullOrUndefined)(e.headerTemplate)&&((0,n.isNullOrUndefined)(e.header)||(0,n.isNullOrUndefined)(e.header.text)||0===e.header.text.length&&""===c))d.push(l);else{var p,u=e.headerTemplate||e.header.text;"string"==typeof u&&i.enableHtmlSanitizer&&(u=n.SanitizeHtmlHelper.sanitize(u)),i.isReplace&&!(0,n.isNullOrUndefined)(i.tbId)&&""!==i.tbId?(p=parseInt(i.tbId.substring(i.tbId.lastIndexOf("_")+1),10),i.tbId=""):p=t+l,i.lastIndex=0===s.length?l:i.isReplace?p:r+1+l;var f=e.disabled?" "+qt+" "+ni:"",m=!1===e.visible?" "+Wt:"";o=i.createElement("div",{className:Yt,attrs:{role:"presentation"}});var v=u instanceof Object?u.outerHTML:u,g=!(0,n.isNullOrUndefined)(v)&&""!==v;(0,n.isNullOrUndefined)(u.tagName)?i.headerTextCompile(o,u,l):o.appendChild(u);var y=i.createElement("span",{className:Vt+" "+Zt+" "+_t+"-"+h+" "+c}),b=i.createElement("div",{className:Jt});b.appendChild(o),""!==u&&void 0!==u&&""!==c?("left"===h||"top"===h?b.insertBefore(y,b.firstElementChild):b.appendChild(y),i.isIconAlone=!1):(""===c?o:y)===y&&((0,n.detach)(o),b.appendChild(y),i.isIconAlone=!0);var C=(0,n.isNullOrUndefined)(e.tabIndex)?"-1":e.tabIndex.toString(),S=e.disabled?{}:{tabIndex:C,"data-tabindex":C,role:"tab","aria-selected":"false","aria-disabled":"false"};b.appendChild(i.btnCls.cloneNode(!0));var I=i.createElement("div",{className:Qt,attrs:S});I.appendChild(b),i.itemIndexArray instanceof Array&&i.itemIndexArray.splice(t+l,0,Ut+i.tabId+"_"+i.lastIndex);var E={htmlAttributes:{id:Ut+i.tabId+"_"+i.lastIndex,"data-id":e.id},template:I};E.cssClass=(void 0!==e.cssClass?e.cssClass:" ")+" "+f+" "+m+" "+(""!==c?"e-i"+h:"")+" "+(g?"":_t),"top"!==h&&"bottom"!==h||i.element.classList.add("e-vertical-icon"),a.push(E),l++}})),this.isAdd||d.forEach((function(e){i.items.splice(e,1)})),this.isIconAlone?this.element.classList.add(zt):this.element.classList.remove(zt),a},t.prototype.removeActiveClass=function(){var e=this.getTabHeader();if(e){var t=(0,n.selectAll)("."+ei+"."+jt,e);[].slice.call(t).forEach((function(e){return e.classList.remove(jt)})),[].slice.call(t).forEach((function(e){return e.firstElementChild.setAttribute("aria-selected","false")}))}},t.prototype.checkPopupOverflow=function(e){this.tbPop=(0,n.select)("."+ti,this.element);var t=(0,n.select)(".e-hor-nav",this.element),i=(0,n.select)("."+$t,this.element),s=i.lastChild,r=!1;return(!this.isVertical()&&(this.enableRtl&&t.offsetLeft+t.offsetWidth>i.offsetLeft||!this.enableRtl&&t.offsetLeft<i.offsetWidth)||this.isVertical()&&t.offsetTop<s.offsetTop+s.offsetHeight)&&(r=!0),r&&(e.classList.add(ii),this.tbPop.insertBefore(e,(0,n.selectAll)("."+ii,this.tbPop)[0])),!0},t.prototype.popupHandler=function(e){var t=e.querySelector(".e-ripple-element");(0,n.isNullOrUndefined)(t)||(t.outerHTML="",e.querySelector("."+Qt).classList.remove("e-ripple")),this.tbItem=(0,n.selectAll)("."+$t+" ."+ei,this.hdrEle);var i=this.tbItem[this.tbItem.length-1];if(0!==this.tbItem.length){if(e.classList.remove(ii),e.removeAttribute("style"),this.tbItems.appendChild(e),this.actEleId=e.id,this.checkPopupOverflow(i)){var s=this.tbItems.lastChild.previousElementSibling;this.checkPopupOverflow(s)}this.isPopup=!0}return(0,n.selectAll)("."+ei,this.tbItems).length-1},t.prototype.setCloseButton=function(e){var t=(0,n.select)("."+Dt,this.element);!0===e?t.classList.add(Kt):t.classList.remove(Kt),this.tbObj.refreshOverflow(),this.refreshActiveTabBorder()},t.prototype.prevCtnAnimation=function(e,t){return this.enableRtl||this.element.classList.contains(Bt),this.isPopup||e<=t?"SlideLeftIn"===this.animation.previous.effect?{name:"SlideLeftOut",duration:this.animation.previous.duration,timingFunction:this.animation.previous.easing}:null:"SlideRightIn"===this.animation.next.effect?{name:"SlideRightOut",duration:this.animation.next.duration,timingFunction:this.animation.next.easing}:null},t.prototype.triggerPrevAnimation=function(e,t){var i=this,s=this.prevCtnAnimation(t,this.selectedItem);(0,n.isNullOrUndefined)(s)?e.classList.remove(jt):(s.begin=function(){(0,n.setStyleAttribute)(e,{position:"absolute"}),e.classList.add(si),e.classList.add("e-view")},s.end=function(){e.style.display="none",e.classList.remove(jt),e.classList.remove(si),e.classList.remove("e-view"),(0,n.setStyleAttribute)(e,{display:"",position:""}),0!==e.childNodes.length||i.isTemplate||(0,n.detach)(e)},new n.Animation(s).animate(e))},t.prototype.triggerAnimation=function(e,t){var i,s=this,r=this.prevIndex;[].slice.call(this.element.querySelector("."+Mt).children).forEach((function(e){e.id===s.prevActiveEle&&(i=e)}));var l=this.tbItem[r],o=this.getTrgContent(this.cntEle,this.extIndex(e));if((0,n.isNullOrUndefined)(i)&&!(0,n.isNullOrUndefined)(l)){var a=this.extIndex(l.id);i=this.getTrgContent(this.cntEle,a)}(0,n.isNullOrUndefined)(o)||(this.prevActiveEle=o.id);var d=(0,n.isNullOrUndefined)(this.animation)||(0,n.isNullOrUndefined)(this.animation.next.effect)||(0,n.isNullOrUndefined)(this.animation.previous.effect)||"None"===this.animation.previous.effect||"None"===this.animation.next.effect;if(this.initRender||!1===t||d)i&&i!==o&&i.classList.remove(jt);else{var h,c=(0,n.select)("."+Mt,this.element);if(this.prevIndex>this.selectedItem&&!this.isPopup){var p=this.animation.previous.effect;h={name:"None"===p?"":"SlideLeftIn"!==p?p:"SlideLeftIn",duration:0===this.animation.previous.duration&&"Enable"===n.animationMode?600:this.animation.previous.duration,timingFunction:this.animation.previous.easing}}else if(this.isPopup||this.prevIndex<this.selectedItem||this.prevIndex===this.selectedItem){var u=this.animation.next.effect;h={name:"None"===u?"":"SlideRightIn"!==u?u:"SlideRightIn",duration:0===this.animation.next.duration&&"Enable"===n.animationMode?600:this.animation.next.duration,timingFunction:this.animation.next.easing}}h.progress=function(){c.classList.add(si),s.setActiveBorder()},h.end=function(){c.classList.remove(si),o.classList.add(jt)},this.initRender||(0,n.isNullOrUndefined)(i)||this.triggerPrevAnimation(i,r),this.isPopup=!1,""===h.name?o.classList.add(jt):new n.Animation(h).animate(o)}},t.prototype.keyPressed=function(e){var t=(0,n.closest)(e,"."+Dt+" ."+ei),i=this.getEleIndex(t);!(0,n.isNullOrUndefined)(this.popEle)&&e.classList.contains("e-hor-nav")?this.popEle.classList.contains("e-popup-open")?this.popObj.hide(this.hide):this.popObj.show(this.show):e.classList.contains("e-scroll-nav")?e.click():(0,n.isNullOrUndefined)(t)||!1!==t.classList.contains(jt)||(this.selectTab(i,null,!0),(0,n.isNullOrUndefined)(this.popEle)||this.popObj.hide(this.hide))},t.prototype.getTabHeader=function(){if(!(0,n.isNullOrUndefined)(this.element)){var e=[].slice.call(this.element.children).filter((function(e){return e.classList.contains(Dt)}));if(e.length>0)return e[0];var t=[].slice.call(this.element.children).filter((function(e){return!e.classList.contains("blazor-template")}))[0];if(t)return[].slice.call(t.children).filter((function(e){return e.classList.contains(Dt)}))[0]}},t.prototype.getEleIndex=function(e){return Array.prototype.indexOf.call((0,n.selectAll)("."+ei,this.getTabHeader()),e)},t.prototype.extIndex=function(e){return e.replace(Ut+this.tabId+"_","")},t.prototype.expTemplateContent=function(){var e=this;this.templateEle.forEach((function(t){(0,n.isNullOrUndefined)(e.element.querySelector(t))||(document.body.appendChild(e.element.querySelector(t)).style.display="none")}))},t.prototype.templateCompile=function(e,t,i){var s=this.createElement("div");this.compileElement(s,t,"content",i),0!==s.childNodes.length&&e.appendChild(s),this.isReact&&this.renderReactTemplates()},t.prototype.compileElement=function(e,t,i,s){var r,l;"string"==typeof t?(t=t.trim(),this.isVue?r=(0,n.compile)(n.SanitizeHtmlHelper.sanitize(t)):e.innerHTML=n.SanitizeHtmlHelper.sanitize(t)):r=(0,n.compile)(t),(0,n.isNullOrUndefined)(r)||(l=r({},this,i)),!(0,n.isNullOrUndefined)(r)&&l.length>0&&[].slice.call(l).forEach((function(t){e.appendChild(t)}))},t.prototype.headerTextCompile=function(e,t,i){this.compileElement(e,t,"headerTemplate",i)},t.prototype.getContent=function(e,t,i,s){var r;if("string"==typeof(t=(0,n.isNullOrUndefined)(t)?"":t)||(0,n.isNullOrUndefined)(t.innerHTML))if("string"==typeof t&&this.enableHtmlSanitizer&&(t=n.SanitizeHtmlHelper.sanitize(t)),"."===t[0]||"#"===t[0])if(document.querySelectorAll(t).length){var l=document.querySelector(t);r=l.outerHTML.trim(),"clone"===i?e.appendChild(l.cloneNode(!0)):(e.appendChild(l),l.style.display="")}else this.templateCompile(e,t,s);else this.templateCompile(e,t,s);else e.appendChild(t);(0,n.isNullOrUndefined)(r)||-1===this.templateEle.indexOf(t.toString())&&this.templateEle.push(t.toString())},t.prototype.getTrgContent=function(e,t){return this.element.classList.contains(Ht)?(0,n.select)("."+Ht+"> ."+Mt+" > #"+Mt+this.tabId+"_"+t,this.element):this.findEle(e.children,Mt+this.tabId+"_"+t)},t.prototype.findEle=function(e,t){for(var i,s=0;s<e.length;s++)if(e[s].id===t){i=e[s];break}return i},t.prototype.isVertical=function(){var e="Left"===this.headerPlacement||"Right"===this.headerPlacement;return this.scrCntClass=e?"e-vscroll-content":"e-hscroll-content",e},t.prototype.addVerticalClass=function(){if(this.isVertical()){var e="Left"===this.headerPlacement?oi:ai;(0,n.addClass)([this.hdrEle],[li,e]),this.element.classList.contains(Ht)?(0,n.addClass)([this.hdrEle],[ri,e]):(0,n.addClass)([this.element],[ri,e])}"Bottom"===this.headerPlacement&&(0,n.addClass)([this.hdrEle],[di])},t.prototype.updatePopAnimationConfig=function(){this.show={name:this.isVertical()?"FadeIn":"SlideDown",duration:100},this.hide={name:this.isVertical()?"FadeOut":"SlideUp",duration:100}},t.prototype.changeOrientation=function(e){this.setOrientation(e,this.hdrEle);var t=this.hdrEle.querySelector("."+jt),i=!!this.hdrEle.classList.contains(li);(0,n.removeClass)([this.element],[ri]),(0,n.removeClass)([this.hdrEle],[li,oi,ai]),i!==this.isVertical()&&(this.changeToolbarOrientation(),!(0,n.isNullOrUndefined)(t)&&t.classList.contains(ii)&&this.popupHandler(t)),this.addVerticalClass(),this.setActiveBorder(),this.focusItem()},t.prototype.focusItem=function(){var e=(0,n.select)(" #"+Ut+this.tabId+"_"+this.selectedItem,this.hdrEle);(0,n.isNullOrUndefined)(e)||e.firstElementChild.focus()},t.prototype.changeToolbarOrientation=function(){this.tbObj.setProperties({height:this.isVertical()?"100%":"auto",width:this.isVertical()?"auto":"100%"},!0),this.tbObj.changeOrientation(),this.updatePopAnimationConfig()},t.prototype.setOrientation=function(e,t){var i=Array.prototype.indexOf.call(this.element.children,t),s=Array.prototype.indexOf.call(this.element.children,this.element.querySelector("."+Mt));"Bottom"===e&&s>i?this.element.appendChild(t):((0,n.removeClass)([t],[di]),this.element.insertBefore(t,(0,n.select)("."+Mt,this.element)))},t.prototype.setCssClass=function(e,t,i){if(""!==t)for(var s=t.split(" "),n=0;n<s.length;n++)i?e.classList.add(s[n]):e.classList.remove(s[n])},t.prototype.setContentHeight=function(e){if(this.element.classList.contains(hi)&&(0,n.removeClass)([this.element],[hi]),!(0,n.isNullOrUndefined)(this.cntEle)){var t=this.getTabHeader();if("None"===this.heightAdjustMode){if("auto"===this.height)return;this.isVertical()||(0,n.setStyleAttribute)(this.cntEle,{height:this.element.clientHeight-t.offsetHeight+"px"})}else if("Fill"===this.heightAdjustMode)(0,n.addClass)([this.element],[hi]),(0,n.setStyleAttribute)(this.element,{height:"100%"}),this.cntEle.style.height="calc(100% - "+this.hdrEle.offsetHeight+"px)";else if("Auto"===this.heightAdjustMode){if(!0===this.isTemplate)for(var i=(0,n.selectAll)("."+Mt+" > ."+Ut,this.element),s=0;s<i.length;s++)i[s].setAttribute("style","display:block; visibility: visible"),this.maxHeight=Math.max(this.maxHeight,this.getHeight(i[s])),i[s].style.removeProperty("display"),i[s].style.removeProperty("visibility");else{this.cntEle=(0,n.select)("."+Mt,this.element),!0===e&&this.cntEle.appendChild(this.createElement("div",{id:Mt+this.tabId+"_0",className:Ut+" "+jt,attrs:{role:"tabpanel","aria-labelledby":Ut+this.tabId+"_0"}}));var r=this.cntEle.children.item(0);for(s=0;s<this.items.length;s++)for(this.getContent(r,this.items[s].content,"clone",s),this.maxHeight=Math.max(this.maxHeight,this.getHeight(r));r.firstChild;)r.removeChild(r.firstChild);this.isReact&&this.clearTemplate(["content"]),this.templateEle=[],this.getContent(r,this.items[0].content,"render",0),this.prevIndex!==this.selectedItem&&r.classList.remove(jt)}(0,n.setStyleAttribute)(this.cntEle,{height:this.maxHeight+"px"})}else(0,n.setStyleAttribute)(this.cntEle,{height:"auto"})}},t.prototype.getHeight=function(e){var t=window.getComputedStyle(e);return e.offsetHeight+parseFloat(t.getPropertyValue("padding-top"))+parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))},t.prototype.setActiveBorder=function(){var e=this.getTabHeader(),t=(0,n.select)("."+ei+"."+jt,e);if(!(0,n.isNullOrUndefined)(t)){this.reorderActiveTab?e&&e.classList.remove(pi):(t.classList.contains(ii)&&!this.bdrLine.classList.contains(Wt)&&this.bdrLine.classList.add(Wt),e&&!e.classList.contains(pi)&&e.classList.add(pi));var i=(0,n.closest)(t,"."+Pt);if(this.element===i){this.tbItems=(0,n.select)("."+$t,e);var s=(0,n.select)("."+Gt,e),r=(0,n.select)("."+$t+" ."+this.scrCntClass,e);if(this.isVertical())(0,n.setStyleAttribute)(s,{left:"",right:""}),0!==((0,n.isNullOrUndefined)(r)?this.tbItems.offsetHeight:r.offsetHeight)?(0,n.setStyleAttribute)(s,{top:t.offsetTop+"px",height:t.offsetHeight+"px"}):(0,n.setStyleAttribute)(s,{top:0,height:0});else{if("MultiRow"===this.overflowMode){var l="Bottom"===this.headerPlacement?t.offsetTop:t.offsetHeight+t.offsetTop;(0,n.setStyleAttribute)(s,{top:l+"px",height:""})}else(0,n.setStyleAttribute)(s,{top:"",height:""});var o=(0,n.isNullOrUndefined)(r)?this.tbItems.offsetWidth:r.offsetWidth;0!==o?(0,n.setStyleAttribute)(s,{left:t.offsetLeft+"px",right:o-(t.offsetLeft+t.offsetWidth)+"px"}):(0,n.setStyleAttribute)(s,{left:"auto",right:"auto"})}(0,n.isNullOrUndefined)(this.bdrLine)||t.classList.contains(ii)||this.bdrLine.classList.remove(Wt)}}},t.prototype.setActive=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),this.tbItem=(0,n.selectAll)("."+ei,this.getTabHeader());var s=this.tbItem[e];if(!(e<0||isNaN(e)||0===this.tbItem.length||!(0,n.isNullOrUndefined)(s)&&s.classList.contains(qt)))if(e>=0&&!t&&(this.allowServerDataBinding=!1,this.setProperties({selectedItem:e},!0),this.allowServerDataBinding=!0,this.initRender||this.serverDataBind()),s.classList.contains(jt))this.setActiveBorder();else{this.isTemplate||(0,n.attributes)(s.firstElementChild,{"aria-controls":Mt+this.tabId+"_"+e});var r=s.id;this.removeActiveClass(),s.classList.add(jt),s.firstElementChild.setAttribute("aria-selected","true");var l=Number(this.extIndex(r));if((0,n.isNullOrUndefined)(this.prevActiveEle)&&(this.prevActiveEle=Mt+this.tabId+"_"+l),this.isTemplate){if((0,n.select)("."+Mt,this.element).children.length>0){var o=this.findEle((0,n.select)("."+Mt,this.element).children,Mt+this.tabId+"_"+l);(0,n.isNullOrUndefined)(o)||o.classList.add(jt),this.triggerAnimation(r,this.enableAnimation)}}else{this.cntEle=(0,n.select)(".e-tab > ."+Mt,this.element);var a=this.getTrgContent(this.cntEle,this.extIndex(r));if((0,n.isNullOrUndefined)(a)){this.cntEle.appendChild(this.createElement("div",{id:Mt+this.tabId+"_"+this.extIndex(r),className:Ut+" "+jt,attrs:{role:"tabpanel","aria-labelledby":Ut+this.tabId+"_"+this.extIndex(r)}}));var d=this.getTrgContent(this.cntEle,this.extIndex(r)),h=Array.prototype.indexOf.call(this.itemIndexArray,r);this.getContent(d,this.items[h].content,"render",h)}else a.classList.add(jt);this.triggerAnimation(r,this.enableAnimation)}if(this.setActiveBorder(),this.refreshItemVisibility(s),!this.initRender&&!t){var c={previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:s,selectedIndex:e,selectedContent:(0,n.select)("#"+Mt+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwiped,isInteracted:i,preventFocus:!1};this.trigger("selected",c,(function(e){e.preventFocus||s.firstElementChild.focus()}))}}},t.prototype.setItems=function(e){this.isReplace=!0,this.tbItems=(0,n.select)("."+$t,this.getTabHeader()),this.tbObj.items=this.parseObject(e,0),this.tbObj.dataBind(),this.isReplace=!1},t.prototype.setRTL=function(e){this.tbObj.enableRtl=e,this.tbObj.dataBind(),this.setCssClass(this.element,Bt,e),this.refreshActiveBorder()},t.prototype.refreshActiveBorder=function(){(0,n.isNullOrUndefined)(this.bdrLine)||this.bdrLine.classList.add(Wt),this.setActiveBorder()},t.prototype.showPopup=function(e){var t=(0,n.select)(".e-popup.e-toolbar-pop",this.hdrEle);if(t&&t.classList.contains("e-popup-close")){var i=t&&t.ej2_instances[0];i.position.X="Left"===this.headerPlacement?"left":"right",i.dataBind(),i.show(e)}},t.prototype.bindDraggable=function(){var e=this;if(this.allowDragAndDrop){var t=this.element.querySelector("."+Dt);t&&Array.prototype.slice.call(t.querySelectorAll("."+ei)).forEach((function(t){e.initializeDrag(t)}))}},t.prototype.wireEvents=function(){this.bindDraggable(),window.addEventListener("resize",this.resizeContext),n.EventHandler.add(this.element,"mouseover",this.hoverHandler,this),n.EventHandler.add(this.element,"keydown",this.spaceKeyDown,this),(0,n.isNullOrUndefined)(this.cntEle)||(this.touchModule=new n.Touch(this.cntEle,{swipe:this.swipeHandler.bind(this)})),this.keyModule=new n.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs}),this.tabKeyModule=new n.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:{openPopup:"shift+f10",tab:"tab",shiftTab:"shift+tab"},eventName:"keydown"})},t.prototype.unWireEvents=function(){(0,n.isNullOrUndefined)(this.keyModule)||this.keyModule.destroy(),(0,n.isNullOrUndefined)(this.tabKeyModule)||this.tabKeyModule.destroy(),(0,n.isNullOrUndefined)(this.cntEle)||(0,n.isNullOrUndefined)(this.touchModule)||(this.touchModule.destroy(),this.touchModule=null),window.removeEventListener("resize",this.resizeContext),n.EventHandler.remove(this.element,"mouseover",this.hoverHandler),n.EventHandler.remove(this.element,"keydown",this.spaceKeyDown),this.element.classList.remove(Bt),this.element.classList.remove(Ft)},t.prototype.clickHandler=function(e){this.element.classList.remove(Ft);var t=e.originalEvent.target,i=(0,n.closest)(t,"."+ei),s=this.getEleIndex(i);t.classList.contains(Xt)?this.removeTab(s):this.isVertical()&&(0,n.closest)(t,".e-hor-nav")?this.showPopup(this.show):(this.isPopup=!1,(0,n.isNullOrUndefined)(i)||s===this.selectedItem||this.selectTab(s,e.originalEvent,!0))},t.prototype.swipeHandler=function(e){if(!(e.velocity<3&&(0,n.isNullOrUndefined)(e.originalEvent.changedTouches))){this.isNested&&this.element.setAttribute("data-swipe","true");var t=this.element.querySelector('[data-swipe="true"]');if(t)t.removeAttribute("data-swipe");else{if(this.isSwiped=!0,"Right"===e.swipeDirection&&0!==this.selectedItem){for(var i=this.selectedItem-1;i>=0;i--)if(!this.tbItem[i].classList.contains(Wt)){this.selectTab(i,null,!0);break}}else if("Left"===e.swipeDirection&&this.selectedItem!==(0,n.selectAll)("."+ei,this.element).length-1)for(var s=this.selectedItem+1;s<this.tbItem.length;s++)if(!this.tbItem[s].classList.contains(Wt)){this.selectTab(s,null,!0);break}this.isSwiped=!1}}},t.prototype.spaceKeyDown=function(e){if(32===e.keyCode&&32===e.which||35===e.keyCode&&35===e.which){var t=(0,n.closest)(e.target,"."+Dt);(0,n.isNullOrUndefined)(t)||e.preventDefault()}},t.prototype.keyHandler=function(e){if(!this.element.classList.contains(qt)){this.element.classList.add(Ft);var t=e.target,i=this.getTabHeader(),s=(0,n.select)("."+jt,i);this.popEle=(0,n.select)("."+ti,i),(0,n.isNullOrUndefined)(this.popEle)||(this.popObj=this.popEle.ej2_instances[0]);var r=(0,n.closest)(document.activeElement,"."+ei),l=(0,n.closest)(t,"."+ei);switch(e.action){case"space":case"enter":if(t.parentElement.classList.contains(qt))return;if("enter"===e.action&&t.classList.contains("e-hor-nav")){this.showPopup(this.show);break}this.keyPressed(t);break;case"tab":case"shiftTab":t.classList.contains(Qt)&&!1===(0,n.closest)(t,"."+ei).classList.contains(jt)&&t.setAttribute("tabindex",t.getAttribute("data-tabindex")),this.popObj&&(0,n.isVisible)(this.popObj.element)&&this.popObj.hide(this.hide),(0,n.isNullOrUndefined)(s)||"-1"!==s.children.item(0).getAttribute("tabindex")||s.children.item(0).setAttribute("tabindex","0");break;case"moveLeft":case"moveRight":(0,n.isNullOrUndefined)(r)||this.refreshItemVisibility(r);break;case"openPopup":e.preventDefault(),!(0,n.isNullOrUndefined)(this.popEle)&&this.popEle.classList.contains("e-popup-close")&&this.popObj.show(this.show);break;case"delete":if(!0===this.showCloseButton&&!(0,n.isNullOrUndefined)(l)){var o=l.nextSibling;!(0,n.isNullOrUndefined)(o)&&o.classList.contains(ei)&&o.firstElementChild.focus(),this.removeTab(this.getEleIndex(l))}this.setActiveBorder()}}},t.prototype.refreshItemVisibility=function(e){var t=(0,n.select)("."+this.scrCntClass,this.tbItems);if(!this.isVertical()&&!(0,n.isNullOrUndefined)(t)){var i=(0,n.select)(".e-hscroll-bar",this.tbItems),s=i.scrollLeft,r=s+i.offsetWidth,l=e.offsetLeft,o=e.offsetWidth,a=e.offsetLeft+e.offsetWidth;if(s<l&&r<a){var d=r-l;i.scrollLeft=s+(o-d)}else s>l&&r>a&&(d=a-s,i.scrollLeft=s-(o-d))}},t.prototype.getIndexFromEle=function(e){return parseInt(e.substring(e.lastIndexOf("_")+1),10)},t.prototype.hoverHandler=function(e){var t=e.target;!(0,n.isNullOrUndefined)(t.classList)&&t.classList.contains(Xt)&&t.setAttribute("title",new n.L10n("tab",{closeButtonTitle:this.title},this.locale).getConstant("closeButtonTitle"))},t.prototype.evalOnPropertyChangeItems=function(e,t){if(e.items instanceof Array&&t.items instanceof Array)if(this.lastIndex=0,(0,n.isNullOrUndefined)(this.tbObj))this.reRenderItems();else{(this.isReact||this.isAngular)&&this.clearTemplate(),this.setItems(e.items),this.templateEle.length>0&&this.expTemplateContent(),this.templateEle=[];for(var i=(0,n.select)(".e-tab > ."+Mt,this.element);i.firstElementChild;)(0,n.detach)(i.firstElementChild);this.select(this.selectedItem),this.draggableItems=[],this.bindDraggable()}else for(var s=Object.keys(e.items),r=0;r<s.length;r++)for(var l=parseInt(Object.keys(e.items)[r],10),o=Object.keys(e.items[l]),a=0;a<o.length;a++){var d,h=Object(t.items[l])[o[a]],c=Object(e.items[l])[o[a]],p=this.element.querySelectorAll("."+ei)[l];d=p&&!(0,n.isNullOrUndefined)(p.id)&&""!==p.id?this.getIndexFromEle(p.id):l;var u=(0,n.select)("."+$t+" #"+Ut+this.tabId+"_"+d,this.element),f=(0,n.select)("."+Mt+" #"+Mt+this.tabId+"_"+d,this.element);if("header"===o[a]||"headerTemplate"===o[a]){var m=(0,n.isNullOrUndefined)(this.items[l].header)||(0,n.isNullOrUndefined)(this.items[l].header.iconCss)?"":this.items[l].header.iconCss,v=this.items[l].headerTemplate||this.items[l].header.text;if("headerTemplate"===o[a]&&this.clearTabTemplate(u,o[a],ei),""===v&&""===m)this.removeTab(l);else{this.tbId=p.id;var g=[];g.push(this.items[l]),this.items.splice(l,1),this.itemIndexArray.splice(l,1),this.tbObj.items.splice(l,1);var y=u.classList.contains(Wt);(0,n.detach)(u),this.isReplace=!0,this.addTab(g,l),y&&this.hideTab(l),this.isReplace=!1}}if("content"===o[a]&&!(0,n.isNullOrUndefined)(f))if("string"!=typeof c&&!(0,n.isNullOrUndefined)(c.innerHTML)||"."!==c[0]&&"#"!==c[0]||!c.length)""===c&&"#"===h[0]?(document.body.appendChild(this.element.querySelector(h)).style.display="none",f.innerHTML=c):this.isAngular||this.isReact?(this.clearTabTemplate(f,o[a],Ut),f.innerHTML="",this.templateCompile(f,c,l)):"function"!=typeof c&&(f.innerHTML=c);else{var b=document.querySelector(c);f.appendChild(b),b.style.display=""}"cssClass"===o[a]&&((0,n.isNullOrUndefined)(u)||(u.classList.remove(h),u.classList.add(c)),(0,n.isNullOrUndefined)(f)||(f.classList.remove(h),f.classList.add(c))),"disabled"===o[a]&&this.enableTab(l,!0!==c),"visible"===o[a]&&this.hideTab(l,!0!==c)}},t.prototype.clearTabTemplate=function(e,t,i){if(this.clearTemplates)if(this.registeredTemplate&&this.registeredTemplate[t])for(var s=this.registeredTemplate,r=0;r<s[t].length;r++){var l=s[t][r].rootNodes[0],o=(0,n.closest)(l,"."+i);if(!(0,n.isNullOrUndefined)(o)&&o===e){this.clearTemplate([t],[s[t][r]]);break}}else if(this.portals&&this.portals.length>0){var a=this.portals;for(r=0;r<a.length;r++){var d=a[r];if(o=(0,n.closest)(d.containerInfo,"."+i),!(0,n.isNullOrUndefined)(o)&&o===e){this.clearTemplate([t],r);break}}}},t.prototype.initializeDrag=function(e){var t=this,i=new n.Draggable(e,{dragArea:this.dragArea,dragTarget:"."+ei,clone:!0,helper:this.helper.bind(this),dragStart:this.itemDragStart.bind(this),drag:function(e){var i,s,r=t.getEleIndex(t.dragItem),l={draggedItem:t.dragItem,event:e.event,target:e.target,droppedItem:e.target.closest("."+ei),clonedElement:t.cloneElement,index:r};if((0,n.isNullOrUndefined)(e.target.closest("."+Pt))||e.target.closest("."+Pt).isEqualNode(t.element)||t.dragArea==="."+Dt){if(e.target.closest(t.dragArea)||"Popup"===t.overflowMode?(document.body.style.cursor="",t.dragItem.querySelector("."+Qt).style.visibility="hidden",t.cloneElement.classList.contains(Wt)&&(0,n.removeClass)([t.cloneElement],Wt)):(document.body.style.cursor="not-allowed",(0,n.addClass)([t.cloneElement],Wt),t.dragItem.classList.contains(Wt)&&(0,n.removeClass)([t.dragItem],Wt),t.dragItem.querySelector("."+Qt).style.visibility="visible"),"Scrollable"===t.overflowMode&&!(0,n.isNullOrUndefined)(t.element.querySelector(".e-hscroll"))){var o=t.element.querySelector(".e-scroll-right-nav"),a=t.element.querySelector(".e-scroll-left-nav"),d=t.element.querySelector(".e-hscroll-bar");!(0,n.isNullOrUndefined)(o)&&Math.abs(o.offsetWidth/2+o.offsetLeft)>t.cloneElement.offsetLeft+t.cloneElement.offsetWidth&&(d.scrollLeft-=10),!(0,n.isNullOrUndefined)(a)&&Math.abs(a.offsetLeft+a.offsetWidth-t.cloneElement.offsetLeft)>a.offsetWidth/2&&(d.scrollLeft+=10)}t.cloneElement.style.pointerEvents="none",s=(0,n.closest)(e.target,"."+ei+".e-draggable");var h=0;"Scrollable"!==t.overflowMode||(0,n.isNullOrUndefined)(t.element.querySelector(".e-hscroll"))||(h=t.element.querySelector(".e-hscroll-content").offsetWidth),null!=s&&!s.isSameNode(t.dragItem)&&s.closest("."+Pt).isSameNode(t.dragItem.closest("."+Pt))&&((i=t.getEleIndex(s))<r&&Math.abs(s.offsetLeft+s.offsetWidth-t.cloneElement.offsetLeft)>s.offsetWidth/2&&t.dragAction(s,r,i),i>r&&Math.abs(s.offsetWidth/2)+s.offsetLeft-h<t.cloneElement.offsetLeft+t.cloneElement.offsetWidth&&t.dragAction(s,r,i)),t.droppedIndex=t.getEleIndex(t.dragItem),t.trigger("dragging",l)}else t.trigger("dragging",l)},dragStop:this.itemDragStop.bind(this)});this.draggableItems.push(i)},t.prototype.helper=function(e){return this.cloneElement=this.createElement("div"),e.element&&(this.cloneElement=e.element.cloneNode(!0),(0,n.addClass)([this.cloneElement],"e-tab-clone-element"),this.element.querySelector("."+Dt).classList.contains(Kt)&&(0,n.addClass)([this.cloneElement],Kt),(0,n.removeClass)([this.cloneElement.querySelector("."+Qt)],"e-ripple"),(0,n.isNullOrUndefined)(this.cloneElement.querySelector(".e-ripple-element"))||(0,n.remove)(this.cloneElement.querySelector(".e-ripple-element")),document.body.appendChild(this.cloneElement)),this.cloneElement},t.prototype.itemDragStart=function(e){var t=this;this.draggingItems=this.items.map((function(e){return e})),this.dragItem=e.element;var i={draggedItem:e.element,event:e.event,target:e.target,droppedItem:null,index:this.getEleIndex(this.dragItem),clonedElement:this.cloneElement,cancel:!1};this.trigger("onDragStart",i,(function(i){if(i.cancel){var s=e.element.ej2_instances[0];(0,n.isNullOrUndefined)(s)||s.intDestroy(e.event),(0,n.detach)(t.cloneElement)}else t.removeActiveClass(),(0,n.addClass)([t.tbItems.querySelector("."+Gt)],Wt),t.dragItem.querySelector("."+Qt).style.visibility="hidden"}))},t.prototype.dragAction=function(e,t,i){if(this.items.length>0){var s=this.draggingItems[t];this.draggingItems.splice(t,1),this.draggingItems.splice(i,0,s)}if("MultiRow"===this.overflowMode&&e.parentNode.insertBefore(this.dragItem,e.nextElementSibling),t>i)if(this.dragItem.parentElement.isSameNode(e.parentElement))this.dragItem.parentNode.insertBefore(this.dragItem,e);else if("Extended"===this.overflowMode)if(e.isSameNode(e.parentElement.lastChild)){var n=this.dragItem.parentNode;e.parentNode.insertBefore(this.dragItem,e),n.insertBefore(e.parentElement.lastChild,n.childNodes[0])}else this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e);else{var r=e.parentElement.lastChild;e.isSameNode(r)?(n=this.dragItem.parentNode,e.parentNode.insertBefore(this.dragItem,e),n.insertBefore(r,n.childNodes[0])):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e))}t<i&&(this.dragItem.parentElement.isSameNode(e.parentElement)?this.dragItem.parentNode.insertBefore(this.dragItem,e.nextElementSibling):"Extended"===this.overflowMode?(this.dragItem.parentElement.appendChild(e.parentElement.firstElementChild),e.parentNode.insertBefore(this.dragItem,e.nextSibling)):(this.dragItem.parentNode.insertBefore(e.parentElement.lastChild,this.dragItem.parentElement.childNodes[0]),e.parentNode.insertBefore(this.dragItem,e)))},t.prototype.itemDragStop=function(e){var t=this;(0,n.detach)(this.cloneElement),this.cloneElement=null,this.dragItem.querySelector("."+Qt).style.visibility="visible",document.body.style.cursor="";var i={draggedItem:this.dragItem,event:e.event,target:e.target,droppedItem:this.tbItem[this.droppedIndex],clonedElement:null,index:this.droppedIndex,cancel:!1};this.trigger("dragged",i,(function(e){e.cancel?t.refresh():t.items.length>0&&t.draggingItems.length>0?(t.items=t.draggingItems,t.selectedItem=t.droppedIndex,t.refresh()):(t.dragItem.querySelector("."+Qt).style.visibility="",(0,n.removeClass)([t.tbItems.querySelector("."+Gt)],Wt),t.selectTab(t.droppedIndex,null,!0))})),this.dragItem=null},t.prototype.enableTab=function(e,t){var i=(0,n.selectAll)("."+ei,this.element)[e];(0,n.isNullOrUndefined)(i)||(!0===t?(i.classList.remove(qt,ni),i.firstElementChild.setAttribute("tabindex",i.firstElementChild.getAttribute("data-tabindex"))):(i.classList.add(qt,ni),i.firstElementChild.removeAttribute("tabindex"),i.classList.contains(jt)&&this.select(e+1)),(0,n.isNullOrUndefined)(this.items[e])||(this.items[e].disabled=!t,this.dataBind()),i.firstElementChild.setAttribute("aria-disabled",!0===t?"false":"true"))},t.prototype.addTab=function(e,t){var i=this,s={addedItems:e,cancel:!1};this.isReplace?this.addingTabContent(e,t):this.trigger("adding",s,(function(s){s.cancel||i.addingTabContent(e,t)})),this.isReact&&this.renderReactTemplates()},t.prototype.addingTabContent=function(e,t){var i=this,s=0;if(this.hdrEle=(0,n.select)("."+Dt,this.element),(0,n.isNullOrUndefined)(this.hdrEle))this.items=e,this.reRenderItems(),this.bindDraggable();else{var r=(0,n.selectAll)(".e-tab-header ."+ei,this.element).length;if(0!==r&&(s=this.lastIndex+1),(0,n.isNullOrUndefined)(t)&&(t=r-1),r<t||t<0||isNaN(t))return;0!==r||(0,n.isNullOrUndefined)(this.hdrEle)||(this.hdrEle.style.display=""),(0,n.isNullOrUndefined)(this.bdrLine)||this.bdrLine.classList.add(Wt),this.tbItems=(0,n.select)("."+$t,this.getTabHeader()),this.isAdd=!0;var l=this.parseObject(e,t);this.isAdd=!1;var o,a=0;e.forEach((function(e,r){if(o=e.headerTemplate||e.header.text,(0,n.isNullOrUndefined)(e.headerTemplate||e.header)||(0,n.isNullOrUndefined)(o)||0===o.length&&!(0,n.isNullOrUndefined)(e.header)&&(0,n.isNullOrUndefined)(e.header.iconCss)||(l[r]&&((0,n.isNullOrUndefined)(e.id)&&(e.id=Ut+i.tabId+"_"+ci+(s+r).toString()),l[r].htmlAttributes["data-id"]=e.id),i.items.splice(t+a,0,e),a++),i.isTemplate&&!(0,n.isNullOrUndefined)(e.header)&&!(0,n.isNullOrUndefined)(e.header.text)){var d=s+r,h=i.createElement("div",{id:Mt+i.tabId+"_"+d,className:Ut,attrs:{role:"tabpanel","aria-labelledby":Ut+"_"+d}});i.cntEle.insertBefore(h,i.cntEle.children[t+r]);var c=i.getTrgContent(i.cntEle,d.toString());i.getContent(c,e.content,"render",t)}})),this.tbObj.addItems(l,t),this.isReplace||this.trigger("added",{addedItems:e}),this.selectedItem===t?this.select(t):(this.setActiveBorder(),this.tbItem=(0,n.selectAll)("."+ei,this.getTabHeader())),this.bindDraggable()}},t.prototype.removeTab=function(e){var t=this,i=(0,n.selectAll)("."+ei,this.element)[e];if(!(0,n.isNullOrUndefined)(i)){var s={removedItem:i,removedIndex:e,cancel:!1};this.trigger("removing",s,(function(s){if(!s.cancel){var r=(0,n.select)("#"+Ut+t.tabId+"_"+t.extIndex(i.id),(0,n.select)("."+$t,t.element));(0,n.isNullOrUndefined)(r)||t.clearTabTemplate(r,"headerTemplate",ei),t.tbObj.removeItems(e),t.allowDragAndDrop&&e!==Array.prototype.indexOf.call(t.itemIndexArray,i.id)&&(e=Array.prototype.indexOf.call(t.itemIndexArray,i.id));var l=t.itemIndexArray.indexOf(i.id);t.items.splice(l,1),t.itemIndexArray.splice(l,1),t.refreshActiveBorder();var o=(0,n.select)("#"+Mt+t.tabId+"_"+t.extIndex(i.id),(0,n.select)("."+Mt,t.element));(0,n.isNullOrUndefined)(o)||(t.clearTabTemplate(o,"content",Ut),(0,n.detach)(o)),t.trigger("removed",s),t.draggableItems&&t.draggableItems.length>0&&(t.draggableItems[e].destroy(),t.draggableItems[e]=null,t.draggableItems.splice(e,1)),i.classList.contains(jt)?(e=e>(0,n.selectAll)("."+ei+":not(."+ii+")",t.element).length-1?e-1:e,t.enableAnimation=!1,t.selectedItem=e,t.select(e)):e!==t.selectedItem&&(e<t.selectedItem&&(e=t.itemIndexArray.indexOf(t.tbItem[t.selectedItem].id),t.setProperties({selectedItem:e>-1?e:t.selectedItem},!0),t.prevIndex=t.selectedItem),t.tbItem=(0,n.selectAll)("."+ei,t.getTabHeader())),0===(0,n.selectAll)("."+ei,t.element).length&&(t.hdrEle.style.display="none"),t.enableAnimation=!0}}))}},t.prototype.hideTab=function(e,t){var i,s=(0,n.selectAll)("."+ei,this.element)[e];if(!(0,n.isNullOrUndefined)(s)){if((0,n.isNullOrUndefined)(t)&&(t=!0),this.bdrLine.classList.add(Wt),!0===t)if(s.classList.add(Wt),0!==(i=(0,n.selectAll)("."+ei+":not(."+Wt+")",this.tbItems)).length&&s.classList.contains(jt)){if(0!==e)for(var r=e-1;r>=0;r--){if(!this.tbItem[r].classList.contains(Wt)){this.select(r);break}if(0===r)for(var l=e+1;l<this.tbItem.length;l++)if(!this.tbItem[l].classList.contains(Wt)){this.select(l);break}}else for(l=e+1;l<this.tbItem.length;l++)if(!this.tbItem[l].classList.contains(Wt)){this.select(l);break}}else 0===i.length&&this.element.classList.add(Wt);else this.element.classList.remove(Wt),i=(0,n.selectAll)("."+ei+":not(."+Wt+")",this.tbItems),s.classList.remove(Wt),0===i.length&&this.select(e);this.setActiveBorder(),(0,n.isNullOrUndefined)(s.firstElementChild)||s.firstElementChild.setAttribute("aria-hidden",""+t),"Popup"===this.overflowMode&&this.tbObj&&this.tbObj.refreshOverflow()}},t.prototype.selectTab=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=!1),this.isInteracted=i,this.select(e,t)},t.prototype.select=function(e,t){var i=this,s=this.getTabHeader();this.tbItems=(0,n.select)("."+$t,s),this.tbItem=(0,n.selectAll)("."+ei,s),this.content=(0,n.select)("."+Mt,this.element),this.prevItem=this.tbItem[this.prevIndex],(0,n.isNullOrUndefined)(this.selectedItem)||this.selectedItem<0||this.tbItem.length<=this.selectedItem||isNaN(this.selectedItem)?this.selectedItem=0:this.selectedID=this.extIndex(this.tbItem[this.selectedItem].id);var r=this.tbItem[e];(0,n.isNullOrUndefined)(r)?this.selectedID="0":this.selectingID=this.extIndex(r.id),(0,n.isNullOrUndefined)(this.prevItem)||this.prevItem.classList.contains(qt)||this.prevItem.children.item(0).setAttribute("tabindex",this.prevItem.firstElementChild.getAttribute("tabindex"));var l={event:t,previousItem:this.prevItem,previousIndex:this.prevIndex,selectedItem:this.tbItem[this.selectedItem],selectedIndex:this.selectedItem,selectedContent:(0,n.isNullOrUndefined)(this.content)?null:(0,n.select)("#"+Mt+this.tabId+"_"+this.selectedID,this.content),selectingItem:r,selectingIndex:e,selectingContent:(0,n.isNullOrUndefined)(this.content)?null:(0,n.select)("#"+Mt+this.tabId+"_"+this.selectingID,this.content),isSwiped:this.isSwiped,isInteracted:this.isInteracted,cancel:!1};this.initRender?this.selectingContent(e,this.isInteracted):this.trigger("selecting",l,(function(t){t.cancel||i.selectingContent(e,i.isInteracted)})),this.isInteracted=!1},t.prototype.selectingContent=function(e,t){if("number"==typeof e){if(!(0,n.isNullOrUndefined)(this.tbItem[e])&&(this.tbItem[e].classList.contains(qt)||this.tbItem[e].classList.contains(Wt)))for(var i=e+1;i<this.items.length;i++){if(!1===this.items[i].disabled&&!0===this.items[i].visible){e=i;break}e=0}if(this.tbItem.length>e&&e>=0&&!isNaN(e))if(this.prevIndex=this.selectedItem,this.prevItem=this.tbItem[this.prevIndex],this.tbItem[e].classList.contains(ii)&&this.reorderActiveTab){if(this.setActive(this.popupHandler(this.tbItem[e]),null,t),!(0,n.isNullOrUndefined)(this.items)&&this.items.length>0&&this.allowDragAndDrop){this.tbItem=(0,n.selectAll)("."+$t+" ."+ei,this.hdrEle);var s=this.items[e];this.items.splice(e,1),this.items.splice(this.tbItem.length-1,0,s);var r=this.itemIndexArray[e];this.itemIndexArray.splice(e,1),this.itemIndexArray.splice(this.tbItem.length-1,0,r)}}else this.setActive(e,null,t);else this.setActive(0,null,t)}else e instanceof HTMLElement&&this.setActive(this.getEleIndex(e),null,t)},t.prototype.getItemIndex=function(e){for(var t,i=0;i<this.tbItem.length;i++)if(e===this.tbItem[i].getAttribute("data-id")){t=i;break}return t},t.prototype.disable=function(e){this.setCssClass(this.element,qt,e),this.element.setAttribute("aria-disabled",""+e)},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedItem","actEleId"])},t.prototype.getModuleName=function(){return"tab"},t.prototype.onPropertyChanged=function(e,t){for(var i=this,s=0,r=Object.keys(e);s<r.length;s++)switch(r[s]){case"width":(0,n.setStyleAttribute)(this.element,{width:(0,n.formatUnit)(e.width)});break;case"height":(0,n.setStyleAttribute)(this.element,{height:(0,n.formatUnit)(e.height)}),this.setContentHeight(!1);break;case"cssClass":var l=this.element.querySelector("."+Dt);""===t.cssClass||(0,n.isNullOrUndefined)(t.cssClass)?(this.setCssClass(this.element,e.cssClass,!0),(0,n.isNullOrUndefined)(l)||this.setCssClass(l,e.cssClass,!0)):(this.setCssClass(this.element,t.cssClass,!1),this.setCssClass(this.element,e.cssClass,!0),(0,n.isNullOrUndefined)(l)||(this.setCssClass(l,t.cssClass,!1),this.setCssClass(l,e.cssClass,!0)));break;case"items":this.evalOnPropertyChangeItems(e,t);break;case"showCloseButton":this.setCloseButton(e.showCloseButton);break;case"reorderActiveTab":this.refreshActiveTabBorder();break;case"selectedItem":this.selectedItem=t.selectedItem,this.select(e.selectedItem);break;case"headerPlacement":this.changeOrientation(e.headerPlacement);break;case"enableRtl":this.setRTL(e.enableRtl);break;case"overflowMode":this.tbObj.overflowMode=e.overflowMode,this.tbObj.dataBind(),this.refreshActiveTabBorder();break;case"heightAdjustMode":this.setContentHeight(!1),this.select(this.selectedItem);break;case"scrollStep":this.tbObj&&(this.tbObj.scrollStep=this.scrollStep);break;case"allowDragAndDrop":this.bindDraggable();break;case"dragArea":this.allowDragAndDrop&&(this.draggableItems.forEach((function(e){e.dragArea=i.dragArea})),this.refresh())}},t.prototype.refreshActiveTab=function(){if(this.isReact&&this.isTemplate&&this.clearTemplate(),this.isTemplate){var e=this.element.querySelector("."+$t),t=this.element.querySelector("."+ei+"."+jt),i=this.getIndexFromEle(t.id),s=t.innerText,r=this.element.querySelector("."+Mt).querySelector("."+jt).children[0],l=r.innerHTML;(0,n.detach)(t),(0,n.detach)(r);var o={className:ei+" "+Rt+" "+jt,id:Ut+this.tabId+"_"+i},a=this.createElement("span",{className:Yt,innerHTML:s,attrs:{role:"presentation"}}).outerHTML,d=this.createElement("div",{className:Jt,innerHTML:a+this.btnCls.outerHTML}).outerHTML,h=(y=t.firstElementChild.getAttribute("data-tabindex"),this.createElement("div",{className:Qt,innerHTML:d,attrs:{tabIndex:y,"data-tabindex":y,role:"tab","aria-controls":Mt+this.tabId+"_"+i,"aria-selected":"true","aria-disabled":"false"}}));e.insertBefore(this.createElement("div",o),e.children[i+1]),this.element.querySelector("."+ei+"."+jt).appendChild(h),S=this.createElement("div",{innerHTML:l}),this.element.querySelector("."+Mt).querySelector("."+jt).appendChild(S)}else if(this.element.querySelector("."+ei+"."+jt)){(0,n.detach)(this.element.querySelector("."+ei+"."+jt).children[0]),(0,n.detach)(this.element.querySelector("."+Mt).querySelector("."+jt).children[0]);var c=this.items[this.selectedItem],p=(0,n.isNullOrUndefined)(c.header)||(0,n.isNullOrUndefined)(c.header.iconPosition)?"":c.header.iconPosition,u=(0,n.isNullOrUndefined)(c.header)||(0,n.isNullOrUndefined)(c.header.iconCss)?"":c.header.iconCss,f=c.headerTemplate||c.header.text,m=this.createElement("div",{className:Yt,attrs:{role:"presentation"}});(0,n.isNullOrUndefined)(f.tagName)?this.headerTextCompile(m,f,this.selectedItem):m.appendChild(f);var v=this.createElement("span",{className:Vt+" "+Zt+" "+_t+"-"+p+" "+u}),g=this.createElement("div",{className:Jt});g.appendChild(m),""!==f&&void 0!==f&&""!==u?("left"===p||"top"===p?g.insertBefore(v,g.firstElementChild):g.appendChild(v),this.isIconAlone=!1):(""===u?m:v)===v&&((0,n.detach)(m),g.appendChild(v),this.isIconAlone=!0);var y=(0,n.isNullOrUndefined)(c.tabIndex)?"-1":c.tabIndex.toString(),b=c.disabled?{}:{tabIndex:y,"data-tabindex":y,role:"tab","aria-selected":"true","aria-disabled":"false"};g.appendChild(this.btnCls.cloneNode(!0));var C=this.createElement("div",{className:Qt,attrs:b});C.appendChild(g),"top"!==p&&"bottom"!==p||this.element.classList.add("e-vertical-icon"),this.element.querySelector("."+ei+"."+jt).appendChild(C);var S=this.createElement("div"),I=c.content,E=void 0;if("string"==typeof I||(0,n.isNullOrUndefined)(I.innerHTML))if("string"==typeof I&&this.enableHtmlSanitizer&&(I=n.SanitizeHtmlHelper.sanitize(I)),"."===I[0]||"#"===I[0])if(document.querySelectorAll(I).length){var x=document.querySelector(I);E=x.outerHTML.trim(),S.appendChild(x),x.style.display=""}else this.compileElement(S,I,"content",this.selectedItem);else this.compileElement(S,I,"content",this.selectedItem);else S.appendChild(I);(0,n.isNullOrUndefined)(E)||-1===this.templateEle.indexOf(I.toString())&&this.templateEle.push(I.toString()),this.element.querySelector("."+Ut+"."+jt).appendChild(S)}this.isReact&&this.renderReactTemplates()},t.prototype.refreshActiveTabBorder=function(){var e=(0,n.select)("."+ei+"."+ii+"."+jt,this.element);!(0,n.isNullOrUndefined)(e)&&this.reorderActiveTab&&this.select(this.getEleIndex(e)),this.refreshActiveBorder()},Tt([(0,n.Collection)([],vi)],t.prototype,"items",void 0),Tt([(0,n.Property)("100%")],t.prototype,"width",void 0),Tt([(0,n.Property)("auto")],t.prototype,"height",void 0),Tt([(0,n.Property)("")],t.prototype,"cssClass",void 0),Tt([(0,n.Property)(0)],t.prototype,"selectedItem",void 0),Tt([(0,n.Property)("Top")],t.prototype,"headerPlacement",void 0),Tt([(0,n.Property)("Content")],t.prototype,"heightAdjustMode",void 0),Tt([(0,n.Property)("Scrollable")],t.prototype,"overflowMode",void 0),Tt([(0,n.Property)("Dynamic")],t.prototype,"loadOn",void 0),Tt([(0,n.Property)(!1)],t.prototype,"enablePersistence",void 0),Tt([(0,n.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),Tt([(0,n.Property)(!1)],t.prototype,"showCloseButton",void 0),Tt([(0,n.Property)(!0)],t.prototype,"reorderActiveTab",void 0),Tt([(0,n.Property)()],t.prototype,"scrollStep",void 0),Tt([(0,n.Property)()],t.prototype,"dragArea",void 0),Tt([(0,n.Property)(!1)],t.prototype,"allowDragAndDrop",void 0),Tt([(0,n.Property)(!0)],t.prototype,"clearTemplates",void 0),Tt([(0,n.Complex)({},fi)],t.prototype,"animation",void 0),Tt([(0,n.Event)()],t.prototype,"created",void 0),Tt([(0,n.Event)()],t.prototype,"adding",void 0),Tt([(0,n.Event)()],t.prototype,"added",void 0),Tt([(0,n.Event)()],t.prototype,"selecting",void 0),Tt([(0,n.Event)()],t.prototype,"selected",void 0),Tt([(0,n.Event)()],t.prototype,"removing",void 0),Tt([(0,n.Event)()],t.prototype,"removed",void 0),Tt([(0,n.Event)()],t.prototype,"onDragStart",void 0),Tt([(0,n.Event)()],t.prototype,"dragging",void 0),Tt([(0,n.Event)()],t.prototype,"dragged",void 0),Tt([(0,n.Event)()],t.prototype,"destroyed",void 0),Tt([n.NotifyPropertyChanges],t)}(n.Component),yi=i(4505),bi=i(3098),Ci=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Si=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},Ii="e-treeview",Ei="e-control",xi="e-icon-collapsible",Ni="e-icon-expandable",Oi="e-list-item",wi="e-list-text",Li="e-list-parent",ki="e-hover",Ai="e-active",Ti="e-icons-spinner",Pi="e-process",Di="e-icons",Mi="e-text-content",Hi="e-input",Ui="e-input-group",Ri="e-tree-input",Bi="e-editing",ji="e-rtl",qi="e-interaction",Wi="e-droppable",Fi="e-dragging",Vi="e-sibling",_i="e-drop-in",zi="e-drop-next",Xi="e-drop-out",Ki="e-no-drop",Yi="e-fullrow",Gi="e-selected",Qi="e-expanded",Ji="e-node-collapsed",Zi="e-disable",$i="e-check",es="e-stop",ts="e-checkbox-wrapper",is="e-frame",ss="e-ripple",ns="e-node-focus",rs="e-list-img",ls="e-animation-active",os="e-disabled",as="e-prevent",ds={treeRole:"group",itemRole:"treeitem",listRole:"group",itemText:"",wrapperRole:""},hs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ci(t,e),Si([(0,n.Property)("child")],t.prototype,"child",void 0),Si([(0,n.Property)([])],t.prototype,"dataSource",void 0),Si([(0,n.Property)("expanded")],t.prototype,"expanded",void 0),Si([(0,n.Property)("hasChildren")],t.prototype,"hasChildren",void 0),Si([(0,n.Property)("htmlAttributes")],t.prototype,"htmlAttributes",void 0),Si([(0,n.Property)("iconCss")],t.prototype,"iconCss",void 0),Si([(0,n.Property)("id")],t.prototype,"id",void 0),Si([(0,n.Property)("imageUrl")],t.prototype,"imageUrl",void 0),Si([(0,n.Property)("isChecked")],t.prototype,"isChecked",void 0),Si([(0,n.Property)("parentID")],t.prototype,"parentID",void 0),Si([(0,n.Property)(null)],t.prototype,"query",void 0),Si([(0,n.Property)("selectable")],t.prototype,"selectable",void 0),Si([(0,n.Property)("selected")],t.prototype,"selected",void 0),Si([(0,n.Property)(null)],t.prototype,"tableName",void 0),Si([(0,n.Property)("text")],t.prototype,"text",void 0),Si([(0,n.Property)("tooltip")],t.prototype,"tooltip",void 0),Si([(0,n.Property)("navigateUrl")],t.prototype,"navigateUrl",void 0),t}(n.ChildProperty),cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ci(t,e),Si([(0,n.Property)("SlideDown")],t.prototype,"effect",void 0),Si([(0,n.Property)(400)],t.prototype,"duration",void 0),Si([(0,n.Property)("linear")],t.prototype,"easing",void 0),t}(n.ChildProperty),ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ci(t,e),Si([(0,n.Complex)({effect:"SlideUp",duration:400,easing:"linear"},cs)],t.prototype,"collapse",void 0),Si([(0,n.Complex)({effect:"SlideDown",duration:400,easing:"linear"},cs)],t.prototype,"expand",void 0),t}(n.ChildProperty),us=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isRefreshed=!1,s.preventExpand=!1,s.checkedElement=[],s.disableNode=[],s.validArr=[],s.validNodes=[],s.expandChildren=[],s.isFieldChange=!1,s.changeDataSource=!1,s.hasTemplate=!1,s.isFirstRender=!1,s.isNodeDropped=!1,s.isInteracted=!1,s.isRightClick=!1,s.mouseDownStatus=!1,s}var i;return Ci(t,e),i=t,t.prototype.getModuleName=function(){return"treeview"},t.prototype.preRender=function(){var e=this;this.checkActionNodes=[],this.parentNodeCheck=[],this.dragStartAction=!1,this.isAnimate=!1,this.keyConfigs={escape:"escape",end:"end",enter:"enter",f2:"f2",home:"home",moveDown:"downarrow",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",ctrlDown:"ctrl+downarrow",ctrlUp:"ctrl+uparrow",ctrlEnter:"ctrl+enter",ctrlHome:"ctrl+home",ctrlEnd:"ctrl+end",ctrlA:"ctrl+A",shiftDown:"shift+downarrow",shiftUp:"shift+uparrow",shiftEnter:"shift+enter",shiftHome:"shift+home",shiftEnd:"shift+end",csDown:"ctrl+shift+downarrow",csUp:"ctrl+shift+uparrow",csEnter:"ctrl+shift+enter",csHome:"ctrl+shift+home",csEnd:"ctrl+shift+end",space:"space",shiftSpace:"shift+space",ctrlSpace:"ctrl+space"},this.listBaseOption={expandCollapse:!0,showIcon:!0,expandIconClass:Ni,ariaAttributes:ds,expandIconPosition:"Left",itemCreated:function(t){e.beforeNodeCreate(t)},enableHtmlSanitizer:this.enableHtmlSanitizer,itemNavigable:this.fullRowNavigable},this.updateListProp(this.fields),this.aniObj=new n.Animation({}),this.treeList=[],this.isLoaded=!1,this.isInitalExpand=!1,this.expandChildren=[],this.index=0,this.setTouchClass(),(0,n.isNullOrUndefined)(this.selectedNodes)&&this.setProperties({selectedNodes:[]},!0),(0,n.isNullOrUndefined)(this.checkedNodes)&&this.setProperties({checkedNodes:[]},!0),(0,n.isNullOrUndefined)(this.expandedNodes)?this.setProperties({expandedNodes:[]},!0):this.isInitalExpand=!0},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedNodes","checkedNodes","expandedNodes"])},t.prototype.render=function(){this.initialRender=!0,this.initialize(),this.setDataBinding(!1),this.setDisabledMode(),this.setExpandOnType(),this.disabled||this.setRipple(),this.wireEditingEvents(this.allowEditing),this.setDragAndDrop(this.allowDragAndDrop),this.disabled||this.wireEvents(),this.initialRender=!1,this.renderComplete()},t.prototype.initialize=function(){this.element.setAttribute("role","tree"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active"),this.setCssClass(null,this.cssClass),this.setEnableRtl(),this.setFullRow(this.fullRowSelect),this.setTextWrap(),this.nodeTemplateFn=this.templateComplier(this.nodeTemplate)},t.prototype.setDisabledMode=function(){this.disabled?(this.element.classList.add(os),this.element.setAttribute("aria-disabled","true")):(this.element.classList.remove(os),this.element.setAttribute("aria-disabled","false"))},t.prototype.setEnableRtl=function(){(this.enableRtl?n.addClass:n.removeClass)([this.element],ji)},t.prototype.setRipple=function(){var e={selector:"."+Yi+",."+Mi,ignore:"."+Mi+" > ."+Di+",."+Ui+",."+Hi+", ."+ts};this.rippleFn=(0,n.rippleEffect)(this.element,e);var t={selector:"."+Mi+" > ."+Di,isCenterRipple:!0};this.rippleIconFn=(0,n.rippleEffect)(this.element,t)},t.prototype.setFullRow=function(e){(e?n.addClass:n.removeClass)([this.element],"e-fullrow-wrap")},t.prototype.setMultiSelect=function(e){e?this.element.setAttribute("aria-multiselectable","true"):this.element.setAttribute("aria-multiselectable","false")},t.prototype.templateComplier=function(e){if(e){this.hasTemplate=!0,this.element.classList.add(qi);try{return"function"!=typeof e&&document.querySelectorAll(e).length?(0,n.compile)(document.querySelector(e).innerHTML.trim()):(0,n.compile)(e)}catch(t){return(0,n.compile)(e)}}this.element.classList.remove(qi)},t.prototype.setDataBinding=function(e){var t=this;this.treeList.push("false"),this.fields.dataSource instanceof yi.DataManager?(this.isOffline=this.fields.dataSource.dataSource.offline,this.fields.dataSource.ready?this.fields.dataSource.ready.then((function(e){t.isOffline=t.fields.dataSource.dataSource.offline,t.fields.dataSource instanceof yi.DataManager&&t.isOffline&&(t.treeList.pop(),t.treeData=e.result,t.isNumberTypeId=t.getType(),t.setRootData(),t.renderItems(!0),0!==t.treeList.length||t.isLoaded||t.finalize())})).catch((function(e){t.trigger("actionFailure",{error:e})})):this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then((function(i){t.treeList.pop(),t.treeData=i.result,t.isNumberTypeId=t.getType(),t.setRootData(),e&&(t.changeDataSource=!0),t.renderItems(!0),t.changeDataSource=!1,0!==t.treeList.length||t.isLoaded||t.finalize()})).catch((function(e){t.trigger("actionFailure",{error:e})}))):(this.treeList.pop(),(0,n.isNullOrUndefined)(this.fields.dataSource)?this.rootData=this.treeData=[]:(this.treeData=JSON.parse(JSON.stringify(this.fields.dataSource)),this.setRootData()),this.isNumberTypeId=this.getType(),this.renderItems(!1)),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.getQuery=function(e,t){void 0===t&&(t=null);var i,s=[];if(e.query)i=e.query.clone();else{i=new yi.Query;for(var r=this.getActualProperties(e),l=0,o=Object.keys(r);l<o.length;l++){var a=o[l];"dataSource"!==a&&"tableName"!==a&&"child"!==a&&e[a]&&"url"!==a&&-1===s.indexOf(e[a])&&s.push(e[a])}i.select(s),r.hasOwnProperty("tableName")&&i.from(e.tableName)}return j.ListBase.addSorting(this.sortOrder,e.text,i),(0,n.isNullOrUndefined)(t)||(0,n.isNullOrUndefined)(e.parentID)||i.where(e.parentID,"equal",this.isNumberTypeId?parseFloat(t):t),i},t.prototype.getType=function(){return!!this.treeData[0]&&"number"==typeof(0,n.getValue)(this.fields.id,this.treeData[0])},t.prototype.setRootData=function(){if(this.dataType=this.getDataType(this.treeData,this.fields),1===this.dataType){this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID);var e=this.getChildNodes(this.treeData,void 0,!0);(0,n.isNullOrUndefined)(e)?this.rootData=[]:this.rootData=e}else this.rootData=this.treeData},t.prototype.isChildObject=function(){return"object"==typeof this.fields.child},t.prototype.renderItems=function(e){this.listBaseOption.ariaAttributes.level=1;var t=this.getSortedData(this.rootData);this.ulElement=j.ListBase.createList(this.createElement,e?this.rootData:t,this.listBaseOption),this.element.appendChild(this.ulElement);var i=this.ulElement.querySelectorAll(".e-list-item");if(!1===this.loadOnDemand)for(var s=0;s<i.length;)this.renderChildNodes(i[s],!0,null,!0),s++;(1===(0,n.selectAll)("."+Li,this.element).length&&i&&0!==i.length||this.loadOnDemand)&&this.finalizeNode(this.element),this.parentNodeCheck=[],this.parentCheckData=[],this.updateCheckedStateFromDS(),this.autoCheck&&this.showCheckBox&&!this.isLoaded&&this.updateParentCheckState()},t.prototype.updateCheckedStateFromDS=function(e){if(this.validNodes=[],this.treeData&&this.showCheckBox){if(1===this.dataType){for(var t=this.fields,i=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(t.isChecked,"equal",!0,!1)),s=0;s<i.length;s++){var r=i[s][this.fields.id]?i[s][this.fields.id].toString():null;if(i[s][this.fields.parentID]&&i[s][this.fields.parentID].toString(),-1!==this.checkedNodes.indexOf(r)||this.isLoaded||this.checkedNodes.push(r),i[s][this.fields.hasChildren])for(var l=i[s][this.fields.id],o=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(t.parentID,"equal",l,!1)),a=0;a<o.length;a++){var d=o[a][this.fields.id]?o[a][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(d)&&this.autoCheck&&this.checkedNodes.push(d)}}for(s=0;s<this.checkedNodes.length;s++){var h=this.fields,c=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(h.id,"equal",this.checkedNodes[s],!0));if(c[0]&&this.autoCheck&&(this.getCheckedNodeDetails(h,c),this.checkIndeterminateState(c[0])),c.length>0){var p=c[0][this.fields.id]?c[0][this.fields.id].toString():null;this.checkedNodes.indexOf(p)>-1&&-1===this.validNodes.indexOf(p)&&this.validNodes.push(p)}for(var u=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(h.parentID,"equal",this.checkedNodes[s],!0)),f=0;f<u.length;f++)p=u[f][this.fields.id]?u[f][this.fields.id].toString():null,-1===this.checkedNodes.indexOf(p)&&this.autoCheck&&this.checkedNodes.push(p),this.checkedNodes.indexOf(p)>-1&&-1===this.validNodes.indexOf(p)&&this.validNodes.push(p)}}else if(2===this.dataType||this.fields.dataSource instanceof yi.DataManager&&this.isOffline){for(f=0;f<this.treeData.length;f++){var m=this.treeData[f][this.fields.id]?this.treeData[f][this.fields.id].toString():"";this.treeData[f][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(m)&&this.checkedNodes.push(m),this.checkedNodes.indexOf(m)>-1&&-1===this.validNodes.indexOf(m)&&this.validNodes.push(m);var v=(0,n.getValue)(this.fields.child.toString(),this.treeData[f]);v&&this.updateChildCheckState(v,this.treeData[f])}this.validNodes=this.enablePersistence?this.checkedNodes:this.validNodes}this.setProperties({checkedNodes:this.validNodes},!0)}},t.prototype.getCheckedNodeDetails=function(e,t){var i=t[0][this.fields.parentID]?t[0][this.fields.parentID].toString():null,s=0,r=this.element.querySelector('[data-uid="'+t[0][this.fields.id]+'"]'),l=this.element.querySelector('[data-uid="'+t[0][this.fields.parentID]+'"]');if(r||l)l&&((0,n.select)("."+$i,l)||this.changeState(l,"indeterminate",null,!0,!0));else{this.parentNodeCheck.length,-1===this.parentNodeCheck.indexOf(i)&&this.parentNodeCheck.push(i);for(var o=this.getChildNodes(this.treeData,i),a=0;a<o.length;a++){var d=o[a][this.fields.id]?o[a][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(d)&&s++,s===o.length&&-1===this.checkedNodes.indexOf(i)&&this.checkedNodes.push(i)}var h=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(e.id,"equal",i,!0));this.getCheckedNodeDetails(e,h)}},t.prototype.updateParentCheckState=function(){for(var e,t=(0,n.selectAll)("."+es,this.element),i=0;i<t.length;i++){var s=(0,n.closest)(t[i],"."+Oi),r=s.getAttribute("data-uid").toString(),l=0;if(e=1===this.dataType?new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(this.fields.parentID,"equal",r,!0)):this.getChildNodes(this.treeData,r)){for(var o=0;o<e.length;o++){var a=e[o][this.fields.id].toString();-1!==this.checkedNodes.indexOf(a)&&l++}if(l===e.length){var d=s.getAttribute("data-uid");-1===this.checkedNodes.indexOf(d)&&this.checkedNodes.push(d),this.changeState(s,"check",null,!0,!0)}else 0===l&&0===this.checkedNodes.length&&this.changeState(s,"uncheck",null,!0,!0)}}},t.prototype.checkIndeterminateState=function(e){var t;(t=1===this.dataType?this.element.querySelector('[data-uid="'+e[this.fields.parentID]+'"]'):this.element.querySelector('[data-uid="'+e[this.fields.id]+'"]'))?"true"!==t.querySelector("."+ts).getAttribute("aria-checked")&&this.changeState(t,"indeterminate",null,!0,!0):2===this.dataType&&(this.parentNodeCheck.length,-1===this.parentNodeCheck.indexOf(e[this.fields.id].toString())&&this.parentNodeCheck.push(e[this.fields.id].toString()))},t.prototype.updateChildCheckState=function(e,t){for(var i=0,s=t[this.fields.id]?t[this.fields.id].toString():"",r=0;r<e.length;r++){var l=e[r][this.fields.id]?e[r][this.fields.id].toString():"";e[r][this.fields.isChecked]&&!this.isLoaded&&-1===this.checkedNodes.indexOf(l)&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(l)&&this.autoCheck&&this.checkedNodes.push(l),-1!==this.checkedNodes.indexOf(l)&&this.autoCheck&&i++,this.checkedNodes.indexOf(l)>-1&&-1===this.validNodes.indexOf(l)&&this.validNodes.push(l);var o=(0,n.getValue)(this.fields.child.toString(),e[r]);o&&o.length&&(-1===this.parentCheckData.indexOf(t)&&this.parentCheckData.push(t),this.updateChildCheckState(o,e[r])),i===e.length&&this.autoCheck&&-1===this.checkedNodes.indexOf(s)&&this.checkedNodes.push(s)}if(0!==i&&this.autoCheck){this.checkIndeterminateState(t);for(var a=0;a<this.parentCheckData.length;a++)t!==this.parentCheckData[a]&&this.parentCheckData[a]&&this.checkIndeterminateState(this.parentCheckData[a])}this.parentCheckData=[]},t.prototype.beforeNodeCreate=function(e){if(this.showCheckBox){var t=(0,ue.createCheckBox)(this.createElement,!0,{cssClass:this.touchClass});t.setAttribute("role","checkbox"),t.setAttribute("aria-label",e.text);var i=(0,n.select)("div."+Di,e.item),s=e.item.getAttribute("data-uid");e.item.childNodes[0].insertBefore(t,e.item.childNodes[0].childNodes[(0,n.isNullOrUndefined)(i)?0:1]);var r=(0,n.getValue)(e.fields.isChecked,e.curData);this.checkedNodes.indexOf(s)>-1?((0,n.select)("."+is,t).classList.add($i),t.setAttribute("aria-checked","true"),this.addCheck(e.item)):(0,n.isNullOrUndefined)(r)||"true"!==r.toString()?t.setAttribute("aria-checked","false"):((0,n.select)("."+is,t).classList.add($i),t.setAttribute("aria-checked","true"),this.addCheck(e.item));var l=(0,n.select)("."+is,t);n.EventHandler.add(l,"mousedown",this.frameMouseHandler,this),n.EventHandler.add(l,"mouseup",this.frameMouseHandler,this)}this.fullRowSelect&&this.createFullRow(e.item),this.allowMultiSelection&&!e.item.classList.contains(Gi)&&e.item.setAttribute("aria-selected","false");var o=e.fields;if(this.addActionClass(e,o.selected,Gi),this.addActionClass(e,o.expanded,Qi),e.item.setAttribute("tabindex","-1"),n.EventHandler.add(e.item,"focus",this.focusIn,this),!(0,n.isNullOrUndefined)(this.nodeTemplateFn)){var a=e.item.querySelector("."+wi),d=e.item.getAttribute("data-uid");a.innerHTML="",this.renderNodeTemplate(e.curData,a,d)}var h={node:e.item,nodeData:e.curData,text:e.text};this.isRefreshed||(this.trigger("drawNode",h),!1!==e.curData[this.fields.selectable]||this.showCheckBox||(e.item.classList.add(as),e.item.firstElementChild.setAttribute("style","cursor: not-allowed")))},t.prototype.frameMouseHandler=function(e){var t=(0,n.select)(".e-ripple-container",e.target.parentElement);(0,ue.rippleMouseHandler)(e,t)},t.prototype.addActionClass=function(e,t,i){var s=e.curData,r=(0,n.getValue)(t,s);(0,n.isNullOrUndefined)(r)||"false"===r.toString()||e.item.classList.add(i)},t.prototype.getDataType=function(e,t){if(this.fields.dataSource instanceof yi.DataManager){for(var i=0;i<e.length;i++)if(this.isOffline){if("string"==typeof t.child&&(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[i]))&&!(0,n.isNullOrUndefined)((0,n.getValue)(t.parentID,e[i])))return 1}else if("string"==typeof t.child&&(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[i])))return 1;return 2}i=0;for(var s=e.length;i<s;i++){if("string"==typeof t.child&&!(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[i])))return 2;if(this.isChildObject())return 2;if(!(0,n.isNullOrUndefined)((0,n.getValue)(t.parentID,e[i]))||!(0,n.isNullOrUndefined)((0,n.getValue)(t.hasChildren,e[i])))return 1}return 1},t.prototype.getGroupedData=function(e,t){for(var i=(new yi.Query).group(t),s=j.ListBase.getDataSource(e,i),n=[],r=0;r<s.length;r++){var l=s[r].items;n.push(l)}return n},t.prototype.getSortedData=function(e){return e&&"None"!==this.sortOrder&&(e=j.ListBase.getDataSource(e,j.ListBase.addSorting(this.sortOrder,this.fields.text))),e},t.prototype.finalizeNode=function(e){for(var t=this,i=(0,n.selectAll)("."+rs,e),s=0;s<i.length;s++)i[s].setAttribute("alt",rs);if(this.isLoaded){for(var r=(0,n.selectAll)("."+Gi,e),l=0;l<r.length;l++){this.selectNode(r[l],null);break}(0,n.removeClass)(r,Gi)}for(var o=(0,n.selectAll)("."+Oi+":not(."+Qi+")",e),a=0;a<o.length;a++){var d=(0,n.select)("div."+Di,o[a]);d&&d.classList.contains(Ni)&&this.disableExpandAttr(o[a])}var h=(0,n.selectAll)("."+Qi,e);if(!this.loadOnDemand&&this.fields.dataSource instanceof yi.DataManager&&(this.isInitalExpand=this.treeData.filter((function(e){return 1==e[t.fields.expanded]})).length>0||this.isInitalExpand),!this.isInitalExpand)for(l=0;l<h.length;l++)this.renderChildNodes(h[l]);(0,n.removeClass)(h,Qi),this.updateList(),this.isLoaded&&this.updateCheckedProp()},t.prototype.updateCheckedProp=function(){if(this.showCheckBox){var e=[].concat([],this.checkedNodes);this.setProperties({checkedNodes:e},!0)}},t.prototype.ensureIndeterminate=function(){if(this.autoCheck)for(var e=(0,n.selectAll)("li",this.element),t=0;t<e.length;t++)e[t].classList.contains(Oi)&&((0,n.select)("."+Li,e[t])?this.ensureParentCheckState(e[t]):this.ensureChildCheckState(e[t]));else{var i=(0,n.selectAll)("."+es,this.element);for(t=0;t<i.length;t++)i[t].classList.remove(es)}},t.prototype.ensureParentCheckState=function(e){if(!(0,n.isNullOrUndefined)(e)){if(e.classList.contains(Ii))return;var t=e;e.classList.contains(Oi)&&(t=(0,n.select)("."+Li,e));var i=(0,n.selectAll)("."+$i,t),s=(0,n.selectAll)("."+es,t),r=(0,n.selectAll)("."+Oi,t),l=e.getElementsByClassName(ts)[0];r.length===i.length?this.changeState(l,"check",null,!0,!0):i.length>0||s.length>0?this.changeState(l,"indeterminate",null,!0,!0):0===i.length&&this.changeState(l,"uncheck",null,!0,!0);var o=(0,n.closest)(e,"."+Li);if(!(0,n.isNullOrUndefined)(o)){var a=(0,n.closest)(o,"."+Oi);this.ensureParentCheckState(a)}}},t.prototype.ensureChildCheckState=function(e,t){if(!(0,n.isNullOrUndefined)(e)){var i=(0,n.select)("."+Li,e),s=void 0;if(!(0,n.isNullOrUndefined)(i)){s=(0,n.selectAll)("."+ts,i);for(var r=e.getElementsByClassName(is)[0].classList.contains($i),l=e.getElementsByClassName(is)[0].classList.contains(es),o=i.querySelectorAll("li"),a=void i.parentElement.getAttribute("aria-expanded"),d=0;d<s.length;d++){var h=o[d].getAttribute("data-uid");if((0,n.isNullOrUndefined)(this.currentLoadData)||(0,n.isNullOrUndefined)((0,n.getValue)(this.fields.isChecked,this.currentLoadData[d]))){var c=s[d].getElementsByClassName(is)[0].classList.contains($i);r||c&&!this.isLoaded||-1!==this.checkedNodes.indexOf(h)&&this.isLoaded&&(l||r)?a="check":o[d].classList.contains("e-has-child")&&!(0,n.isUndefined)(this.parentNodeCheck)&&this.autoCheck&&(r||l)&&-1!==this.parentNodeCheck.indexOf(h)||1===this.dataType&&!(0,n.isUndefined)(this.parentNodeCheck)&&this.autoCheck&&(r||l)&&-1!==this.parentNodeCheck.indexOf(h)?(a="indeterminate",this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(h),1)):a="uncheck"}else a=(0,n.getValue)(this.fields.isChecked,this.currentLoadData[d])?"check":"uncheck",-1!==this.ele&&(a=r?"check":"uncheck"),"uncheck"===a&&!(0,n.isUndefined)(this.parentNodeCheck)&&this.autoCheck&&-1!==this.parentNodeCheck.indexOf(h)&&(this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(h),1),a="indeterminate");this.changeState(s[d],a,t,!0,!0)}}this.autoCheck&&this.isLoaded&&this.updateParentCheckState()}},t.prototype.doCheckBoxAction=function(e,t){if((0,n.selectAll)("."+Oi,this.element),(0,n.isNullOrUndefined)(e)){var i=(0,n.selectAll)("."+ts,this.element);if(this.loadOnDemand)for(var s=0;s<i.length;s++)this.updateFieldChecked(i[s],t),this.changeState(i[s],t?"check":"uncheck",null,null,null,t);else for(s=0;s<i.length;s++)this.updateFieldChecked(i[s],t),this.changeState(i[s],t?"check":"uncheck")}else for(var r=e.length-1;r>=0;r--){var l=this.getElement(e[r]);if((0,n.isNullOrUndefined)(l)){var o=void 0;if(""!==(o=e[r-(e.length-1)]?e[r-(e.length-1)].toString():e[r]?e[r].toString():null)&&t&&o)this.setValidCheckedNode(o),this.dynamicCheckState(o,t);else if(-1!==this.checkedNodes.indexOf(o)&&""!==o&&!t){this.checkedNodes.splice(this.checkedNodes.indexOf(o),1);var a=this.getChildNodes(this.treeData,o);if(a){for(var d=0;d<a.length;d++){var h=a[d][this.fields.id]?a[d][this.fields.id].toString():null;if(-1!==this.checkedNodes.indexOf(h)){this.checkedNodes.splice(this.checkedNodes.indexOf(h),1);var c=this.element.querySelector('[data-uid="'+h+'"]');c&&this.changeState(c,"uncheck",null)}}-1!==this.parentNodeCheck.indexOf(o)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(o),1)}o&&this.dynamicCheckState(o,t),this.updateField(this.treeData,this.fields,o,"isChecked",null)}}else{var p=(0,n.select)("."+Li+" ."+ts,l);this.validateCheckNode(p,!t,l,null)}}if(e)for(var u=0;u<e.length-1;u++)o=e[u]?e[u].toString():"",t||this.updateField(this.treeData,this.fields,o,"isChecked",null);this.autoCheck&&this.updateParentCheckState()},t.prototype.updateFieldChecked=function(e,t){var i=(0,n.closest)(e,"."+Oi),s=i.getAttribute("data-uid");"true"!==this.getNodeData(i).isChecked||t||this.updateField(this.treeData,this.fields,s,"isChecked",null)},t.prototype.dynamicCheckState=function(e,t){if(1===this.dataType){var i=0,s=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(this.fields.id,"equal",e,!0));if(s[0]){var r=s[0][this.fields.id]?s[0][this.fields.id].toString():null,l=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null,o=((p=this.element.querySelector('[data-uid="'+l+'"]'))&&(0,n.select)("."+es,p),p?(0,n.select)("."+$i,p):null),a=this.element.querySelector('[data-uid="'+r+'"]'),d=this.getChildNodes(this.treeData,l);if(d)for(var h=0;h<d.length;h++){var c=d[h][this.fields.id]?d[h][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(c)&&i++}-1!==this.checkedNodes.indexOf(e)&&p&&r===e&&this.autoCheck?this.changeState(p,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&a&&r===e&&!t?this.changeState(a,"uncheck",null):-1!==this.checkedNodes.indexOf(e)&&a&&r===e&&t?this.changeState(a,"check",null):-1===this.checkedNodes.indexOf(e)&&!a&&p&&r===e&&this.autoCheck&&0!==i?this.changeState(p,"indeterminate",null):-1===this.checkedNodes.indexOf(e)&&!a&&p&&r===e&&this.autoCheck&&0===i?this.changeState(p,"uncheck",null):a||p||r!==e||!this.autoCheck||this.updateIndeterminate(e,t)}}else if(2===this.dataType||this.fields.dataSource instanceof yi.DataManager&&this.isOffline){r=void 0;var p=void 0;for(o=void 0,h=0;h<this.treeData.length;h++){r=this.treeData[h][this.fields.id]?this.treeData[h][this.fields.id].toString():"",o=(p=this.element.querySelector('[data-uid="'+r+'"]'))?(0,n.select)("."+$i,p):null,-1===this.checkedNodes.indexOf(r)&&p&&o&&!t&&this.changeState(p,"uncheck",null);var u=(0,n.getValue)(this.fields.child.toString(),this.treeData[h]);u&&this.updateChildIndeterminate(u,r,e,t,r)}}},t.prototype.updateIndeterminate=function(e,t){var i,s=this.getTreeData(e),n=0;1===this.dataType&&(i=s[0][this.fields.parentID]?s[0][this.fields.parentID].toString():null);var r=this.getChildNodes(this.treeData,i);if(r)for(var l=0;l<r.length;l++){var o=r[l][this.fields.id]?r[l][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(o)&&n++}var a=this.element.querySelector('[data-uid="'+i+'"]');a&&t||!t&&a&&-1===this.parentNodeCheck.indexOf(i)&&0!==n?this.changeState(a,"indeterminate",null):!t&&a&&-1===this.parentNodeCheck.indexOf(i)&&0===n?this.changeState(a,"uncheck",null):a||(t||-1!==this.checkedNodes.indexOf(i)||-1===this.parentNodeCheck.indexOf(i)?t&&-1===this.checkedNodes.indexOf(i)&&-1===this.parentNodeCheck.indexOf(i)?this.parentNodeCheck.push(i):t||-1===this.checkedNodes.indexOf(i)||-1!==this.parentNodeCheck.indexOf(i)||0===n||this.parentNodeCheck.push(i):this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(i),1),this.updateIndeterminate(i,t),-1===this.checkedNodes.indexOf(i)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(i),1))},t.prototype.updateChildIndeterminate=function(e,t,i,s,r){for(var l=0,o=0;o<e.length;o++){var a=e[o][this.fields.id]?e[o][this.fields.id].toString():"";-1!==this.checkedNodes.indexOf(a)&&l++;var d=this.element.querySelector('[data-uid="'+t+'"]'),h=d?(0,n.select)("."+es,d):null,c=d?(0,n.select)("."+$i,d):null,p=this.element.querySelector('[data-uid="'+a+'"]'),u=p?(0,n.select)("."+$i,p):null;if(-1!==this.checkedNodes.indexOf(i)&&d&&a===i&&this.autoCheck)this.changeState(d,"indeterminate",null);else if(-1!==this.checkedNodes.indexOf(i)||!d||p||a!==i||s){if(-1===this.checkedNodes.indexOf(i)&&p&&a===i&&!s)this.changeState(p,"uncheck",null);else if(-1===this.checkedNodes.indexOf(i)&&h&&a===i&&this.autoCheck&&0===l&&!s)h.classList.remove(es);else if(-1===this.checkedNodes.indexOf(i)&&!p&&c&&a===i&&0===l)this.changeState(d,"uncheck",null);else if(-1===this.checkedNodes.indexOf(a)&&p&&u&&0===l)this.changeState(p,"uncheck",null);else if(!p&&!d&&a===i||-1!==this.parentNodeCheck.indexOf(t)&&this.autoCheck){var f=this.element.querySelector('[data-uid="'+r+'"]');s&&0!==l?this.changeState(f,"indeterminate",null):s&&l===e.length&&-1===this.checkedNodes.indexOf(t)?this.checkedNodes.push(t):s||0!==l||-1===this.parentNodeCheck.indexOf(t)||this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(t)),-1===this.parentNodeCheck.indexOf(t)&&this.parentNodeCheck.push(t)}}else this.autoCheck?this.changeState(d,"uncheck",null):0!==l?this.changeState(d,"indeterminate",null):this.changeState(d,"uncheck",null);var m=(0,n.getValue)(this.fields.child.toString(),e[o]);m&&this.updateChildIndeterminate(m,a,i,s,r)}},t.prototype.changeState=function(e,t,i,s,r,l){var o,a=this,d=(0,n.closest)(e,"."+Oi);e===d&&(e=(0,n.select)("."+ts,d)),s?this.nodeCheckAction(e,t,d,o,i,s,r,l):(this.checkActionNodes=[],o=this.getCheckEvent(d,t,i),this.trigger("nodeChecking",o,(function(n){n.cancel||a.nodeCheckAction(e,t,d,n,i,s,r,l)})))},t.prototype.nodeCheckAction=function(e,t,i,s,r,l,o,a){var d,h=e.getElementsByClassName(is)[0];if("check"!==t||h.classList.contains($i)?"uncheck"===t&&(h.classList.contains($i)||h.classList.contains(es))?((0,n.removeClass)([h],[$i,es]),this.removeCheck(i),d="false"):"indeterminate"===t&&this.autoCheck&&(h.classList.remove($i),h.classList.add(es),this.removeCheck(i),d="mixed"):(h.classList.remove(es),h.classList.add($i),this.addCheck(i),d="true"),d="check"===t?"true":"uncheck"===t?"false":d,(0,n.isNullOrUndefined)(d)||e.setAttribute("aria-checked",d),o){var c=[].concat([],this.checkActionNodes);s=this.getCheckEvent(i,t,r),(0,n.isUndefined)(l)&&(s.data=c)}void 0!==a&&this.ensureStateChange(i,a),l||(0,n.isNullOrUndefined)(d)||(e.setAttribute("aria-checked",d),s.data[0].checked=d,this.trigger("nodeChecked",s),this.checkActionNodes=[])},t.prototype.addCheck=function(e){var t=e.getAttribute("data-uid");(0,n.isNullOrUndefined)(t)||-1!==this.checkedNodes.indexOf(t)||this.checkedNodes.push(t)},t.prototype.removeCheck=function(e){var t=this.checkedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.checkedNodes.splice(t,1)},t.prototype.getCheckEvent=function(e,t,i){this.checkActionNodes.push(this.getNodeData(e));var s=this.checkActionNodes;return{action:t,cancel:!1,isInteracted:!(0,n.isNullOrUndefined)(i),node:e,data:s}},t.prototype.finalize=function(){var e=(0,n.select)("."+Li,this.element);if(!(0,n.isNullOrUndefined)(e)){e.setAttribute("role",ds.treeRole),this.setMultiSelect(this.allowMultiSelection);var t=(0,n.select)("."+Oi,this.element);t&&(t.setAttribute("tabindex","0"),this.updateIdAttr(null,t)),this.allowTextWrap&&this.updateWrap(),this.renderReactTemplates(),this.hasPid=!!this.rootData[0]&&this.rootData[0].hasOwnProperty(this.fields.parentID),this.doExpandAction()}},t.prototype.setTextWrap=function(){(this.allowTextWrap?n.addClass:n.removeClass)([this.element],"e-text-wrap"),n.Browser.isIE&&(this.allowTextWrap?n.addClass:n.removeClass)([this.element],"e-ie-wrap")},t.prototype.updateWrap=function(e){if(this.fullRowSelect)for(var t=e?(0,n.selectAll)("."+Oi,e):this.liList,i=t.length,s=0;s<i;s++)this.calculateWrap(t[s])},t.prototype.calculateWrap=function(e){var t=(0,n.select)("."+Yi,e);t&&t.nextElementSibling&&(t.style.height=this.allowTextWrap?t.nextElementSibling.offsetHeight+"px":"")},t.prototype.doExpandAction=function(){var e=this,t=this.expandedNodes;if(!this.loadOnDemand&&this.fields.dataSource instanceof yi.DataManager&&(this.isInitalExpand=this.treeData.filter((function(t){return 1==t[e.fields.expanded]})).length>0||this.isInitalExpand),this.isInitalExpand&&t.length>0)if(this.setProperties({expandedNodes:[]},!0),this.fields.dataSource instanceof yi.DataManager)this.expandGivenNodes(t);else{for(var i=0;i<t.length;i++){var s=(0,n.select)('[data-uid="'+t[i]+'"]',this.element);if((0,n.isNullOrUndefined)(s))t[i]&&-1===this.expandChildren.indexOf(t[i])&&this.expandChildren.push(t[i].toString());else{var r=(0,n.select)("."+Ni,(0,n.select)("."+Mi,s));(0,n.isNullOrUndefined)(r)||this.expandAction(s,r,null)}}this.afterFinalized()}else this.afterFinalized()},t.prototype.expandGivenNodes=function(e){var t=this;this.expandCallback(e[this.index],(function(){t.index++,t.index<e.length?t.expandGivenNodes(e):t.afterFinalized()}))},t.prototype.expandCallback=function(e,t){var i=(0,n.select)('[data-uid="'+e+'"]',this.element);if((0,n.isNullOrUndefined)(i))t();else{var s=(0,n.select)("."+Ni,(0,n.select)("."+Mi,i));(0,n.isNullOrUndefined)(s)?t():this.expandAction(i,s,null,!1,t)}},t.prototype.afterFinalized=function(){if(this.doSelectionAction(),this.updateCheckedProp(),this.isAnimate=!0,this.isInitalExpand=!1,(!this.isLoaded||this.isFieldChange)&&!this.isNodeDropped){var e={data:this.treeData};this.trigger("dataBound",e)}this.isLoaded=!0,this.isNodeDropped=!1},t.prototype.doSelectionAction=function(){var e=(0,n.selectAll)("."+Gi,this.element),t=this.selectedNodes;if(t.length>0){this.setProperties({selectedNodes:[]},!0);for(var i=0;i<t.length;i++){var s=(0,n.select)('[data-uid="'+t[i]+'"]',this.element);if(s&&!s.classList.contains("e-active")?this.selectNode(s,null,!0):this.selectedNodes.push(t[i]),!this.allowMultiSelection)break}}else this.selectGivenNodes(e);(0,n.removeClass)(e,Gi)},t.prototype.selectGivenNodes=function(e){for(var t=0;t<e.length&&(e[t].classList.contains("e-disable")||this.selectNode(e[t],null,!0),this.allowMultiSelection);t++);},t.prototype.clickHandler=function(e){var t=n.Browser.isDevice&&!n.Browser.isIos?document.elementFromPoint(e.originalEvent.changedTouches[0].clientX,e.originalEvent.changedTouches[0].clientY):e.originalEvent.target;if(n.EventHandler.remove(this.element,"contextmenu",this.preventContextMenu),t&&!this.dragStartAction){var i=t.classList,s=(0,n.closest)(t,"."+Oi);if(s&&(!s.classList.contains(as)||i.contains(Ni)||i.contains(xi))){if(3!==e.originalEvent.which){var r=(0,n.select)(".e-ripple-element",s),l=(0,n.select)("."+Di,s);if(this.removeHover(),this.setFocusElement(s),this.showCheckBox&&!s.classList.contains("e-disable")){var o=(0,n.closest)(t,"."+ts);if(!(0,n.isNullOrUndefined)(o)){var a=(0,n.select)("."+is,o);return this.validateCheckNode(o,a.classList.contains($i),s,e.originalEvent),void this.triggerClickEvent(e.originalEvent,s)}}i.contains(Ni)?this.expandAction(s,t,e):i.contains(xi)?this.collapseNode(s,t,e):r&&l?l.classList.contains(ss)&&l.classList.contains(Ni)?this.expandAction(s,l,e):l.classList.contains(ss)&&l.classList.contains(xi)?this.collapseNode(s,l,e):i.contains(Li)||i.contains(Oi)||this.toggleSelect(s,e.originalEvent,!1):i.contains(Li)||i.contains(Oi)||this.toggleSelect(s,e.originalEvent,!1)}3===e.originalEvent.which&&(this.isRightClick=!0),this.triggerClickEvent(e.originalEvent,s)}}},t.prototype.nodeCheckedEvent=function(e,t,i){(0,n.closest)(e,"."+Oi);var s=this.getCheckEvent(e,t?"uncheck":"check",i);s.data=s.data.splice(0,s.data.length-1),this.trigger("nodeChecked",s)},t.prototype.triggerClickEvent=function(e,t){var i={event:e,node:t};this.trigger("nodeClicked",i)},t.prototype.expandNode=function(e,t,i){var s=this;if(this.renderReactTemplates(),t.classList.contains(Ti)&&this.hideSpinner(t),this.initialRender||t.classList.add("interaction"),!0!==i||!0===i&&e.classList.contains("e-expanded")){if(!0!==this.preventExpand){(0,n.removeClass)([t],Ni),(0,n.addClass)([t],xi);var r=0,l=0,o=this,a=(0,n.select)("."+Li,e),d=e;this.setHeight(d,a);var h=(0,n.select)("."+Oi+"."+Ai,e);this.isAnimate&&!this.isRefreshed?this.aniObj.animate(a,{name:this.animation.expand.effect,duration:0===this.animation.expand.duration&&"Enable"===n.animationMode?400:this.animation.expand.duration,timingFunction:this.animation.expand.easing,begin:function(t){d.style.overflow="hidden",!(0,n.isNullOrUndefined)(h)&&h instanceof HTMLElement&&h.classList.add(ls),r=d.offsetHeight,l=(0,n.select)("."+Mi,e).offsetHeight},progress:function(e){e.element.style.display="block",o.animateHeight(e,r,l)},end:function(e){e.element.style.display="block",!(0,n.isNullOrUndefined)(h)&&h instanceof HTMLElement&&h.classList.remove(ls),s.expandedNode(d,a,t)}}):this.expandedNode(d,a,t)}}else(0,n.select)("."+Li,e).style.display="none",this.fields.dataSource instanceof yi.DataManager==1&&(this.preventExpand=!1);this.initialRender&&t.classList.add("interaction")},t.prototype.expandedNode=function(e,t,i){t.style.display="block",e.style.display="block",e.style.overflow="",e.style.height="",(0,n.removeClass)([i],Pi),this.addExpand(e),this.allowTextWrap&&this.isLoaded&&this.isFirstRender&&(this.updateWrap(e),this.isFirstRender=!1),this.isLoaded&&this.expandArgs&&!this.isRefreshed&&(this.expandArgs=this.getExpandEvent(e,null),this.expandArgs.isInteracted=this.isInteracted,this.trigger("nodeExpanded",this.expandArgs))},t.prototype.addExpand=function(e){e.setAttribute("aria-expanded","true"),(0,n.removeClass)([e],Ji);var t=e.getAttribute("data-uid");(0,n.isNullOrUndefined)(t)||-1!==this.expandedNodes.indexOf(t)||this.expandedNodes.push(t)},t.prototype.collapseNode=function(e,t,i){var s,r=this;t.classList.contains(Pi)||((0,n.addClass)([t],Pi),this.isLoaded?(s=this.getExpandEvent(e,i),this.isInteracted=s.isInteracted,this.trigger("nodeCollapsing",s,(function(i){i.cancel?(0,n.removeClass)([t],Pi):r.nodeCollapseAction(e,t,i)}))):this.nodeCollapseAction(e,t,s))},t.prototype.nodeCollapseAction=function(e,t,i){var s=this;(0,n.removeClass)([t],xi),(0,n.addClass)([t],Ni);var r=0,l=0,o=this,a=(0,n.select)("."+Li,e),d=e,h=(0,n.select)("."+Oi+"."+Ai,e);this.isAnimate?this.aniObj.animate(a,{name:this.animation.collapse.effect,duration:0===this.animation.collapse.duration&&"Enable"===n.animationMode?400:this.animation.collapse.duration,timingFunction:this.animation.collapse.easing,begin:function(t){d.style.overflow="hidden",!(0,n.isNullOrUndefined)(h)&&h instanceof HTMLElement&&h.classList.add(ls),r=(0,n.select)("."+Mi,e).offsetHeight,l=d.offsetHeight},progress:function(e){o.animateHeight(e,r,l)},end:function(e){e.element.style.display="none",!(0,n.isNullOrUndefined)(h)&&h instanceof HTMLElement&&h.classList.remove(ls),s.collapsedNode(d,a,t,i)}}):this.collapsedNode(d,a,t,i)},t.prototype.collapsedNode=function(e,t,i,s){t.style.display="none",e.style.overflow="",e.style.height="",(0,n.removeClass)([i],Pi),this.removeExpand(e),this.isLoaded&&((s=this.getExpandEvent(e,null)).isInteracted=this.isInteracted,this.trigger("nodeCollapsed",s))},t.prototype.removeExpand=function(e,t){t?e.removeAttribute("aria-expanded"):this.disableExpandAttr(e);var i=this.expandedNodes.indexOf(e.getAttribute("data-uid"));i>-1&&this.expandedNodes.splice(i,1)},t.prototype.disableExpandAttr=function(e){e.setAttribute("aria-expanded","false"),(0,n.addClass)([e],Ji)},t.prototype.setHeight=function(e,t){t.style.display="block",t.style.visibility="hidden",e.style.height=e.offsetHeight+"px",t.style.display="none",t.style.visibility=""},t.prototype.animateHeight=function(e,t,i){var s=(i-t)*((e.duration-e.timeStamp)/e.duration)+t;e.element.parentElement.style.height=s+"px"},t.prototype.renderChildNodes=function(e,t,i,s){var r,l=this,o=(0,n.select)("div."+Di,e);if(!(0,n.isNullOrUndefined)(o))if(this.showSpinner(o),this.fields.dataSource instanceof yi.DataManager){var a=this.parents(e,"."+Li).length,d=this.getChildFields(this.fields,a,1);if((0,n.isNullOrUndefined)(d)||(0,n.isNullOrUndefined)(d.dataSource))return(0,n.detach)(o),void this.removeExpand(e,!0);this.treeList.push("false"),this.fields.dataSource instanceof yi.DataManager&&this.isOffline?(this.treeList.pop(),r=this.getChildNodes(this.treeData,e.getAttribute("data-uid")),this.loadChild(r,d,o,e,t,i,s)):d.dataSource.executeQuery(this.getQuery(d,e.getAttribute("data-uid"))).then((function(n){l.treeList.pop(),r=n.result,1===l.dataType&&(l.dataType=2),l.loadChild(r,d,o,e,t,i,s)})).catch((function(e){l.trigger("actionFailure",{error:e})}))}else{if(r=this.getChildNodes(this.treeData,e.getAttribute("data-uid"),!1,parseFloat(e.getAttribute("aria-level"))+1),this.currentLoadData=this.getSortedData(r),(0,n.isNullOrUndefined)(r)||0===r.length)return(0,n.detach)(o),void this.removeExpand(e,!0);this.listBaseOption.ariaAttributes.level=parseFloat(e.getAttribute("aria-level"))+1,e.appendChild(j.ListBase.createList(this.createElement,this.currentLoadData,this.listBaseOption)),this.expandNode(e,o,s),this.setSelectionForChildNodes(r),this.ensureCheckNode(e),this.finalizeNode(e),this.disableTreeNodes(r),this.renderSubChild(e,t,s)}},t.prototype.loadChild=function(e,t,i,s,r,l,o){if(this.currentLoadData=e,(0,n.isNullOrUndefined)(e)||0===e.length)(0,n.detach)(i),this.removeExpand(s,!0);else{if(this.updateListProp(t),this.fields.dataSource instanceof yi.DataManager&&!this.isOffline){var a=s.getAttribute("data-uid"),d=this.getNodeObject(a);(0,n.setValue)("child",e,d)}this.listBaseOption.ariaAttributes.level=parseFloat(s.getAttribute("aria-level"))+1,s.appendChild(j.ListBase.createList(this.createElement,e,this.listBaseOption)),this.expandNode(s,i,o),this.setSelectionForChildNodes(e),this.ensureCheckNode(s),this.finalizeNode(s),this.disableTreeNodes(e),this.renderSubChild(s,r,o)}l&&l(),r&&this.expandedNodes.push(s.getAttribute("data-uid")),0!==this.treeList.length||this.isLoaded||this.finalize()},t.prototype.disableTreeNodes=function(e){for(var t=0;t<e.length;){var i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.disableNode&&-1!==this.disableNode.indexOf(i)&&this.doDisableAction([i]),t++}},t.prototype.setSelectionForChildNodes=function(e){var t;for(t=0;t<e.length;t++){var i=e[t][this.fields.id]?e[t][this.fields.id].toString():null;void 0!==this.selectedNodes&&-1!==this.selectedNodes.indexOf(i)&&this.doSelectionAction()}},t.prototype.ensureCheckNode=function(e){this.showCheckBox&&(this.ele=this.checkedElement?this.checkedElement.indexOf(e.getAttribute("data-uid")):null,this.autoCheck&&(this.ensureChildCheckState(e),this.ensureParentCheckState(e))),this.currentLoadData=null},t.prototype.getFields=function(e,t,i){return t===i?e:this.getFields(this.getChildMapper(e),t,i+1)},t.prototype.getChildFields=function(e,t,i){return t===i?this.getChildMapper(e):this.getChildFields(this.getChildMapper(e),t,i+1)},t.prototype.getChildMapper=function(e){return"string"==typeof e.child||(0,n.isNullOrUndefined)(e.child)?e:e.child},t.prototype.getChildNodes=function(e,t,i,s){var r,l=this;if(void 0===i&&(i=!1),(0,n.isNullOrUndefined)(e))return r;if(1===this.dataType)return this.getChildGroup(this.groupedData,t,i);if("string"==typeof this.fields.child){if(-1!==(h=e.findIndex((function(e){return(0,n.getValue)(l.fields.id,e)&&(0,n.getValue)(l.fields.id,e).toString()===t}))))return(0,n.getValue)(this.fields.child,e[h]);if(-1===h)for(var o=0,a=e.length;o<a;o++){var d=(0,n.getValue)(this.fields.child,e[o]);if(-1!==(u=(0,n.isNullOrUndefined)(d)?-1:d.findIndex((function(e){return(0,n.getValue)(l.fields.id,e)&&(0,n.getValue)(l.fields.id,e).toString()===t}))))return(0,n.getValue)(this.fields.child,d[u]);if(!(0,n.isNullOrUndefined)(d)&&void 0!==(r=this.getChildNodes(d,t)))break}}else if(this.isChildObject()){var h,c=(0,n.isNullOrUndefined)(s)?this.fields.child:this.fields;for(o=1;o<s&&!(0,n.isNullOrUndefined)(c.child);)c=c.child,o++;if(this.updateListProp(c),-1!==(h=e.findIndex((function(e){return(0,n.getValue)(l.fields.id,e)&&(0,n.getValue)(l.fields.id,e).toString()===t}))))return(0,n.getValue)("child",e[h]);if(-1===h){var p=0;for(a=e.length;p<a;p++){var u;if(d=(0,n.getValue)("child",e[p]),-1!==(u=(0,n.isNullOrUndefined)(d)?-1:d.findIndex((function(e){return(0,n.getValue)(l.fields.child.id,e)&&(0,n.getValue)(l.fields.child.id,e).toString()===t}))))return(0,n.getValue)("child",d[u]);if(!(0,n.isNullOrUndefined)(d)&&void 0!==(r=this.getChildNodes(d,t,!1,s)))break}}}return r},t.prototype.getChildGroup=function(e,t,i){var s;if((0,n.isNullOrUndefined)(e))return s;for(var r=0,l=e.length;r<l;r++){if((0,n.isNullOrUndefined)(e[r][0])||(0,n.isNullOrUndefined)((0,n.getValue)(this.fields.parentID,e[r][0])))return i?e[r]:[];if((0,n.getValue)(this.fields.parentID,e[r][0]).toString()===t)return e[r]}return s},t.prototype.renderSubChild=function(e,t,i){if(t)for(var s=(0,n.selectAll)("."+Ni,e),r=0,l=s.length;r<l;r++){var o=s[r];if(e.querySelector(".e-icons")!==s[r]){var a=(0,n.closest)(o,"."+Oi);this.expandArgs=this.getExpandEvent(a,null),!0!==i&&this.trigger("nodeExpanding",this.expandArgs),this.renderChildNodes(a,t,null,i)}}},t.prototype.toggleSelect=function(e,t,i){e.classList.contains("e-disable")||(this.allowMultiSelection&&(t&&t.ctrlKey||i)&&this.isActive(e)?this.unselectNode(e,t):this.selectNode(e,t,i))},t.prototype.isActive=function(e){return!!e.classList.contains(Ai)},t.prototype.selectNode=function(e,t,i){var s,r=this;(0,n.isNullOrUndefined)(e)||!this.allowMultiSelection&&this.isActive(e)&&!(0,n.isNullOrUndefined)(t)?this.setFocusElement(e):this.isLoaded?(s=this.getSelectEvent(e,"select",t),this.trigger("nodeSelecting",s,(function(s){s.cancel||s.node.classList.contains(as)||r.nodeSelectAction(e,t,s,i)}))):this.nodeSelectAction(e,t,s,i)},t.prototype.nodeSelectAction=function(e,t,i,s){if(this.allowMultiSelection&&(s||t&&(!t||t.ctrlKey))||this.removeSelectAll(),this.allowMultiSelection&&t&&t.shiftKey){this.startNode||(this.startNode=e);var r=this.liList.indexOf(this.startNode),l=this.liList.indexOf(e);if(r>l){var o=r;r=l,l=o}for(var a=r;a<=l;a++){var d=this.liList[a];(0,n.isVisible)(d)&&!d.classList.contains("e-disable")&&this.addSelect(d)}}else this.startNode=e,this.addSelect(e);this.isLoaded&&(i.nodeData=this.getNodeData(e),this.trigger("nodeSelected",i),this.isRightClick=!1),this.isRightClick=!1},t.prototype.unselectNode=function(e,t){var i,s=this;this.isLoaded?(i=this.getSelectEvent(e,"un-select",t),this.trigger("nodeSelecting",i,(function(t){t.cancel||s.nodeUnselectAction(e,t)}))):this.nodeUnselectAction(e,i)},t.prototype.nodeUnselectAction=function(e,t){this.removeSelect(e),this.setFocusElement(e),this.isLoaded&&(t.nodeData=this.getNodeData(e),this.trigger("nodeSelected",t))},t.prototype.setFocusElement=function(e){if(!(0,n.isNullOrUndefined)(e)){var t=this.getFocusedNode();t&&((0,n.removeClass)([t],ns),t.setAttribute("tabindex","-1")),(0,n.addClass)([e],ns),e.setAttribute("tabindex","0"),n.EventHandler.add(e,"blur",this.focusOut,this),this.updateIdAttr(t,e)}},t.prototype.addSelect=function(e){e.setAttribute("aria-selected","true"),(0,n.addClass)([e],Ai);var t=e.getAttribute("data-uid");(0,n.isNullOrUndefined)(t)||-1!==this.selectedNodes.indexOf(t)||this.selectedNodes.push(t)},t.prototype.removeSelect=function(e){this.allowMultiSelection?e.setAttribute("aria-selected","false"):e.removeAttribute("aria-selected"),(0,n.removeClass)([e],Ai);var t=this.selectedNodes.indexOf(e.getAttribute("data-uid"));t>-1&&this.selectedNodes.splice(t,1)},t.prototype.removeSelectAll=function(){for(var e=this.element.querySelectorAll("."+Ai),t=0,i=e;t<i.length;t++){var s=i[t];this.allowMultiSelection?s.setAttribute("aria-selected","false"):s.removeAttribute("aria-selected")}(0,n.removeClass)(e,Ai),this.setProperties({selectedNodes:[]},!0)},t.prototype.getSelectEvent=function(e,t,i){var s=this.getNodeData(e);return{action:t,cancel:!1,isInteracted:!(0,n.isNullOrUndefined)(i),node:e,nodeData:s}},t.prototype.setExpandOnType=function(){this.expandOnType="Auto"===this.expandOn?n.Browser.isDevice?"Click":"DblClick":this.expandOn},t.prototype.expandHandler=function(e){var t=e.originalEvent.target;!t||t.classList.contains(Hi)||t.classList.contains(Ii)||t.classList.contains(Li)||t.classList.contains(Oi)||t.classList.contains(Di)||this.showCheckBox&&(0,n.closest)(t,"."+ts)||this.expandCollapseAction((0,n.closest)(t,"."+Oi),e)},t.prototype.expandCollapseAction=function(e,t){var i=(0,n.select)("div."+Di,e);if(i&&!i.classList.contains(Pi)){var s=i.classList;s.contains(Ni)?this.expandAction(e,i,t):s.contains(xi)&&this.collapseNode(e,i,t)}},t.prototype.expandAction=function(e,t,i,s,r){var l=this;t.classList.contains(Pi)||((0,n.addClass)([t],Pi),this.isLoaded&&!this.isRefreshed?(this.expandArgs=this.getExpandEvent(e,i),this.isInteracted=this.expandArgs.isInteracted,this.trigger("nodeExpanding",this.expandArgs,(function(i){i.cancel?(0,n.removeClass)([t],Pi):l.nodeExpandAction(e,t,s,r)}))):this.nodeExpandAction(e,t,s,r))},t.prototype.nodeExpandAction=function(e,t,i,s){var r=(0,n.select)("."+Li,e);if(r&&"UL"===r.nodeName)this.expandNode(e,t);else{this.isFirstRender=!0,this.renderChildNodes(e,i,s);for(var l=(0,n.selectAll)("."+Oi,e),o=0;o<l.length;o++){var a=this.getId(l[o]);if(-1!==this.expandChildren.indexOf(a)&&void 0!==this.expandChildren){var d=(0,n.select)("."+Ni,(0,n.select)("."+Mi,l[o]));(0,n.isNullOrUndefined)(d)||this.expandAction(l[o],d,null),this.expandChildren.splice(this.expandChildren.indexOf(a),1)}}}},t.prototype.keyActionHandler=function(e){var t=this,i=e.target,s=this.getFocusedNode();if(i&&i.classList.contains(Hi)){var r=i;"enter"===e.action?r.blur():"escape"===e.action&&(r.value=this.oldText,r.blur())}else{e.preventDefault();var l={cancel:!1,event:e,node:s};this.trigger("keyPress",l,(function(i){if(!i.cancel)switch(e.action){case"space":t.showCheckBox?t.checkNode(e):t.toggleSelect(s,e);break;case"moveRight":t.openNode(!t.enableRtl,e);break;case"moveLeft":t.openNode(!!t.enableRtl,e);break;case"shiftDown":t.shiftKeySelect(!0,e);break;case"moveDown":case"ctrlDown":case"csDown":t.navigateNode(!0);break;case"shiftUp":t.shiftKeySelect(!1,e);break;case"moveUp":case"ctrlUp":case"csUp":t.navigateNode(!1);break;case"home":case"shiftHome":case"ctrlHome":case"csHome":t.navigateRootNode(!0);break;case"end":case"shiftEnd":case"ctrlEnd":case"csEnd":t.navigateRootNode(!1);break;case"enter":case"ctrlEnter":case"shiftEnter":case"csEnter":case"shiftSpace":case"ctrlSpace":t.toggleSelect(s,e);break;case"f2":t.allowEditing&&!s.classList.contains("e-disable")&&t.createTextbox(s,e);break;case"ctrlA":if(t.allowMultiSelection){var r=(0,n.selectAll)("."+Oi+":not(."+Ai+")",t.element);t.selectGivenNodes(r)}}}))}},t.prototype.navigateToFocus=function(e){var t=this.getFocusedNode().querySelector("."+Mi),i=t.getBoundingClientRect(),s=this.getScrollParent(this.element);if(!(0,n.isNullOrUndefined)(s)){var r=s.getBoundingClientRect();i.bottom>r.bottom?s.scrollTop+=i.bottom-r.bottom:i.top<r.top&&(s.scrollTop-=r.top-i.top)}this.isVisibleInViewport(t)||t.scrollIntoView(e)},t.prototype.isVisibleInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},t.prototype.getScrollParent=function(e){return(0,n.isNullOrUndefined)(e)?null:e.scrollHeight>e.clientHeight?e:this.getScrollParent(e.parentElement)},t.prototype.shiftKeySelect=function(e,t){if(this.allowMultiSelection){var i=this.getFocusedNode(),s=e?this.getNextNode(i):this.getPrevNode(i);this.removeHover(),this.setFocusElement(s),this.toggleSelect(s,t,!1),this.navigateToFocus(!e)}else this.navigateNode(e)},t.prototype.checkNode=function(e){var t=this.getFocusedNode(),i=(0,n.select)("."+ts,t),s=(0,n.select)(" ."+is,i).classList.contains($i);t.classList.contains("e-disable")||0==t.getElementsByClassName("e-checkbox-disabled").length&&this.validateCheckNode(i,s,t,e)},t.prototype.validateCheckNode=function(e,t,i,s){var r=this,l=(0,n.closest)(e,"."+Oi);this.checkActionNodes=[];var o=t?"false":"true";(0,n.isNullOrUndefined)(o)||e.setAttribute("aria-checked",o);var a=this.getCheckEvent(l,t?"uncheck":"check",s);this.trigger("nodeChecking",a,(function(n){n.cancel||r.nodeCheckingAction(e,t,i,n,s)}))},t.prototype.nodeCheckingAction=function(e,t,i,s,r){if(-1===this.checkedElement.indexOf(i.getAttribute("data-uid"))&&(this.checkedElement.push(i.getAttribute("data-uid")),this.autoCheck)){var l=this.getChildNodes(this.treeData,i.getAttribute("data-uid"));null!==l?this.allCheckNode(l,this.checkedElement,null,null,!1):l=null}if(this.changeState(e,t?"uncheck":"check",r,!0),this.autoCheck){this.ensureChildCheckState(i),this.ensureParentCheckState((0,n.closest)((0,n.closest)(i,"."+Li),"."+Oi));var o=void 0;"check"===s.action?o=!0:"uncheck"===s.action&&(o=!1),this.ensureStateChange(i,o)}this.nodeCheckedEvent(e,t,r)},t.prototype.ensureStateChange=function(e,t){var i=(0,n.select)("."+Li,e),s=e.getAttribute("data-uid"),r=this.fields;if(1===this.dataType&&this.autoCheck)for(var l=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(r.parentID,"equal",s,!0)),o=0;o<l.length;o++){var a=l[o][this.fields.id]?l[o][this.fields.id].toString():null,d=l[o][this.fields.isChecked]?l[o][this.fields.isChecked].toString():null;if(-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(a)){this.checkedNodes.push(a);var h=this.getChildNodes(this.treeData,a);this.getChildItems(h,t),-1!==this.parentNodeCheck.indexOf(a)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1)}else if(-1===this.checkedNodes.indexOf(s)&&null===i&&-1!==this.checkedNodes.indexOf(a)){if(this.checkedNodes.splice(this.checkedNodes.indexOf(a),1),"true"===d&&this.updateField(this.treeData,this.fields,a,"isChecked",null),-1===this.checkedNodes.indexOf(s)&&null===i||-1!==this.parentNodeCheck.indexOf(a)){var c=this.getChildNodes(this.treeData,a);this.getChildItems(c,t),-1!==this.parentNodeCheck.indexOf(a)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(a),1)}}else h=this.getChildNodes(this.treeData,a),this.getChildItems(h,t)}else if(1!==this.dataType||this.autoCheck)(h=this.getChildNodes(this.treeData,s))&&this.childStateChange(h,s,i,t);else if(t)for(o=0;o<this.treeData.length;o++){var p=this.treeData[o][this.fields.id]?this.treeData[o][this.fields.id].toString():null;-1===this.checkedNodes.indexOf(p)&&this.checkedNodes.push(p)}else{var u=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(r.isChecked,"equal",!0,!1));for(o=0;o<u.length;o++){var f=u[o][this.fields.id]?u[o][this.fields.id].toString():null;-1!==this.checkedNodes.indexOf(f)&&this.checkedNodes.splice(this.checkedNodes.indexOf(f),1),this.updateField(this.treeData,this.fields,f,"isChecked",null)}this.checkedNodes=[]}},t.prototype.getChildItems=function(e,t){for(var i=0;i<e.length;i++){var s=e[i][this.fields.id]?e[i][this.fields.id].toString():null,n=e[i][this.fields.isChecked]?e[i][this.fields.isChecked].toString():null;-1===this.checkedNodes.indexOf(s)||t||this.checkedNodes.splice(this.checkedNodes.indexOf(s),1),-1===this.checkedNodes.indexOf(s)&&t&&this.checkedNodes.push(s),"true"!==n||t||this.updateField(this.treeData,this.fields,s,"isChecked",null);var r=this.getChildNodes(this.treeData,s);r.length>0&&this.getChildItems(r,t)}},t.prototype.childStateChange=function(e,t,i,s){for(var n=0;n<e.length;n++){var r=e[n][this.fields.id]?e[n][this.fields.id].toString():"",l=e[n][this.fields.isChecked]?e[n][this.fields.isChecked].toString():null;this.autoCheck?-1!==this.checkedNodes.indexOf(t)&&-1===this.checkedNodes.indexOf(r)?(this.checkedNodes.push(r),-1!==this.parentNodeCheck.indexOf(r)&&this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(r),1)):-1!==this.checkedNodes.indexOf(t)||-1===this.checkedNodes.indexOf(r)||s||(this.checkedNodes.splice(this.checkedNodes.indexOf(r),1),"true"===l&&this.updateField(this.treeData,this.fields,r,"isChecked",null)):this.autoCheck||(s?-1===this.checkedNodes.indexOf(r)&&this.checkedNodes.push(r):(-1!==this.checkedNodes.indexOf(r)&&this.checkedNodes.splice(this.checkedNodes.indexOf(r),1),this.updateField(this.treeData,this.fields,r,"isChecked",null),this.checkedNodes=[]));var o=this.getChildNodes([e[n]],r);o&&this.childStateChange(o,t,i,s)}},t.prototype.allCheckNode=function(e,t,i,s,r){if(e)for(var l=0;l<e.length;l++){var o=(0,n.getValue)(this.fields.id,e[l]),a=this.element.querySelector('[data-uid="'+o+'"]');!1!==r&&-1===this.checkedElement.indexOf(o.toString())&&(null===a&&!(0,n.isNullOrUndefined)(e[l][this.fields.isChecked])&&-1===t.indexOf(o.toString())||0===s||2===i)&&(!1!==e[l][this.fields.isChecked]||2===i?t.push(o.toString()):s=null,s=!1!==e[l][this.fields.isChecked]||2===i?0:null),-1===t.indexOf(o.toString())&&(0,n.isNullOrUndefined)(i)&&t.push(o.toString());var d=(0,n.getValue)(this.fields.child.toString(),e[l]);if(!0===(0,n.getValue)(this.fields.hasChildren,e[l])||d){var h,c=(0,n.getValue)(this.fields.id,e[l]);(h=1===this.dataType?this.getChildNodes(this.treeData,c.toString()):d)&&((0,n.isNullOrUndefined)(r)?this.allCheckNode(h,t,i,s):this.allCheckNode(h,t,i,s,r),s=null)}s=null}},t.prototype.openNode=function(e,t){var i=this.getFocusedNode(),s=(0,n.select)("div."+Di,i);if(e){if(!s)return;s.classList.contains(Ni)?this.expandAction(i,s,t):this.focusNextNode(i,!0)}else if(s&&s.classList.contains(xi))this.collapseNode(i,s,t);else{var r=(0,n.closest)((0,n.closest)(i,"."+Li),"."+Oi);if(!r)return;r.classList.contains("e-disable")||(this.setFocus(i,r),this.navigateToFocus(!0))}},t.prototype.navigateNode=function(e){var t=this.getFocusedNode();this.focusNextNode(t,e)},t.prototype.navigateRootNode=function(e){var t=this.getFocusedNode(),i=e?this.getRootNode():this.getEndNode();i.classList.contains("e-disable")||(this.setFocus(t,i),this.navigateToFocus(e))},t.prototype.getFocusedNode=function(){var e,t=(0,n.select)("."+Oi+'[tabindex="0"]',this.element);return(0,n.isNullOrUndefined)(t)&&(e=(0,n.select)("."+Oi,this.element)),(0,n.isNullOrUndefined)(t)?(0,n.isNullOrUndefined)(e)?this.element.firstElementChild:e:t},t.prototype.focusNextNode=function(e,t){var i=t?this.getNextNode(e):this.getPrevNode(e);if(this.setFocus(e,i),this.navigateToFocus(!t),i.classList.contains("e-disable")){var s=i.lastChild;null==i.previousSibling&&i.classList.contains("e-level-1")?this.focusNextNode(i,!0):null==i.nextSibling&&i.classList.contains("e-node-collapsed")||null==i.nextSibling&&s.classList.contains(Mi)?this.focusNextNode(i,!1):this.focusNextNode(i,t)}},t.prototype.getNextNode=function(e){var t,i=this.liList.indexOf(e);do{if(i++,t=this.liList[i],(0,n.isNullOrUndefined)(t))return e}while(!(0,n.isVisible)(t));return t},t.prototype.getPrevNode=function(e){var t,i=this.liList.indexOf(e);do{if(i--,t=this.liList[i],(0,n.isNullOrUndefined)(t))return e}while(!(0,n.isVisible)(t));return t},t.prototype.getRootNode=function(){var e,t=0;do{e=this.liList[t],t++}while(!(0,n.isVisible)(e));return e},t.prototype.getEndNode=function(){var e,t=this.liList.length-1;do{e=this.liList[t],t--}while(!(0,n.isVisible)(e));return e},t.prototype.setFocus=function(e,t){(0,n.removeClass)([e],ns),e.setAttribute("tabindex","-1"),t.classList.contains("e-disable")||t.classList.contains(as)||((0,n.addClass)([t],ns),t.setAttribute("tabindex","0"),t.focus(),n.EventHandler.add(t,"blur",this.focusOut,this),this.updateIdAttr(e,t))},t.prototype.updateIdAttr=function(e,t){this.element.removeAttribute("aria-activedescendant"),e&&e.removeAttribute("id"),t.setAttribute("id",this.element.id+"_active"),this.element.setAttribute("aria-activedescendant",this.element.id+"_active")},t.prototype.focusIn=function(){if(!this.mouseDownStatus){var e=this.getFocusedNode();e.setAttribute("tabindex","0"),(0,n.addClass)([e],ns),n.EventHandler.add(e,"blur",this.focusOut,this)}this.mouseDownStatus=!1},t.prototype.focusOut=function(e){var t=this.getFocusedNode();e.target==t&&((0,n.removeClass)([t],ns),n.EventHandler.remove(t,"blur",this.focusOut))},t.prototype.onMouseOver=function(e){var t=e.target,i=t.classList,s=(0,n.closest)(t,"."+Oi);!s||i.contains(Li)||i.contains(Oi)?this.removeHover():s&&!s.classList.contains("e-disable")&&this.setHover(s)},t.prototype.setHover=function(e){e.classList.contains(ki)||e.classList.contains(as)||(this.removeHover(),(0,n.addClass)([e],ki))},t.prototype.onMouseLeave=function(e){this.removeHover()},t.prototype.removeHover=function(){var e=(0,n.selectAll)("."+ki,this.element);e&&e.length&&(0,n.removeClass)(e,ki)},t.prototype.getNodeData=function(e,t){if(!(0,n.isNullOrUndefined)(e)&&e.classList.contains(Oi)&&!(0,n.isNullOrUndefined)((0,n.closest)(e,"."+Ei))&&(0,n.closest)(e,"."+Ei).classList.contains(Ii)){var i=e.getAttribute("data-uid"),s=this.getText(e,t),r=(0,n.closest)(e.parentNode,"."+Oi),l=r?r.getAttribute("data-uid"):null,o=e.classList.contains(Ai),a=!e.classList.contains(as),d="true"===e.getAttribute("aria-expanded"),h=null!==e.getAttribute("aria-expanded")||null!=((0,n.select)("."+Ni,e)||(0,n.select)("."+xi,e)),c=null,p=(0,n.select)("."+ts,e);return this.showCheckBox&&p&&(c=p.getAttribute("aria-checked")),{id:i,text:s,parentID:l,selected:o,selectable:a,expanded:d,isChecked:c,hasChildren:h}}return{id:"",text:"",parentID:"",selected:!1,expanded:!1,isChecked:"",hasChildren:!1}},t.prototype.getText=function(e,t){if(t){var i=this.getNodeObject(e.getAttribute("data-uid")),s=parseFloat(e.getAttribute("aria-level")),r=this.getFields(this.fields,s,1);return(0,n.getValue)(r.text,i)}return(0,n.select)("."+wi,e).textContent},t.prototype.getExpandEvent=function(e,t){var i=this.getNodeData(e);return{cancel:!1,isInteracted:!(0,n.isNullOrUndefined)(t),node:e,nodeData:i,event:t}},t.prototype.renderNodeTemplate=function(e,t,i){var s=this.nodeTemplateFn(e,this,"nodeTemplate"+i,this.element.id+"nodeTemplate",this.isStringTemplate,void 0,t,this.root);s&&(s=Array.prototype.slice.call(s),(0,n.append)(s,t))},t.prototype.destroyTemplate=function(e){this.clearTemplate(["nodeTemplate"+e.getAttribute("data-uid")])},t.prototype.reRenderNodes=function(){this.updateListProp(this.fields),n.Browser.isIE?(this.ulElement=this.element.querySelector(".e-list-parent.e-ul"),this.ulElement.parentElement.removeChild(this.ulElement)):this.element.innerHTML="",(0,n.isNullOrUndefined)(this.nodeTemplateFn)||this.clearTemplate(),this.setTouchClass(),this.setProperties({selectedNodes:[],checkedNodes:[],expandedNodes:[]},!0),this.checkedElement=[],this.isLoaded=!1,this.setDataBinding(!0)},t.prototype.setCssClass=function(e,t){(0,n.isNullOrUndefined)(e)||""===e||(0,n.removeClass)([this.element],e.split(" ")),(0,n.isNullOrUndefined)(t)||""===t||(0,n.addClass)([this.element],t.split(" "))},t.prototype.editingHandler=function(e){var t=e.target;if(!(!t||t.classList.contains(Ii)||t.classList.contains(Li)||t.classList.contains(Oi)||t.classList.contains(Di)||t.classList.contains(Hi)||t.classList.contains(Ui))){var i=(0,n.closest)(t,"."+Oi);this.createTextbox(i,e)}},t.prototype.createTextbox=function(e,t){var i=this,s=(0,n.select)("."+Ri,this.element);s&&s.blur();var r=(0,n.select)("."+wi,e);this.updateOldText(e);var l=this.createElement("input",{className:Ri,attrs:{value:this.oldText}}),o=this.getEditEvent(e,null,l.outerHTML);this.trigger("nodeEditing",o,(function(t){if(!t.cancel){var s="width:"+(r.offsetWidth+5)+"px";(0,n.addClass)([e],Bi),(0,n.isNullOrUndefined)(i.nodeTemplateFn)||i.destroyTemplate(e),i.isReact?setTimeout((function(){i.renderTextBox(o,r,s)}),5):i.renderTextBox(o,r,s)}}))},t.prototype.renderTextBox=function(e,t,i){t.innerHTML=e.innerHtml;var s=(0,n.select)("."+Ri,t);this.inputObj=bi.Input.createInput({element:s,properties:{enableRtl:this.enableRtl}},this.createElement),this.inputObj.container.setAttribute("style",i),s.focus();var r=s;r.setSelectionRange(0,r.value.length),this.wireInputEvents(s)},t.prototype.updateOldText=function(e){var t=e.getAttribute("data-uid");this.editData=this.getNodeObject(t);var i=parseFloat(e.getAttribute("aria-level"));this.editFields=this.getFields(this.fields,i,1),this.oldText=(0,n.getValue)(this.editFields.text,this.editData)},t.prototype.inputFocusOut=function(e){if((0,n.select)("."+Ri,this.element)){var t=e.target,i=t.value,s=(0,n.closest)(t,"."+wi),r=(0,n.closest)(t,"."+Oi);(0,n.detach)(this.inputObj.container),this.fields.dataSource instanceof yi.DataManager&&!this.isOffline?this.crudOperation("update",null,r,i,null,null,!0):this.appendNewText(r,s,i,!0)}},t.prototype.appendNewText=function(e,t,i,s){var n=this,r=this.getEditEvent(e,i,null);this.trigger("nodeEdited",r,(function(r){i=r.cancel?r.oldText:r.newText,n.updateText(e,t,i,s),r.oldText!==i&&n.triggerEvent("nodeEdited",[n.getNode(e)])}))},t.prototype.updateText=function(e,t,i,s){var r=(0,n.setValue)(this.editFields.text,i,this.editData);if((0,n.isNullOrUndefined)(this.nodeTemplateFn))this.enableHtmlSanitizer?t.innerText=n.SanitizeHtmlHelper.sanitize(i):t.innerHTML=i;else{t.innerText="";var l=e.getAttribute("data-uid");this.renderNodeTemplate(r,t,l),this.renderReactTemplates()}s&&((0,n.removeClass)([e],Bi),e.focus(),n.EventHandler.add(e,"blur",this.focusOut,this),(0,n.addClass)([e],ns)),this.allowTextWrap&&this.calculateWrap(e)},t.prototype.getElement=function(e){return(0,n.isNullOrUndefined)(e)?null:"string"==typeof e?this.element.querySelector('[data-uid="'+e+'"]'):"object"==typeof e?(0,n.getElement)(e):null},t.prototype.getId=function(e){return(0,n.isNullOrUndefined)(e)?null:"string"==typeof e?e:"object"==typeof e?(0,n.getElement)(e).getAttribute("data-uid"):null},t.prototype.getEditEvent=function(e,t,i){return{cancel:!1,newText:t,node:e,nodeData:this.getNodeData(e),oldText:this.oldText,innerHtml:i}},t.prototype.getNodeObject=function(e){var t;if((0,n.isNullOrUndefined)(e))return t;if(1!==this.dataType)return this.getChildNodeObject(this.treeData,this.fields,e);for(var i=0,s=this.treeData.length;i<s;i++){var r=(0,n.getValue)(this.fields.id,this.treeData[i]);if(!(0,n.isNullOrUndefined)(this.treeData[i])&&!(0,n.isNullOrUndefined)(r)&&r.toString()===e)return this.treeData[i]}return t},t.prototype.getChildNodeObject=function(e,t,i){var s;if((0,n.isNullOrUndefined)(e))return s;for(var r=0,l=e.length;r<l;r++){var o=(0,n.getValue)(t.id,e[r]);if(e[r]&&o&&o.toString()===i)return e[r];if("string"!=typeof t.child||(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[r]))){if(this.fields.dataSource instanceof yi.DataManager&&!(0,n.isNullOrUndefined)((0,n.getValue)("child",e[r]))){if(void 0!==(s=this.getChildNodeObject((0,n.getValue)("child",e[r]),this.getChildMapper(t),i)))break}else if(this.isChildObject()&&(a=(0,n.getValue)("child",e[r]),void 0!==(s=this.getChildNodeObject(a,this.getChildMapper(t),i))))break}else{var a=(0,n.getValue)(t.child,e[r]);if(void 0!==(s=this.getChildNodeObject(a,this.getChildMapper(t),i)))break}}return s},t.prototype.setDragAndDrop=function(e){e&&!this.disabled?this.initializeDrag():this.destroyDrag()},t.prototype.initializeDrag=function(){var e,t=this,i=this;this.dragObj=new n.Draggable(this.element,{enableTailMode:!0,enableAutoScroll:!0,dragArea:this.dragArea,dragTarget:"."+Mi,enableTapHold:!0,tapHoldThreshold:100,helper:function(s){t.dragTarget=s.sender.target;var r=(0,n.closest)(t.dragTarget,"."+Ii),l=(0,n.closest)(t.dragTarget,"."+Mi);if(t.dragLi=(0,n.closest)(t.dragTarget,"."+Oi),t.fullRowSelect&&!l&&t.dragTarget.classList.contains(Yi)&&(l=t.dragTarget.nextElementSibling),!t.dragTarget||!s.element.isSameNode(r)||!l||t.dragTarget.classList.contains(Ii)||t.dragTarget.classList.contains(Li)||t.dragTarget.classList.contains(Oi)||t.dragLi.classList.contains("e-disable"))return!1;var o=l.cloneNode(!0);if((0,n.isNullOrUndefined)((0,n.select)("div."+Di,o))){var a=i.createElement("div",{className:Di+" "+Ni});o.insertBefore(a,o.children[0])}var d="e-drag-item "+Ii+" "+t.cssClass+" "+(t.enableRtl?ji:"");(e=i.createElement("div",{className:d})).appendChild(o);var h=t.selectedNodes.length;if(h>1&&t.allowMultiSelection&&t.dragLi.classList.contains(Ai)){var c=i.createElement("span",{className:"e-drop-count",innerHTML:""+h});e.appendChild(c)}return document.body.appendChild(e),document.body.style.cursor="",t.dragData=t.getNodeData(t.dragLi),e},dragStart:function(i){(0,n.addClass)([t.element],Fi);var s,r=(0,n.closest)(i.target,".e-list-item");r&&(s=parseInt(r.getAttribute("aria-level"),10));var l=t.getDragEvent(i.event,t,null,i.target,null,e,s);l.draggedNode.classList.contains(Bi)?(t.dragObj.intDestroy(i.event),t.dragCancelAction(e)):t.trigger("nodeDragStart",l,(function(s){s.cancel?(t.dragObj.intDestroy(i.event),t.dragCancelAction(e)):t.dragStartAction=!0}))},drag:function(i){t.dragObj.setProperties({cursorAt:{top:!(0,n.isNullOrUndefined)(i.event.targetTouches)||n.Browser.isDevice?60:-20}}),t.dragAction(i,e)},dragStop:function(e){(0,n.removeClass)([t.element],Fi),t.removeVirtualEle();var i=e.target,s=(0,n.closest)(i,"."+Wi);i&&s||((0,n.detach)(e.helper),document.body.style.cursor="");var r,l=(0,n.closest)(i,".e-list-item");l&&(r=parseInt(l.getAttribute("aria-level"),10));var o=t.getDragEvent(e.event,t,i,i,null,e.helper,r);o.preventTargetExpand=!1,t.trigger("nodeDragStop",o,(function(i){t.dragParent=i.draggedParentNode,t.preventExpand=i.preventTargetExpand,i.cancel&&(e.helper.parentNode&&(0,n.detach)(e.helper),document.body.style.cursor=""),t.dragStartAction=!1}))}}),this.dropObj=new n.Droppable(this.element,{out:function(e){!(0,n.isNullOrUndefined)(e)&&!e.target.classList.contains(Vi)&&t.dropObj.dragData.default&&t.dropObj.dragData.default.helper.classList.contains(Ii)&&(document.body.style.cursor="not-allowed")},over:function(e){document.body.style.cursor=""},drop:function(e){t.dropAction(e)}})},t.prototype.dragCancelAction=function(e){(0,n.detach)(e),(0,n.removeClass)([this.element],Fi),this.dragStartAction=!1},t.prototype.dragAction=function(e,t){var i=(0,n.closest)(e.target,"."+Wi),s=(0,n.closest)(e.target,"."+Mi),r=(0,n.select)("div."+Di,t);(0,n.removeClass)([r],[_i,zi,Xi,Ki]),this.removeVirtualEle(),document.body.style.cursor="";var l=e.target.classList;if(this.fullRowSelect&&!s&&!(0,n.isNullOrUndefined)(l)&&l.contains(Yi)&&(s=e.target.nextElementSibling),i){var o=(0,n.closest)(e.target,"."+Oi),a=(0,n.closest)(e.target,"."+ts),d=(0,n.closest)(e.target,"."+xi),h=(0,n.closest)(e.target,"."+Ni);if(!i.classList.contains(Ii)||s&&!o.isSameNode(this.dragLi)&&!this.isDescendant(this.dragLi,o))if(this.hasTemplate&&o){var c=(0,n.select)(this.fullRowSelect?"."+Yi:"."+Mi,o);if(e&&!h&&!d&&e.event.offsetY<7&&!a||h&&e.event.offsetY<5||d&&e.event.offsetX<3){var p=this.fullRowSelect?1:0;this.appendIndicator(o,r,p)}else e&&!h&&!d&&!a&&c&&e.event.offsetY>c.offsetHeight-10||h&&e.event.offsetY>19||d&&e.event.offsetX>19?(p=this.fullRowSelect?2:1,this.appendIndicator(o,r,p)):(0,n.addClass)([r],_i)}else o&&e&&!h&&!d&&e.event.offsetY<7&&!a||h&&e.event.offsetY<5||d&&e.event.offsetX<3?(p=this.fullRowSelect?1:0,this.appendIndicator(o,r,p)):o&&e&&!h&&!d&&e.target.offsetHeight>0&&e.event.offsetY>e.target.offsetHeight-10&&!a||h&&e.event.offsetY>19||d&&e.event.offsetX>19?(p=this.fullRowSelect?2:1,this.appendIndicator(o,r,p)):(0,n.addClass)([r],_i);else"LI"!==e.target.nodeName||o.isSameNode(this.dragLi)||this.isDescendant(this.dragLi,o)?e.target.classList.contains(Vi)?(0,n.addClass)([r],zi):(0,n.addClass)([r],Xi):((0,n.addClass)([r],zi),this.renderVirtualEle(e))}else(0,n.addClass)([r],Ki),document.body.style.cursor="not-allowed";var u,f=(0,n.closest)(e.target,".e-list-item");f&&(u=parseInt(f.getAttribute("aria-level"),10));var m=this.getDragEvent(e.event,this,e.target,e.target,null,t,u);m.dropIndicator&&(0,n.removeClass)([r],m.dropIndicator),this.trigger("nodeDragging",m),m.dropIndicator&&(0,n.addClass)([r],m.dropIndicator)},t.prototype.appendIndicator=function(e,t,i){(0,n.addClass)([t],zi);var s=this.createElement("div",{className:Vi});e.insertBefore(s,e.children[i])},t.prototype.dropAction=function(e){var t,s,r,l=e.event.offsetY,o=e.target,a=!1,d=[],h=[];r=e.dragData.draggable;for(var c=0;c<r.ej2_instances.length;c++)if(r.ej2_instances[c]instanceof i){t=r.ej2_instances[c];break}if(t&&t.dragTarget){var p=t.dragTarget,u=(0,n.closest)(p,"."+Oi),f=(0,n.closest)(o,"."+Oi);if(h.push(u),null==f&&o.classList.contains(Ii)&&(f=o.firstElementChild),(0,n.detach)(e.droppedElement),document.body.style.cursor="",!f||f.isSameNode(u)||this.isDescendant(u,f))return void(this.fields.dataSource instanceof yi.DataManager==0&&(this.preventExpand=!1));if(t.allowMultiSelection&&u.classList.contains(Ai)){var m=(0,n.selectAll)("."+Ai,t.element);if(h=m,e.target.offsetHeight<=33&&l>e.target.offsetHeight-10&&l>6)for(var v=m.length-1;v>=0;v--)f.isSameNode(m[v])||this.isDescendant(m[v],f)||this.appendNode(o,m[v],f,e,t,l);else for(var g=0;g<m.length;g++)f.isSameNode(m[g])||this.isDescendant(m[g],f)||this.appendNode(o,m[g],f,e,t,l)}else this.appendNode(o,u,f,e,t,l);s=parseInt(u.getAttribute("aria-level"),10),a=!0}this.fields.dataSource instanceof yi.DataManager==0&&(this.preventExpand=!1);for(var y=0;y<h.length;y++)d.push(this.getNode(h[y]));this.trigger("nodeDropped",this.getDragEvent(e.event,t,o,e.target,e.dragData.draggedElement,null,s,a)),t.element.id!==this.element.id&&(t.triggerEvent("nodeDropped",d),this.isNodeDropped=!0,this.fields.dataSource=this.treeData),this.triggerEvent("nodeDropped",d)},t.prototype.appendNode=function(e,t,i,s,r,l){var o=(0,n.closest)(e,"."+ts),a=(0,n.closest)(s.target,"."+xi),d=(0,n.closest)(s.target,"."+Ni);t.classList.contains("e-disable")||o||!(d&&s.event.offsetY<5||a&&s.event.offsetX<3||d&&s.event.offsetY>19||a&&s.event.offsetX>19||!d&&!a)?this.dropAsChildNode(t,i,r,null,s,l,!0):"LI"===e.nodeName?this.dropAsSiblingNode(t,i,s,r):e.firstElementChild&&e.classList.contains(Ii)?"UL"===e.firstElementChild.nodeName&&this.dropAsSiblingNode(t,i,s,r):e.classList.contains("e-icon-collapsible")||e.classList.contains("e-icon-expandable")?this.dropAsSiblingNode(t,i,s,r):this.dropAsChildNode(t,i,r,null,s,l),this.showCheckBox&&this.ensureIndeterminate()},t.prototype.dropAsSiblingNode=function(e,t,i,s){var r,l=(0,n.closest)(t,"."+Li),o=(0,n.closest)(e,"."+Li),a=(0,n.closest)(o,"."+Oi);if(i.target.offsetHeight>0&&i.event.offsetY>i.target.offsetHeight-2?r=!1:i.event.offsetY<2?r=!0:(i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible"))&&(i.event.offsetY<5||i.event.offsetX<3?r=!0:(i.event.offsetY>15||i.event.offsetX>17)&&(r=!1)),i.target.classList.contains("e-icon-expandable")||i.target.classList.contains("e-icon-collapsible")){var d=i.target.closest("li");l.insertBefore(e,r?d:d.nextElementSibling)}else l.insertBefore(e,r?i.target:i.target.nextElementSibling);this.moveData(e,t,l,r,s),this.updateElement(o,a),this.updateAriaLevel(e),s.element.id===this.element.id?this.updateList():(s.updateInstance(),this.updateInstance())},t.prototype.dropAsChildNode=function(e,t,i,s,r,l,o){var a,d=(0,n.closest)(e,"."+Li),h=(0,n.closest)(d,"."+Oi),c=(0,n.closest)(t,"."+Li);if(r&&r.target&&(a=(0,n.select)(this.fullRowSelect?"."+Yi:"."+Mi,t)),r&&l<7&&!o)c.insertBefore(e,t),this.moveData(e,t,c,!0,i);else if(r&&r.target.offsetHeight>0&&l>r.target.offsetHeight-10&&!o&&!this.hasTemplate)c.insertBefore(e,t.nextElementSibling),this.moveData(e,t,c,!1,i);else if(this.hasTemplate&&a&&l>a.offsetHeight-10&&!o)c.insertBefore(e,t.nextElementSibling),this.moveData(e,t,c,!1,i);else{var p=this.expandParent(t),u=p.childNodes[s];p.insertBefore(e,u),this.moveData(e,u,p,!0,i)}this.updateElement(d,h),this.updateAriaLevel(e),i.element.id===this.element.id?this.updateList():(i.updateInstance(),this.updateInstance())},t.prototype.moveData=function(e,t,i,s,r){var l=(0,n.closest)(i,"."+Oi),o=this.getId(e),a=r.updateChildField(r.treeData,r.fields,o,null,null,!0),d=this.getId(t),h=this.getDataPos(this.treeData,this.fields,d),c=this.getId(l);if(1===this.dataType){this.updateField(this.treeData,this.fields,c,"hasChildren",!0);var p=(0,n.isNullOrUndefined)(h)?this.treeData.length:s?h:h+1;if((0,n.isNullOrUndefined)(c)&&!this.hasPid)delete a[0][this.fields.parentID];else{var u=this.isNumberTypeId?parseFloat(c):c;(0,n.setValue)(this.fields.parentID,u,a[0])}if(this.treeData.splice(p,0,a[0]),r.element.id!==this.element.id){var f=r.removeChildNodes(o);p++;for(var m=0,v=f.length;m<v;m++)this.treeData.splice(p,0,f[m]),p++;r.groupedData=r.getGroupedData(r.treeData,r.fields.parentID)}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.addChildData(this.treeData,this.fields,c,a,s?h:h+1)},t.prototype.expandParent=function(e){var t=(0,n.select)("div."+Di,e);t&&t.classList.contains(Ni)&&!0!==this.preventExpand&&this.expandAction(e,t,null);var i=(0,n.select)("."+Li,e);if(!0===this.preventExpand&&!i&&t&&this.renderChildNodes(e),i=(0,n.select)("."+Li,e),(0,n.isNullOrUndefined)(i)||!0!==this.preventExpand||(i.style.display="none"),(0,n.isNullOrUndefined)(i)||!1!==this.preventExpand||(i.style.display="block"),(0,n.isNullOrUndefined)(i)&&!0===this.preventExpand&&((0,n.isNullOrUndefined)(t)&&j.ListBase.generateIcon(this.createElement,e,Ni,this.listBaseOption),(s=(0,n.select)("div."+Di,e))&&s.classList.add("e-icon-expandable"),i=j.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),s?(0,n.removeClass)([s],xi):j.ListBase.generateIcon(this.createElement,e,Ni,this.listBaseOption),e.setAttribute("aria-expanded","false"),i.style.display="none"),(0,n.isNullOrUndefined)(i)){var s,r=this.expandArgs;((0,n.isNullOrUndefined)(r)||"nodeExpanding"!=r.name)&&this.trigger("nodeExpanding",this.getExpandEvent(e,null)),(0,n.isNullOrUndefined)(t)&&j.ListBase.generateIcon(this.createElement,e,xi,this.listBaseOption),(s=(0,n.select)("div."+Di,e))||(j.ListBase.generateIcon(this.createElement,e,xi,this.listBaseOption),s=(0,n.select)("div."+Di,e)),(0,n.removeClass)([s],Ni),i=j.ListBase.generateUL(this.createElement,[],null,this.listBaseOption),e.appendChild(i),this.addExpand(e),this.trigger("nodeExpanded",this.getExpandEvent(e,null))}return i},t.prototype.updateElement=function(e,t){if(t&&0===e.childElementCount){var i=(0,n.select)("div."+Di,t);(0,n.detach)(e),(0,n.detach)(i);var s=this.getId(t);this.updateField(this.treeData,this.fields,s,"hasChildren",!1),this.removeExpand(t,!0)}},t.prototype.updateAriaLevel=function(e){var t=this.parents(e,"."+Li).length;e.setAttribute("aria-level",""+t),this.updateChildAriaLevel((0,n.select)("."+Li,e),t+1)},t.prototype.updateChildAriaLevel=function(e,t){if(!(0,n.isNullOrUndefined)(e))for(var i=e.childNodes,s=0,r=i.length;s<r;s++){var l=i[s];l.setAttribute("aria-level",""+t),this.updateChildAriaLevel((0,n.select)("."+Li,l),t+1)}},t.prototype.renderVirtualEle=function(e){var t;e.event.offsetY>e.target.offsetHeight-2?t=!1:e.event.offsetY<2&&(t=!0);var i=this.createElement("div",{className:Vi}),s=this.fullRowSelect?t?1:2:t?0:1;e.target.insertBefore(i,e.target.children[s])},t.prototype.removeVirtualEle=function(){var e=(0,n.select)("."+Vi);e&&(0,n.detach)(e)},t.prototype.destroyDrag=function(){this.dragObj&&this.dropObj&&(this.dragObj.destroy(),this.dropObj.destroy())},t.prototype.getDragEvent=function(e,t,i,s,r,l,o,a){var d=i?(0,n.closest)(i,"."+Oi):null,h=d?this.getNodeData(d):null,c=t?t.dragLi:r,p=t?t.dragData:null,u=i?this.parents(i,"."+Oi):null,f=t.dragLi.parentElement,m=t.dragLi?(0,n.closest)(f,"."+Oi):null,v=null,g=null,y=[zi,_i,Xi,Ki],b=null,C=!0===a?c:d,S=C?(0,n.closest)(C,".e-list-parent"):null,I=0,E=null;if(m=t.dragLi&&null===m?(0,n.closest)(f,"."+Ii):m,m=!0===a?this.dragParent:m,l)for(;I<4;){if((0,n.select)("."+Di,l).classList.contains(y[I])){b=y[I];break}I++}if(S){var x=0;for(I=0;I<S.childElementCount;I++){if(x=!0!==a&&S.children[I]===c&&d!==c?++x:x,!0!==a&&S.children[I].classList.contains("e-hover")){g=e.offsetY>=23?I+1:I;break}if(S.children[I]===C){e.offsetY,g=I;break}}g=0!==x?--g:g,E="e-drop-in"==b?"Inside":e.offsetY<7?"Before":"After"}if(i&&(v=0===u.length?null:i.classList.contains(Oi)?u[0]:u[1]),d===c&&(v=d),i&&s.offsetHeight<=33&&e.offsetY<s.offsetHeight-10&&e.offsetY>6&&(v=d,!0!==a)){o=++o;var N=v?(0,n.select)(".e-list-parent",v):null;if(g=N?N.children.length:0,!(this.fields.dataSource instanceof yi.DataManager)&&null===N&&v){var O=v.hasAttribute("data-uid")?this.getChildNodes(this.fields.dataSource,v.getAttribute("data-uid").toString()):null;g=O?O.length:0}}return{cancel:!1,clonedNode:l,event:e,draggedNode:c,draggedNodeData:p,droppedNode:d,droppedNodeData:h,dropIndex:g,dropLevel:o,draggedParentNode:m,dropTarget:v,dropIndicator:b,target:s,position:E}},t.prototype.addFullRow=function(e){var t=this.liList.length;if(e)for(var i=0;i<t;i++)this.createFullRow(this.liList[i]);else for(i=0;i<t;i++){var s=(0,n.select)("."+Yi,this.liList[i]);(0,n.detach)(s)}},t.prototype.createFullRow=function(e){var t=this.createElement("div",{className:Yi});e.insertBefore(t,e.childNodes[0])},t.prototype.addMultiSelect=function(e){if(e)for(var t=0,i=(0,n.selectAll)("."+Oi+':not([aria-selected="true"])',this.element);t<i.length;t++)i[t].setAttribute("aria-selected","false");else for(var s=0,r=(0,n.selectAll)("."+Oi+'[aria-selected="false"]',this.element);s<r.length;s++)r[s].removeAttribute("aria-selected")},t.prototype.collapseByLevel=function(e,t,i){if(t>0&&!(0,n.isNullOrUndefined)(e))for(var s=this.getVisibleNodes(i,e.childNodes),r=0,l=s.length;r<l;r++){var o=s[r],a=(0,n.select)("."+xi,(0,n.select)("."+Mi,o));(0,n.isNullOrUndefined)(a)||this.collapseNode(o,a,null),this.collapseByLevel((0,n.select)("."+Li,o),t-1,i)}},t.prototype.collapseAllNodes=function(e){for(var t=this.getVisibleNodes(e,(0,n.selectAll)("."+xi,this.element)),i=0,s=t.length;i<s;i++){var r=t[i],l=(0,n.closest)(r,"."+Oi);this.collapseNode(l,r,null)}},t.prototype.expandByLevel=function(e,t,i){if(t>0&&!(0,n.isNullOrUndefined)(e))for(var s=this.getVisibleNodes(i,e.childNodes),r=0,l=s.length;r<l;r++){var o=s[r],a=(0,n.select)("."+Ni,(0,n.select)("."+Mi,o));(0,n.isNullOrUndefined)(a)||this.expandAction(o,a,null),this.expandByLevel((0,n.select)("."+Li,o),t-1,i)}},t.prototype.expandAllNodes=function(e){for(var t=this.getVisibleNodes(e,(0,n.selectAll)("."+Ni,this.element)),i=0,s=t.length;i<s;i++){var r=t[i],l=(0,n.closest)(r,"."+Oi);this.expandAction(l,r,null,!0)}},t.prototype.getVisibleNodes=function(e,t){var i=Array.prototype.slice.call(t);if(e)for(var s=0;s<i.length;s++)(0,n.isVisible)(i[s])||(i.splice(s,1),s--);return i},t.prototype.removeNode=function(e){var t=(0,n.closest)(e,"."+Li),i=(0,n.closest)(t,"."+Oi);(0,n.isNullOrUndefined)(this.nodeTemplateFn)||this.destroyTemplate(e),(0,n.detach)(e),this.updateElement(t,i),this.removeData(e)},t.prototype.updateInstance=function(){this.updateList(),this.updateSelectedNodes(),this.updateExpandedNodes()},t.prototype.updateList=function(){this.liList=Array.prototype.slice.call((0,n.selectAll)("."+Oi,this.element))},t.prototype.updateSelectedNodes=function(){this.setProperties({selectedNodes:[]},!0);var e=(0,n.selectAll)("."+Ai,this.element);this.selectGivenNodes(e)},t.prototype.updateExpandedNodes=function(){this.setProperties({expandedNodes:[]},!0);for(var e=(0,n.selectAll)('[aria-expanded="true"]',this.element),t=0,i=e.length;t<i;t++)this.addExpand(e[t])},t.prototype.removeData=function(e){if(1===this.dataType){var t=new yi.DataManager(this.treeData),i=this.getId(e),s={},n=this.isNumberTypeId?parseFloat(i):i;s[this.fields.id]=n,t.remove(this.fields.id,s),this.removeChildNodes(i)}else i=this.getId(e),this.updateChildField(this.treeData,this.fields,i,null,null,!0)},t.prototype.removeChildNodes=function(e){var t=this.getChildGroup(this.groupedData,e,!1),i=[];if(t)for(var s=0,r=t.length;s<r;s++){var l=new yi.DataManager(this.treeData),o=(0,n.getValue)(this.fields.id,t[s]).toString(),a={},d=this.isNumberTypeId?parseFloat(o):o;a[this.fields.id]=d;var h=l.remove(this.fields.id,a);i.push(h[0]),this.removeChildNodes(o)}return i},t.prototype.doGivenAction=function(e,t,i){for(var s=0,r=e.length;s<r;s++){var l=this.getElement(e[s]);if(!(0,n.isNullOrUndefined)(l)){var o=(0,n.select)("."+t,(0,n.select)("."+Mi,l));(0,n.isNullOrUndefined)(o)||(i?this.expandAction(l,o,null):this.collapseNode(l,o,null))}}},t.prototype.addGivenNodes=function(e,t,i,s,r){if(0!==e.length){var l=this.getSortedData(e),o=t?parseFloat(t.getAttribute("aria-level"))+1:1;s&&this.updateMapper(o);var a,d,h,c=j.ListBase.createListItemFromJson(this.createElement,l,this.listBaseOption,o),p=this.getId(t);if((0,n.isNullOrUndefined)(t)||(d=(0,n.select)("div."+Di,t)),1===this.dataType&&d&&d.classList.contains(Ni)&&!(0,n.isNullOrUndefined)(this.element.offsetParent)&&!this.element.offsetParent.parentElement.classList.contains("e-filemanager")&&(this.preventExpand=!0),1!==this.dataType&&(this.addChildData(this.treeData,this.fields,p,e,i),this.isFirstRender=!1),a=(h=r||(t?this.expandParent(t):(0,n.select)("."+Li,this.element))).childNodes[i],!this.isFirstRender||1===this.dataType){var u=this.expandArgs;if(a||"None"===this.sortOrder){for(var f=0;f<c.length;f++)h.insertBefore(c[f],a);1!==this.dataType||(0,n.isNullOrUndefined)(t)||(0,n.isNullOrUndefined)(this.element.offsetParent)||this.element.offsetParent.parentElement.classList.contains("e-filemanager")||(this.preventExpand=!1,(m=(0,n.select)("div."+Di,t))&&m.classList.contains(Ni)&&((0,n.isNullOrUndefined)(u)||"nodeExpanding"!=u.name)&&this.expandAction(t,m,null))}if(!a&&("Ascending"===this.sortOrder||"Descending"===this.sortOrder))if(0===h.childNodes.length){for(f=0;f<c.length;f++)h.insertBefore(c[f],a);var m;1!==this.dataType||(0,n.isNullOrUndefined)(t)||(0,n.isNullOrUndefined)(this.element.offsetParent)||this.element.offsetParent.parentElement.classList.contains("e-filemanager")||(this.preventExpand=!1,(m=(0,n.select)("div."+Di,t))&&m.classList.contains(Ni)&&((0,n.isNullOrUndefined)(u)||"nodeExpanding"!=u.name)&&this.expandAction(t,m,null))}else{var v=h.childNodes;for(f=0;f<c.length;f++)for(var g=0;g<v.length;g++){if("Ascending"===this.sortOrder?v[g].textContent.toUpperCase()>c[f].innerText.toUpperCase():v[g].textContent.toUpperCase()<c[f].innerText.toUpperCase()){h.insertBefore(c[f],v[g]);break}h.insertBefore(c[f],v[v.length])}}}if(1===this.dataType){this.updateField(this.treeData,this.fields,p,"hasChildren",!0);var y=this.getId(a),b=(0,n.isNullOrUndefined)(y)?this.treeData.length:this.getDataPos(this.treeData,this.fields,y);for(g=0;g<e.length;g++){if(!(0,n.isNullOrUndefined)(p)){var C=this.isNumberTypeId?parseFloat(p):p;(0,n.setValue)(this.fields.parentID,C,e[g])}this.treeData.splice(b,0,e[g]),b++}}this.finalizeNode(h)}},t.prototype.updateMapper=function(e){var t=1===e?this.fields:this.getChildFields(this.fields,e-1,1);this.updateListProp(t)},t.prototype.updateListProp=function(e){var t=this.getActualProperties(e);this.listBaseOption.fields=t,this.listBaseOption.fields.url=t.hasOwnProperty("navigateUrl")?t.navigateUrl:"navigateUrl"},t.prototype.getDataPos=function(e,t,i){for(var s=null,r=0,l=e.length;r<l;r++){var o=(0,n.getValue)(t.id,e[r]);if(e[r]&&o&&o.toString()===i)return r;if("string"!=typeof t.child||(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[r]))){if(this.fields.dataSource instanceof yi.DataManager&&!(0,n.isNullOrUndefined)((0,n.getValue)("child",e[r]))){var a=(0,n.getValue)("child",e[r]);if(null!==(s=this.getDataPos(a,this.getChildMapper(t),i)))break}}else{var d=(0,n.getValue)(t.child,e[r]);if(null!==(s=this.getDataPos(d,this.getChildMapper(t),i)))break}}return s},t.prototype.addChildData=function(e,t,i,s,r){var l;if((0,n.isNullOrUndefined)(i)){r=(0,n.isNullOrUndefined)(r)?e.length:r;for(var o=0,a=s.length;o<a;o++)e.splice(r,0,s[o]),r++;return l}for(var d=0,h=e.length;d<h;d++){var c=(0,n.getValue)(t.id,e[d]);if(e[d]&&c&&c.toString()===i){if("string"==typeof t.child&&e[d].hasOwnProperty(t.child)&&null!==e[d][t.child]||this.fields.dataSource instanceof yi.DataManager&&e[d].hasOwnProperty("child")){var p="string"==typeof t.child?t.child:"child",u=(0,n.getValue)(p,e[d]);for((0,n.isNullOrUndefined)(u)&&(u=[]),r=(0,n.isNullOrUndefined)(r)?u.length:r,o=0,a=s.length;o<a;o++)u.splice(r,0,s[o]),r++}else p="string"==typeof t.child?t.child:"child",e[d][p]=s;return!0}if("string"!=typeof t.child||(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[d]))){if(this.fields.dataSource instanceof yi.DataManager&&!(0,n.isNullOrUndefined)((0,n.getValue)("child",e[d]))&&(u=(0,n.getValue)("child",e[d]),void 0!==(l=this.addChildData(u,this.getChildMapper(t),i,s,r))))break}else{var f=(0,n.getValue)(t.child,e[d]);if(void 0!==(l=this.addChildData(f,this.getChildMapper(t),i,s,r)))break}}return l},t.prototype.doDisableAction=function(e){var t=this.nodeType(e),i=this.checkValidId(t);this.validArr=[];for(var s=0,r=i.length;s<r;s++){var l=i[s][this.fields.id].toString();l&&-1===this.disableNode.indexOf(l)&&this.disableNode.push(l);var o=this.getElement(l);o&&(o.setAttribute("aria-disabled","true"),(0,n.addClass)([o],Zi))}},t.prototype.doEnableAction=function(e){for(var t=this.nodeType(e),i=0,s=t.length;i<s;i++){var r=this.getElement(t[i]),l=t[i];l&&-1!==this.disableNode.indexOf(l)&&this.disableNode.splice(this.disableNode.indexOf(l),1),r&&(r.removeAttribute("aria-disabled"),(0,n.removeClass)([r],Zi))}},t.prototype.nodeType=function(e){for(var t=[],i=0,s=e.length;i<s;i++){var n=void 0;"string"==typeof e[i]?n=e[i]?e[i].toString():null:"object"==typeof e[i]&&(n=e[i]?e[i].getAttribute("data-uid").toString():null),-1==t.indexOf(n)&&t.push(n)}return t},t.prototype.checkValidId=function(e){var t=this;if(1===this.dataType)this.validArr=this.treeData.filter((function(i){return-1!==e.indexOf(i[t.fields.id]?i[t.fields.id].toString():null)}));else if(2===this.dataType)for(var i=0;i<this.treeData.length;i++){var s=this.treeData[i][this.fields.id]?this.treeData[i][this.fields.id].toString():null;-1!==e.indexOf(s)&&this.validArr.push(this.treeData[i]);var r=(0,n.getValue)(this.fields.child.toString(),this.treeData[i]);r&&this.filterNestedChild(r,e)}return this.validArr},t.prototype.filterNestedChild=function(e,t){for(var i=0;i<e.length;i++){var s=e[i][this.fields.id]?e[i][this.fields.id].toString():null;-1!==t.indexOf(s)&&this.validArr.push(e[i]);var r=(0,n.getValue)(this.fields.child.toString(),e[i]);r&&this.filterNestedChild(r,t)}},t.prototype.setTouchClass=function(){var e=(0,n.closest)(this.element,".e-bigger");this.touchClass=(0,n.isNullOrUndefined)(e)?"":"e-small"},t.prototype.updatePersistProp=function(){this.removeField(this.treeData,this.fields,["selected","expanded"]);for(var e=this.selectedNodes,t=0,i=e.length;t<i;t++)this.updateField(this.treeData,this.fields,e[t],"selected",!0);for(var s=this.expandedNodes,n=0,r=s.length;n<r;n++)this.updateField(this.treeData,this.fields,s[n],"expanded",!0);if(this.showCheckBox){this.removeField(this.treeData,this.fields,["isChecked"]);var l=this.checkedNodes,o=0;for(r=l.length;o<r;o++)this.updateField(this.treeData,this.fields,l[o],"isChecked",!0)}},t.prototype.removeField=function(e,t,i){if(!(0,n.isNullOrUndefined)(e)&&!(0,n.isNullOrUndefined)(t))for(var s=0,r=e.length;s<r;s++){for(var l=0;l<i.length;l++){var o=this.getMapperProp(t,i[l]);(0,n.isNullOrUndefined)(e[s][o])||delete e[s][o]}"string"!=typeof t.child||(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[s]))?this.fields.dataSource instanceof yi.DataManager&&!(0,n.isNullOrUndefined)((0,n.getValue)("child",e[s]))&&this.removeField((0,n.getValue)("child",e[s]),this.getChildMapper(t),i):this.removeField((0,n.getValue)(t.child,e[s]),this.getChildMapper(t),i)}},t.prototype.getMapperProp=function(e,t){switch(t){case"selected":return(0,n.isNullOrUndefined)(e.selected)?"selected":e.selected;case"expanded":return(0,n.isNullOrUndefined)(e.expanded)?"expanded":e.expanded;case"isChecked":return(0,n.isNullOrUndefined)(e.isChecked)?"isChecked":e.isChecked;case"hasChildren":return(0,n.isNullOrUndefined)(e.hasChildren)?"hasChildren":e.hasChildren;default:return t}},t.prototype.updateField=function(e,t,i,s,r){if(!(0,n.isNullOrUndefined)(i))if(1===this.dataType){var l=this.isNumberTypeId?parseFloat(i):i,o=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(t.id,"equal",l,!1));(0,n.setValue)(this.getMapperProp(t,s),r,o[0])}else this.updateChildField(e,t,i,s,r)},t.prototype.updateChildField=function(e,t,i,s,r,l){var o;if((0,n.isNullOrUndefined)(e))return o;for(var a=0,d=e.length;a<d;a++){var h=(0,n.getValue)(t.id,e[a]);if(e[a]&&h&&h.toString()===i)return l?o=e.splice(a,1):((0,n.setValue)(this.getMapperProp(t,s),r,e[a]),o=[]),o;if("string"!=typeof t.child||(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[a]))){if(this.fields.dataSource instanceof yi.DataManager&&!(0,n.isNullOrUndefined)((0,n.getValue)("child",e[a]))){var c=(0,n.getValue)("child",e[a]);if(void 0!==(o=this.updateChildField(c,this.getChildMapper(t),i,s,r,l)))break}}else{var p=(0,n.getValue)(t.child,e[a]);if(void 0!==(o=this.updateChildField(p,this.getChildMapper(t),i,s,r,l)))break}}return o},t.prototype.triggerEvent=function(e,t){if(this.renderReactTemplates(),"addNodes"===e){for(var i=[],s=0;s<t.length;s++)i.push(this.getNode(this.getElement((0,n.isNullOrUndefined)(t[s][this.fields.id])?(0,n.getValue)(this.fields.id,t[s]).toString():null)));t=i}var r={data:this.treeData,action:e,nodeData:t};this.trigger("dataSourceChanged",r)},t.prototype.wireInputEvents=function(e){n.EventHandler.add(e,"blur",this.inputFocusOut,this)},t.prototype.wireEditingEvents=function(e){var t=this;if(e&&!this.disabled){var i=this;this.touchEditObj=new n.Touch(this.element,{tap:function(e){t.isDoubleTapped(e)&&2===e.tapCount&&(e.originalEvent.preventDefault(),i.editingHandler(e.originalEvent))}})}else this.touchEditObj&&this.touchEditObj.destroy()},t.prototype.wireClickEvent=function(e){if(e){var t=this;this.touchClickObj=new n.Touch(this.element,{tap:function(e){t.clickHandler(e)}})}else this.touchClickObj&&this.touchClickObj.destroy()},t.prototype.wireExpandOnEvent=function(e){var t=this;if(e){var i=this;this.touchExpandObj=new n.Touch(this.element,{tap:function(e){("Click"===t.expandOnType||"DblClick"===t.expandOnType&&t.isDoubleTapped(e)&&2===e.tapCount)&&3!==e.originalEvent.which&&i.expandHandler(e)}})}else this.touchExpandObj&&this.touchExpandObj.destroy()},t.prototype.mouseDownHandler=function(e){this.mouseDownStatus=!0,(e.shiftKey||e.ctrlKey)&&e.preventDefault(),e.ctrlKey&&this.allowMultiSelection&&n.EventHandler.add(this.element,"contextmenu",this.preventContextMenu,this)},t.prototype.preventContextMenu=function(e){e.preventDefault()},t.prototype.wireEvents=function(){n.EventHandler.add(this.element,"mousedown",this.mouseDownHandler,this),this.wireClickEvent(!0),"None"!==this.expandOnType&&this.wireExpandOnEvent(!0),n.EventHandler.add(this.element,"mouseover",this.onMouseOver,this),n.EventHandler.add(this.element,"mouseout",this.onMouseLeave,this),this.keyboardModule=new n.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.unWireEvents=function(){n.EventHandler.remove(this.element,"mousedown",this.mouseDownHandler),this.wireClickEvent(!1),this.wireExpandOnEvent(!1),n.EventHandler.remove(this.element,"mouseover",this.onMouseOver),n.EventHandler.remove(this.element,"mouseout",this.onMouseLeave),this.disabled||this.keyboardModule.destroy()},t.prototype.parents=function(e,t){for(var i=[],s=e.parentNode;!(0,n.isNullOrUndefined)(s);)(0,n.matches)(s,t)&&i.push(s),s=s.parentNode;return i},t.prototype.isDoubleTapped=function(e){var t,i=e.originalEvent.target;return i&&e.tapCount&&(1===e.tapCount?this.firstTap=(0,n.closest)(i,"."+Oi):2===e.tapCount&&(t=(0,n.closest)(i,"."+Oi))),this.firstTap===t},t.prototype.isDescendant=function(e,t){for(var i=t.parentNode;!(0,n.isNullOrUndefined)(i);){if(i===e)return!0;i=i.parentNode}return!1},t.prototype.showSpinner=function(e){(0,n.addClass)([e],Ti),(0,q.createSpinner)({target:e,width:n.Browser.isDevice?16:14},this.createElement),(0,q.showSpinner)(e)},t.prototype.hideSpinner=function(e){(0,q.hideSpinner)(e),e.innerHTML="",(0,n.removeClass)([e],Ti)},t.prototype.setCheckedNodes=function(e){e=JSON.parse(JSON.stringify(e)),this.uncheckAll(this.checkedNodes),this.setIndeterminate(e),e.length>0&&this.checkAll(e)},t.prototype.setValidCheckedNode=function(e){if(1===this.dataType){var t=this.fields,i=new yi.DataManager(this.treeData).executeLocal((new yi.Query).where(t.id,"equal",e,!0));if(i[0]&&(this.setChildCheckState(i,e,i[0]),this.autoCheck)){for(var s=i[0][this.fields.parentID]?i[0][this.fields.parentID].toString():null,r=this.getChildNodes(this.treeData,s),l=0,o=0;o<r.length;o++){var a=r[o][this.fields.id].toString();-1!==this.checkedNodes.indexOf(a)&&l++}l===r.length&&-1===this.checkedNodes.indexOf(s)&&s&&this.checkedNodes.push(s)}}else if(2===this.dataType)for(var d=0;d<this.treeData.length;d++){if((this.treeData[d][this.fields.id]?this.treeData[d][this.fields.id].toString():"")===e&&-1===this.checkedNodes.indexOf(e)){this.checkedNodes.push(e);break}var h=(0,n.getValue)(this.fields.child.toString(),this.treeData[d]);h&&this.setChildCheckState(h,e,this.treeData[d])}},t.prototype.setChildCheckState=function(e,t,i){var s,r=0;if(1===this.dataType){i&&(s=i[this.fields.id]?i[this.fields.id].toString():null);for(var l=0;l<e.length;l++){var o=e[l][this.fields.id]?e[l][this.fields.id].toString():null;i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(o)&&this.checkedNodes.push(o),o===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t),(a=this.getChildNodes(this.treeData,o))&&this.setChildCheckState(a,t,i)}}else for(i&&(s=i[this.fields.id]?i[this.fields.id].toString():""),l=0;l<e.length;l++){var a,d=e[l][this.fields.id]?e[l][this.fields.id].toString():"";i&&s&&this.autoCheck&&-1!==this.checkedNodes.indexOf(s)&&-1===this.checkedNodes.indexOf(d)&&this.checkedNodes.push(d),d===t&&-1===this.checkedNodes.indexOf(t)&&this.checkedNodes.push(t),(a=(0,n.getValue)(this.fields.child.toString(),e[l]))&&this.setChildCheckState(a,t,e[l]),-1!==this.checkedNodes.indexOf(d)&&this.autoCheck&&r++,r===e.length&&-1===this.checkedNodes.indexOf(s)&&this.autoCheck&&this.checkedNodes.push(s)}},t.prototype.setIndeterminate=function(e){for(var t=0;t<e.length;t++)this.setValidCheckedNode(e[t])},t.prototype.updatePosition=function(e,t,i,s){if(1===this.dataType){var n=this.getDataPos(this.treeData,this.fields,e);if(this.treeData.splice(n,1,t),i){this.removeChildNodes(e);for(var r=0;r<s.length;r++)this.treeData.splice(n,0,s[r]),n++}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}else this.updateChildPosition(this.treeData,this.fields,e,[t],void 0)},t.prototype.updateChildPosition=function(e,t,i,s,r){for(var l,o=0,a=e.length;o<a;o++){var d=(0,n.getValue)(t.id,e[o]);if(e[o]&&d&&d.toString()===i)return e[o]=s[0],!0;if("string"!=typeof t.child||(0,n.isNullOrUndefined)((0,n.getValue)(t.child,e[o]))){if(this.fields.dataSource instanceof yi.DataManager&&!(0,n.isNullOrUndefined)((0,n.getValue)("child",e[o]))){var h=(0,n.getValue)("child",e[o]);if(void 0!==(l=this.updateChildPosition(h,this.getChildMapper(t),i,s,r)))break}}else{var c=(0,n.getValue)(t.child,e[o]);if(void 0!==(l=this.updateChildPosition(c,this.getChildMapper(t),i,s,r)))break}}return l},t.prototype.dynamicState=function(){this.setDragAndDrop(this.allowDragAndDrop),this.wireEditingEvents(this.allowEditing),this.disabled?(this.unWireEvents(),this.rippleFn(),this.rippleIconFn()):(this.wireEvents(),this.setRipple())},t.prototype.crudOperation=function(e,t,i,s,r,l,o){var a,d=this,h=this.fields.dataSource,c=[],p=this.getQuery(this.fields),u=this.fields.id,f={addedRecords:[],deletedRecords:[],changedRecords:[]},m=[];t?m=this.nodeType(t):i&&("string"==typeof i?m[0]=i.toString():"object"==typeof i&&(m[0]=i.getAttribute("data-uid").toString()));for(var v=0,g=m.length;v<g;v++){var y=this.getElement(m[v]);if(!(0,n.isNullOrUndefined)(y)){var b=this.getNodeObject(m[v]);c.push(b)}}switch(e){case"delete":1==t.length?a=h.remove(u,c[0],p.fromTable,p):(f.deletedRecords=c,a=h.saveChanges(f,u,p.fromTable,p)),a.then((function(e){return d.deleteSuccess(m)})).catch((function(e){return d.dmFailure(e)}));break;case"update":c[0][this.fields.text]=s,(a=h.update(u,c[0],p.fromTable,p)).then((function(e){return d.editSucess(i,s,o)})).catch((function(e){return d.dmFailure(e,i,o)}));break;case"insert":if(1==r.length)a=h.insert(r[0],p.fromTable,p);else{var C=[];for(v=0,g=r.length;v<g;v++)C.push(r[v]);f.addedRecords=C,a=h.saveChanges(f,u,p.fromTable,p)}a.then((function(e){var t=d.getElement(i);d.addSuccess(r,t,l),d.preventExpand=!1})).catch((function(e){return d.dmFailure(e)}))}},t.prototype.deleteSuccess=function(e){for(var t=[],i=0,s=e.length;i<s;i++){var r=this.getElement(e[i]);t.push(this.getNode(r)),(0,n.isNullOrUndefined)(r)||this.removeNode(r)}this.updateInstance(),1===this.dataType&&(this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)),this.triggerEvent("removeNode",t)},t.prototype.editSucess=function(e,t,i){var s=this.getElement(e),r=(0,n.select)("."+wi,s);this.appendNewText(s,r,t,i)},t.prototype.addSuccess=function(e,t,i){var s,n=t?t.querySelector("."+Di):null,r=this;t&&n&&n.classList.contains(Ni)&&null===t.querySelector("."+Li)?r.renderChildNodes(t,null,(function(){s=t.querySelector("."+Li),r.addGivenNodes(e,t,i,!0,s),r.triggerEvent("addNodes",e)})):(this.addGivenNodes(e,t,i,!0),this.triggerEvent("addNodes",e))},t.prototype.dmFailure=function(e,t,i){t&&this.updatePreviousText(t,i),this.trigger("actionFailure",{error:e})},t.prototype.updatePreviousText=function(e,t){var i=this.getElement(e),s=(0,n.select)("."+wi,i);this.updateText(i,s,this.oldText,t)},t.prototype.getHierarchicalParentId=function(e,t,i){var s=this,r=t.findIndex((function(t){return t[s.fields.id]&&t[s.fields.id].toString()===e}));if(-1==r)for(var l=0;l<t.length;l++){var o=(0,n.getValue)(this.fields.child.toString(),t[l]);if(!(0,n.isNullOrUndefined)(o)){if(r=o.findIndex((function(t){return t[s.fields.id]&&t[s.fields.id].toString()===e})),-1!=r){i.push(t[l][this.fields.id].toString()),this.getHierarchicalParentId(t[l][this.fields.id].toString(),this.treeData,i);break}this.getHierarchicalParentId(e,o,i)}}return i},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"allowDragAndDrop":this.setDragAndDrop(this.allowDragAndDrop);break;case"dragArea":this.allowDragAndDrop&&(this.dragObj.dragArea=this.dragArea);break;case"allowEditing":this.wireEditingEvents(this.allowEditing);break;case"allowMultiSelection":if(this.selectedNodes.length>1){var r=this.getElement(this.selectedNodes[0]);this.isLoaded=!1,this.removeSelectAll(),this.selectNode(r,null),this.isLoaded=!0}this.setMultiSelect(this.allowMultiSelection),this.addMultiSelect(this.allowMultiSelection);break;case"allowTextWrap":this.setTextWrap(),this.updateWrap();break;case"checkedNodes":this.showCheckBox&&(this.checkedNodes=t.checkedNodes,this.setCheckedNodes(e.checkedNodes));break;case"autoCheck":this.showCheckBox&&(this.autoCheck=e.autoCheck,this.ensureIndeterminate());break;case"cssClass":this.setCssClass(t.cssClass,e.cssClass);break;case"enableRtl":this.setEnableRtl();break;case"expandedNodes":this.isAnimate=!1,this.setProperties({expandedNodes:[]},!0),this.collapseAll(),this.isInitalExpand=!0,this.setProperties({expandedNodes:(0,n.isNullOrUndefined)(e.expandedNodes)?[]:e.expandedNodes},!0),this.doExpandAction(),this.isInitalExpand=!1,this.isAnimate=!0;break;case"expandOn":this.wireExpandOnEvent(!1),this.setExpandOnType(),"None"===this.expandOnType||this.disabled||this.wireExpandOnEvent(!0);break;case"disabled":this.setDisabledMode(),this.dynamicState();break;case"fields":this.isAnimate=!1,this.isFieldChange=!0,this.initialRender=!0,this.isReact&&(!this.isReact||this.fields.dataSource instanceof yi.DataManager)||this.reRenderNodes(),this.initialRender=!1,this.isAnimate=!0,this.isFieldChange=!1;break;case"fullRowSelect":this.setFullRow(this.fullRowSelect),this.addFullRow(this.fullRowSelect),this.allowTextWrap&&(this.setTextWrap(),this.updateWrap());break;case"loadOnDemand":if(!1===this.loadOnDemand&&!this.onLoaded){for(var l=this.element.querySelectorAll("li"),o=0;o<l.length;)"true"!==l[o].getAttribute("aria-expanded")&&this.renderChildNodes(l[o],!0,null,!0),o++;this.onLoaded=!0}break;case"nodeTemplate":this.hasTemplate=!1,this.nodeTemplateFn=this.templateComplier(this.nodeTemplate),this.reRenderNodes();break;case"selectedNodes":this.removeSelectAll(),this.setProperties({selectedNodes:e.selectedNodes},!0),this.doSelectionAction();break;case"showCheckBox":case"sortOrder":this.reRenderNodes();break;case"fullRowNavigable":this.setProperties({fullRowNavigable:e.fullRowNavigable},!0),this.listBaseOption.itemNavigable=e.fullRowNavigable,this.reRenderNodes()}},t.prototype.destroy=function(){this.clearTemplate(),this.element.removeAttribute("aria-activedescendant"),this.unWireEvents(),this.wireEditingEvents(!1),this.disabled||(this.rippleFn(),this.rippleIconFn()),this.setCssClass(this.cssClass,null),this.setDragAndDrop(!1),this.setFullRow(!1),this.ulElement&&this.ulElement.parentElement&&this.ulElement.parentElement.removeChild(this.ulElement),this.ulElement=null,this.liList=null,this.startNode=null,this.firstTap=null,this.expandArgs=null,this.dragLi=null,this.dragTarget=null,this.dragParent=null,this.dragObj=null,this.dropObj=null,this.inputObj=null,this.touchEditObj=null,this.touchExpandObj=null,this.touchClickObj=null,e.prototype.destroy.call(this)},t.prototype.addNodes=function(e,t,i,s){if(!(0,n.isNullOrUndefined)(e)){e=JSON.parse(JSON.stringify(e));var r=this.getElement(t);if(this.preventExpand=s,this.fields.dataSource instanceof yi.DataManager)this.isOffline?this.addSuccess(e,r,i):this.crudOperation("insert",null,t,null,e,i,this.preventExpand);else if(2===this.dataType)this.addGivenNodes(e,r,i);else{if(r)this.addGivenNodes(e,r,i);else{e=this.getSortedData(e);for(var l=0;l<e.length;l++){var o=(0,n.getValue)(this.fields.parentID,e[l]);r=o?this.getElement(o.toString()):o,this.addGivenNodes([e[l]],r,i)}}this.groupedData=this.getGroupedData(this.treeData,this.fields.parentID)}this.updateCheckedStateFromDS(),this.showCheckBox&&r&&this.ensureParentCheckState(r),this.fields.dataSource instanceof yi.DataManager==0&&(this.preventExpand=!1,this.triggerEvent("addNodes",e))}},t.prototype.beginEdit=function(e){var t=this.getElement(e);(0,n.isNullOrUndefined)(t)||this.disabled||this.createTextbox(t,null)},t.prototype.checkAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!0)},t.prototype.collapseAll=function(e,t,i){(0,n.isNullOrUndefined)(e)?t>0?this.collapseByLevel((0,n.select)("."+Li,this.element),t,i):this.collapseAllNodes(i):this.doGivenAction(e,xi,!1)},t.prototype.disableNodes=function(e){(0,n.isNullOrUndefined)(e)||this.doDisableAction(e)},t.prototype.enableNodes=function(e){(0,n.isNullOrUndefined)(e)||this.doEnableAction(e)},t.prototype.ensureVisible=function(e){var t=[];if(1==this.dataType)for(var i=this.getTreeData(e);0!=i.length&&!(0,n.isNullOrUndefined)(i[0][this.fields.parentID]);)t.push(i[0][this.fields.parentID].toString()),i=this.getTreeData(i[0][this.fields.parentID].toString());else 2==this.dataType&&(t=this.getHierarchicalParentId(e,this.treeData,t));this.expandAll(t.reverse());var s=this.getElement(e);if(!(0,n.isNullOrUndefined)(s)){if("object"==typeof e){var r=this.parents(s,"."+Oi);this.expandAll(r)}setTimeout((function(){s.scrollIntoView({behavior:"smooth"})}),450)}},t.prototype.expandAll=function(e,t,i){(0,n.isNullOrUndefined)(e)?t>0?this.expandByLevel((0,n.select)("."+Li,this.element),t,i):this.expandAllNodes(i):this.doGivenAction(e,Ni,!0)},t.prototype.getAllCheckedNodes=function(){return this.checkedNodes},t.prototype.getDisabledNodes=function(){return this.disableNode},t.prototype.getNode=function(e){var t=this.getElement(e);return this.getNodeData(t,!0)},t.prototype.getTreeData=function(e){var t=this.getId(e);if(this.updatePersistProp(),(0,n.isNullOrUndefined)(t))return this.treeData;var i=this.getNodeObject(t);return(0,n.isNullOrUndefined)(i)?[]:[i]},t.prototype.moveNodes=function(e,t,i,s){var r=this.getElement(t),l=[];if(!(0,n.isNullOrUndefined)(r)){for(var o=0;o<e.length;o++){var a=this.getElement(e[o]);l.push(this.getNode(a)),(0,n.isNullOrUndefined)(a)||r.isSameNode(a)||this.isDescendant(a,r)||(this.preventExpand=s,this.dropAsChildNode(a,r,this,i))}this.fields.dataSource instanceof yi.DataManager==0&&(this.preventExpand=!1),this.triggerEvent("moveNodes",l)}},t.prototype.refreshNode=function(e,t){if(!(0,n.isNullOrUndefined)(e)&&!(0,n.isNullOrUndefined)(t)){var i,s=!1;if(1==this.dataType&&t.length>1)s=!0;else if(2==this.dataType&&1===t.length){var r=(0,n.getValue)(this.fields.child.toString(),t[0]);(0,n.isNullOrUndefined)(r)||(s=!0)}var l,o,a=this.getElement(e);if(i=a?a.getAttribute("data-uid"):e?e.toString():null,this.refreshData=this.getNodeObject(i),t=JSON.parse(JSON.stringify(t)),1==this.dataType&&s){for(var d=0;d<t.length;d++)if((0,n.isNullOrUndefined)(t[d][this.fields.parentID])){o=t[d],t.splice(d,1);break}l=(0,n.extend)({},this.refreshData,o)}else l=(0,n.extend)({},this.refreshData,t[0]);if((0,n.isNullOrUndefined)(a))this.updatePosition(i,l,s,t);else{this.isRefreshed=!0;var h=parseFloat(a.getAttribute("aria-level")),c=j.ListBase.createListItemFromJson(this.createElement,[l],this.listBaseOption,h),p=(0,n.select)("."+Li,a),u=(0,n.getValue)(this.fields.child.toString(),l);if(s&&p||s&&!(0,n.isNullOrUndefined)(u)){var f=a.parentElement,m=Array.prototype.indexOf.call(f.childNodes,a);(0,n.remove)(a),f.insertBefore(c[0],f.childNodes[m]),this.updatePosition(i,l,s,t),s&&p&&this.expandAll([i])}else{var v=(0,n.select)("."+Mi,a),g=(0,n.select)("."+Mi,c[0]),y=(0,n.select)("div."+Di,v),b=(0,n.select)("div."+Di,g);y&&b&&(b.classList.contains(Ni)&&y.classList.contains(xi)?((0,n.removeClass)([b],Ni),(0,n.addClass)([b],xi)):b.classList.contains(xi)&&y.classList.contains(Ni)?((0,n.removeClass)([b],xi),(0,n.addClass)([b],Ni)):y.classList.contains("interaction")&&(0,n.addClass)([b],"interaction")),(0,n.remove)(v);var C=(0,n.select)("."+Yi,a);C.parentNode.insertBefore(g,C.nextSibling),this.updatePosition(i,l,s,t)}if(a=this.getElement(e),l[this.fields.tooltip]&&a.setAttribute("title",l[this.fields.tooltip]),l.hasOwnProperty(this.fields.htmlAttributes)&&l[this.fields.htmlAttributes]){var S={};(0,n.merge)(S,l[this.fields.htmlAttributes]),S.class?((0,n.addClass)([a],S.class.split(" ")),delete S.class):(0,n.attributes)(a,S)}-1!==this.selectedNodes.indexOf(i)&&(a.setAttribute("aria-selected","true"),(0,n.addClass)([a],Ai)),this.isRefreshed=!1,this.triggerEvent("refreshNode",[this.getNode(a)])}}},t.prototype.removeNodes=function(e){(0,n.isNullOrUndefined)(e)||(this.fields.dataSource instanceof yi.DataManager&&!this.isOffline?this.crudOperation("delete",e):this.deleteSuccess(e))},t.prototype.updateNode=function(e,t){var i=this;if(!(0,n.isNullOrUndefined)(e)&&!(0,n.isNullOrUndefined)(t)&&this.allowEditing){var s=this.getElement(e);if(!(0,n.isNullOrUndefined)(s)){var r=(0,n.select)("."+wi,s);this.updateOldText(s);var l=this.getEditEvent(s,null,null);this.trigger("nodeEditing",l,(function(n){n.cancel||(i.fields.dataSource instanceof yi.DataManager&&!i.isOffline?i.crudOperation("update",null,e,t,null,null,!1):i.appendNewText(s,r,t,!1))}))}}},t.prototype.uncheckAll=function(e){this.showCheckBox&&this.doCheckBoxAction(e,!1)},Si([(0,n.Property)(!1)],t.prototype,"allowDragAndDrop",void 0),Si([(0,n.Property)(!1)],t.prototype,"allowEditing",void 0),Si([(0,n.Property)(!1)],t.prototype,"allowMultiSelection",void 0),Si([(0,n.Property)(!1)],t.prototype,"allowTextWrap",void 0),Si([(0,n.Complex)({},ps)],t.prototype,"animation",void 0),Si([(0,n.Property)()],t.prototype,"checkedNodes",void 0),Si([(0,n.Property)("")],t.prototype,"cssClass",void 0),Si([(0,n.Property)(!1)],t.prototype,"disabled",void 0),Si([(0,n.Property)(null)],t.prototype,"dragArea",void 0),Si([(0,n.Property)(!1)],t.prototype,"enableHtmlSanitizer",void 0),Si([(0,n.Property)(!1)],t.prototype,"enablePersistence",void 0),Si([(0,n.Property)()],t.prototype,"expandedNodes",void 0),Si([(0,n.Property)("Auto")],t.prototype,"expandOn",void 0),Si([(0,n.Complex)({},hs)],t.prototype,"fields",void 0),Si([(0,n.Property)(!0)],t.prototype,"fullRowSelect",void 0),Si([(0,n.Property)(!0)],t.prototype,"loadOnDemand",void 0),Si([(0,n.Property)()],t.prototype,"locale",void 0),Si([(0,n.Property)()],t.prototype,"nodeTemplate",void 0),Si([(0,n.Property)()],t.prototype,"selectedNodes",void 0),Si([(0,n.Property)("None")],t.prototype,"sortOrder",void 0),Si([(0,n.Property)(!1)],t.prototype,"showCheckBox",void 0),Si([(0,n.Property)(!0)],t.prototype,"autoCheck",void 0),Si([(0,n.Property)(!1)],t.prototype,"fullRowNavigable",void 0),Si([(0,n.Event)()],t.prototype,"actionFailure",void 0),Si([(0,n.Event)()],t.prototype,"created",void 0),Si([(0,n.Event)()],t.prototype,"dataBound",void 0),Si([(0,n.Event)()],t.prototype,"dataSourceChanged",void 0),Si([(0,n.Event)()],t.prototype,"drawNode",void 0),Si([(0,n.Event)()],t.prototype,"destroyed",void 0),Si([(0,n.Event)()],t.prototype,"keyPress",void 0),Si([(0,n.Event)()],t.prototype,"nodeChecked",void 0),Si([(0,n.Event)()],t.prototype,"nodeChecking",void 0),Si([(0,n.Event)()],t.prototype,"nodeClicked",void 0),Si([(0,n.Event)()],t.prototype,"nodeCollapsed",void 0),Si([(0,n.Event)()],t.prototype,"nodeCollapsing",void 0),Si([(0,n.Event)()],t.prototype,"nodeDragging",void 0),Si([(0,n.Event)()],t.prototype,"nodeDragStart",void 0),Si([(0,n.Event)()],t.prototype,"nodeDragStop",void 0),Si([(0,n.Event)()],t.prototype,"nodeDropped",void 0),Si([(0,n.Event)()],t.prototype,"nodeEdited",void 0),Si([(0,n.Event)()],t.prototype,"nodeEditing",void 0),Si([(0,n.Event)()],t.prototype,"nodeExpanded",void 0),Si([(0,n.Event)()],t.prototype,"nodeExpanding",void 0),Si([(0,n.Event)()],t.prototype,"nodeSelected",void 0),Si([(0,n.Event)()],t.prototype,"nodeSelecting",void 0),i=Si([n.NotifyPropertyChanges],t)}(n.Component),fs=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ms=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},vs="e-sidebar",gs="e-close",ys="e-open",bs="e-transition",Cs="e-sidebar-overlay",Ss="e-right",Is="e-left",Es="e-over",xs="e-push",Ns="e-slide",Os="e-visibility",ws="e-disable-animation",Ls="e-sidebar-context",ks="e-sidebar-absolute",As=function(e){function t(t,i){return e.call(this,t,i)||this}return fs(t,e),t.prototype.preRender=function(){this.setWidth()},t.prototype.render=function(){this.initialize(),this.wireEvents(),this.renderComplete()},t.prototype.initialize=function(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?(this.show(),this.firstRender=!0):this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL(),n.Browser.isDevice&&(this.windowWidth=window.innerWidth)},t.prototype.setEnableRTL=function(){(this.enableRtl?n.addClass:n.removeClass)([this.element],"e-rtl")},t.prototype.setTarget=function(){this.targetEle=this.element.nextElementSibling,this.sidebarEleCopy=this.element.cloneNode(!0),"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),(0,n.addClass)([this.element],ks),(0,n.addClass)([this.target],Ls),this.targetEle=this.getTargetElement())},t.prototype.getTargetElement=function(){for(var e=this.element.nextElementSibling;!(0,n.isNullOrUndefined)(e)&&e.classList.contains(vs);)e=e.nextElementSibling;return e},t.prototype.setCloseOnDocumentClick=function(){this.closeOnDocumentClick?n.EventHandler.add(document,"mousedown touchstart",this.documentclickHandler,this):n.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler)},t.prototype.setWidth=function(){this.enableDock&&"Left"===this.position||this.enableDock&&"Right"===this.position?(0,n.setStyleAttribute)(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||(0,n.setStyleAttribute)(this.element,{width:this.setDimension(this.width)})},t.prototype.setDimension=function(e){return"number"==typeof e?(0,n.formatUnit)(e):"string"==typeof e?e.match(/px|%|em/)?e:(0,n.formatUnit)(e):"100%"},t.prototype.setZindex=function(){(0,n.setStyleAttribute)(this.element,{"z-index":""+this.zIndex})},t.prototype.addClass=function(){"EJS-SIDEBAR"===this.element.tagName&&(0,n.addClass)([this.element],"e-sidebar-display");var e=document.querySelector(".e-main-content");(0,n.isNullOrUndefined)(e||this.targetEle)||(0,n.addClass)([e||this.targetEle],["e-content-animation"]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):null,this.enableDock||"Auto"===this.type||(0,n.addClass)([this.element],[Os]),(0,n.removeClass)([this.element],[ys,gs,Ss,Is,Ns,xs,Es]),this.element.classList.add(vs),(0,n.addClass)([this.element],"Right"===this.position?Ss:Is),this.enableDock&&(0,n.addClass)([this.element],"e-dock"),(0,n.isNullOrUndefined)(this.tabIndex)||this.element.setAttribute("tabindex",this.tabIndex),"Auto"!==this.type||n.Browser.isDevice?this.isOpen||(0,n.addClass)([this.element],[gs,ws]):this.show()},t.prototype.checkType=function(e){"Push"!==this.type&&"Over"!==this.type&&"Slide"!==this.type?this.type="Auto":this.element.classList.contains(gs)||e||this.hide()},t.prototype.transitionEnd=function(e){this.setDock(),(0,n.isNullOrUndefined)(e)||this.firstRender||this.triggerChange(),this.firstRender=!1,n.EventHandler.remove(this.element,"transitionend",this.transitionEnd)},t.prototype.destroyBackDrop=function(){var e=document.querySelector(".e-main-content")||this.targetEle;this.target&&this.showBackdrop&&e&&!(0,n.isNullOrUndefined)(this.defaultBackdropDiv)?(0,n.removeClass)([this.defaultBackdropDiv],Cs):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},t.prototype.hide=function(e){var t=this,i={model:this,element:this.element,cancel:!1,isInteracted:!(0,n.isNullOrUndefined)(e),event:e||null};this.trigger("close",i,(function(e){if(!e.cancel){if(t.element.classList.contains(gs))return;t.element.classList.contains(ys)&&!t.animate&&t.triggerChange(),(0,n.addClass)([t.element],gs),(0,n.removeClass)([t.element],ys),(0,n.setStyleAttribute)(t.element,{width:(0,n.formatUnit)(t.enableDock?t.dockSize:t.width)}),t.setType(t.type);var i=document.querySelector(".e-main-content")||t.targetEle;!t.enableDock&&i&&(i.style.transform="translateX(0px)",i.style["Left"===t.position?"marginLeft":"marginRight"]="0px"),t.destroyBackDrop(),t.setAnimation(),"Slide"===t.type&&document.body.classList.remove("e-sidebar-overflow"),t.setProperties({isOpen:!1},!0),t.enableDock&&setTimeout((function(){return t.setTimeOut()}),50),n.EventHandler.add(t.element,"transitionend",t.transitionEnd,t)}}))},t.prototype.setTimeOut=function(){var e=document.querySelector(".e-main-content")||this.targetEle,t=this.element.getBoundingClientRect().width;!this.element.classList.contains(ys)||!e||"Over"===this.type&&this.enableDock?this.element.classList.contains(gs)&&e&&("Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.dockSize?t:this.dockSize):e.style.marginRight=this.setDimension("auto"===this.dockSize?t:this.dockSize)):"Left"===this.position?e.style.marginLeft=this.setDimension("auto"===this.width?t:this.width):e.style.marginRight=this.setDimension("auto"===this.width?t:this.width)},t.prototype.show=function(e){var t=this,i={model:this,element:this.element,cancel:!1,isInteracted:!(0,n.isNullOrUndefined)(e),event:e||null};this.trigger("open",i,(function(e){if(!e.cancel){if((0,n.removeClass)([t.element],[Os,ws]),t.element.classList.contains(ys))return;t.element.classList.contains(gs)&&!t.animate&&t.triggerChange(),(0,n.addClass)([t.element],[ys,bs]),(0,n.setStyleAttribute)(t.element,{transform:""}),(0,n.removeClass)([t.element],gs),(0,n.setStyleAttribute)(t.element,{width:(0,n.formatUnit)(t.width)}),t.setType(t.type),t.createBackDrop(),t.setAnimation(),"Slide"===t.type&&document.body.classList.add("e-sidebar-overflow"),t.setProperties({isOpen:!0},!0),n.EventHandler.add(t.element,"transitionend",t.transitionEnd,t)}}))},t.prototype.setAnimation=function(){this.animate?(0,n.removeClass)([this.element],ws):(0,n.addClass)([this.element],ws)},t.prototype.triggerChange=function(){var e={name:"change",element:this.element};this.trigger("change",e)},t.prototype.setDock=function(){this.enableDock&&"Left"===this.position&&!this.getState()?(0,n.setStyleAttribute)(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&"Right"===this.position&&!this.getState()&&(0,n.setStyleAttribute)(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(gs)&&this.enableDock&&(0,n.setStyleAttribute)(this.element,{width:this.setDimension(this.dockSize)})},t.prototype.createBackDrop=function(){if(this.target&&this.showBackdrop&&this.getState()){var e=this.target,t=document.querySelector(".e-main-content")||this.targetEle;this.defaultBackdropDiv=this.createElement("div"),(0,n.addClass)([this.defaultBackdropDiv],Cs),(0,n.setStyleAttribute)(this.defaultBackdropDiv,{height:e.style.height}),t.appendChild(this.defaultBackdropDiv)}else this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className=Cs,this.modal.style.display="block",document.body.appendChild(this.modal))},t.prototype.getPersistData=function(){return this.addOnPersist(["type","position","isOpen"])},t.prototype.getModuleName=function(){return"sidebar"},t.prototype.toggle=function(){this.element.classList.contains(ys)?this.hide():this.show()},t.prototype.getState=function(){return!!this.element.classList.contains(ys)},t.prototype.setMediaQuery=function(){this.mediaQuery&&(("string"==typeof this.mediaQuery?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches)&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide())},t.prototype.resize=function(){"Auto"===this.type&&(n.Browser.isDevice?(0,n.addClass)([this.element],Es):(0,n.addClass)([this.element],xs)),this.setMediaQuery(),n.Browser.isDevice&&(this.windowWidth=window.innerWidth)},t.prototype.documentclickHandler=function(e){(0,n.closest)(e.target,".e-control."+vs)||this.hide(e)},t.prototype.enableGestureHandler=function(e){!this.isOpen&&"Left"===this.position&&"Right"===e.swipeDirection&&e.startX<=20&&e.distanceX>=50&&e.velocity>=.5?this.show():this.isOpen&&"Left"===this.position&&"Left"===e.swipeDirection||this.isOpen&&"Right"===this.position&&"Right"===e.swipeDirection?this.hide():!this.isOpen&&"Right"===this.position&&"Left"===e.swipeDirection&&window.innerWidth-e.startX<=20&&e.distanceX>=50&&e.velocity>=.5&&this.show()},t.prototype.setEnableGestures=function(){this.enableGestures?(this.mainContentEle=new n.Touch(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new n.Touch(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())},t.prototype.wireEvents=function(){this.setEnableGestures(),n.EventHandler.add(window,"resize",this.resize,this)},t.prototype.unWireEvents=function(){n.EventHandler.remove(window,"resize",this.resize),n.EventHandler.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()},t.prototype.onPropertyChanged=function(t,i){for(var s=document.querySelector(".e-main-content")||this.targetEle,r=this.isServerRendered,l=0,o=Object.keys(t);l<o.length;l++)switch(o[l]){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),(0,n.removeClass)([this.element],[Os]),this.addClass(),(0,n.addClass)([this.element],"Auto"===this.type?n.Browser.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),s&&(s.style["Left"===this.position?"marginRight":"marginLeft"]="0px"),"Right"===this.position?((0,n.removeClass)([this.element],Is),(0,n.addClass)([this.element],Ss)):((0,n.removeClass)([this.element],Ss),(0,n.addClass)([this.element],Is)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":"string"==typeof this.target&&this.setProperties({target:document.querySelector(this.target)},!0),(0,n.isNullOrUndefined)(this.target)&&((0,n.removeClass)([this.element],ks),(0,n.removeClass)([i.target],Ls),(0,n.setStyleAttribute)(s,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)),this.isServerRendered=!1,e.prototype.refresh.call(this),this.isServerRendered=r;break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL()}},t.prototype.setType=function(e){var t=this.element.getBoundingClientRect().width;this.setZindex();var i=document.querySelector(".e-main-content")||this.targetEle;i&&(i.style.transform="translateX(0px)",n.Browser.isDevice||"Auto"===this.type||"Over"===this.type&&this.enableDock||(i.style["Left"===this.position?"marginLeft":"marginRight"]="0px"));var s=(this.position,t+"px"),r="Left"===this.position?t:-t;switch((0,n.removeClass)([this.element],[xs,Es,Ns]),e){case"Push":(0,n.addClass)([this.element],[xs]),i&&(this.enableDock||this.element.classList.contains(ys))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=s);break;case"Slide":(0,n.addClass)([this.element],[Ns]),i&&(this.enableDock||this.element.classList.contains(ys))&&(i.style.transform="translateX("+r+"px)");break;case"Over":(0,n.addClass)([this.element],[Es]),this.enableDock&&(this.element.classList.contains(gs)||this.isOpen)&&i&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=this.setDimension(this.dockSize));break;case"Auto":(0,n.addClass)([this.element],[bs]),n.Browser.isDevice?i&&this.enableDock&&!this.getState()?(i.style["Left"===this.position?"marginLeft":"marginRight"]=s,(0,n.addClass)([this.element],xs)):(0,n.addClass)([this.element],Es):((0,n.addClass)([this.element],xs),i&&(this.enableDock||this.element.classList.contains(ys))&&(i.style["Left"===this.position?"marginLeft":"marginRight"]=s)),this.createBackDrop()}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.target&&(0,n.removeClass)([this.target],Ls),this.destroyBackDrop(),this.element&&((0,n.removeClass)([this.element],[ys,gs,xs,Ns,Es,Is,Ss,bs,ws]),(0,n.removeClass)([this.element],ks),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",(0,n.isNullOrUndefined)(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.windowWidth=null;var t=document.querySelector(".e-main-content")||this.targetEle;(0,n.isNullOrUndefined)(t)||(t.style.margin="",t.style.transform=""),this.unWireEvents()},ms([(0,n.Property)("auto")],t.prototype,"dockSize",void 0),ms([(0,n.Property)(null)],t.prototype,"mediaQuery",void 0),ms([(0,n.Property)(!1)],t.prototype,"enableDock",void 0),ms([(0,n.Property)("en-US")],t.prototype,"locale",void 0),ms([(0,n.Property)(!1)],t.prototype,"enablePersistence",void 0),ms([(0,n.Property)(!0)],t.prototype,"enableGestures",void 0),ms([(0,n.Property)(!1)],t.prototype,"isOpen",void 0),ms([(0,n.Property)(!1)],t.prototype,"enableRtl",void 0),ms([(0,n.Property)(!0)],t.prototype,"animate",void 0),ms([(0,n.Property)("auto")],t.prototype,"height",void 0),ms([(0,n.Property)(!1)],t.prototype,"closeOnDocumentClick",void 0),ms([(0,n.Property)("Left")],t.prototype,"position",void 0),ms([(0,n.Property)(null)],t.prototype,"target",void 0),ms([(0,n.Property)(!1)],t.prototype,"showBackdrop",void 0),ms([(0,n.Property)("Auto")],t.prototype,"type",void 0),ms([(0,n.Property)("auto")],t.prototype,"width",void 0),ms([(0,n.Property)(1e3)],t.prototype,"zIndex",void 0),ms([(0,n.Event)()],t.prototype,"created",void 0),ms([(0,n.Event)()],t.prototype,"close",void 0),ms([(0,n.Event)()],t.prototype,"open",void 0),ms([(0,n.Event)()],t.prototype,"change",void 0),ms([(0,n.Event)()],t.prototype,"destroyed",void 0),ms([n.NotifyPropertyChanges],t)}(n.Component),Ts=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Ps=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},Ds="e-icon-right",Ms="e-breadcrumb-text",Hs="e-breadcrumb-icon",Us="e-breadcrumb-menu",Rs="e-breadcrumb-item",Bs="e-breadcrumb-popup",js="e-breadcrumb-wrap-mode",qs="e-breadcrumb-scroll-mode",Ws="tabindex",Fs="e-disabled",Vs="aria-disabled",_s=".";!function(e){e.Hidden="Hidden",e.Collapsed="Collapsed",e.Menu="Menu",e.Wrap="Wrap",e.Scroll="Scroll",e.None="None"}(B||(B={}));var zs,Xs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ts(t,e),Ps([(0,n.Property)("")],t.prototype,"text",void 0),Ps([(0,n.Property)("")],t.prototype,"url",void 0),Ps([(0,n.Property)(null)],t.prototype,"iconCss",void 0),Ps([(0,n.Property)(!1)],t.prototype,"disabled",void 0),t}(n.ChildProperty),Ks=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isPopupCreated=!1,s}return Ts(t,e),t.prototype.preRender=function(){},t.prototype.render=function(){this.initialize(),this.renderItems(this.items),this.wireEvents()},t.prototype.initialize=function(){this._maxItems=this.maxItems,(0,n.isNullOrUndefined)(this.element.getAttribute("aria-label"))&&this.element.setAttribute("aria-label","breadcrumb"),this.cssClass&&(0,n.addClass)([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.enableRtl&&this.element.classList.add("e-rtl"),this.disabled&&(this.element.classList.add(Fs),this.element.setAttribute(Vs,"true")),"Wrap"===this.overflowMode?this.element.classList.add(js):"Scroll"===this.overflowMode&&this.element.classList.add(qs),this.initItems(),this.initPvtProps()},t.prototype.initPvtProps=function(){"Hidden"===this.overflowMode&&this._maxItems>0&&(this.endIndex=this.getEndIndex(),this.startIndex=this.endIndex+1-(this._maxItems-1)),"Menu"===this.overflowMode&&(this._maxItems>=0?(this.startIndex=this._maxItems>1?1:0,this.endIndex=this.getEndIndex(),this.popupUl=this.createElement("ul",{attrs:{TABINDEX:"0",role:"menu"}})):this.startIndex=this.endIndex=null)},t.prototype.getEndIndex=function(){var e,t=this;return this.activeItem?this.items.forEach((function(i,s){i.url!==t.activeItem&&i.text!==t.activeItem||(e=s)})):e=this.items.length-1,e},t.prototype.initItems=function(){if(!this.items.length){var e=void 0,t=void 0,i=[];if(this.url){var s=new URL(this.url,window.location.origin);e=s.origin+"/",t=s.href.split(e)[1].split("/")}else e=window.location.origin+"/",t=window.location.href.split(e)[1].split("/");i.push({iconCss:"e-icons e-home",url:e});for(var n=0;n<t.length;n++)t[n]&&(i.push({text:t[n],url:e+t[n]}),e+=t[n]+"/");this.setProperties({items:i},!0)}},t.prototype.renderItems=function(e){var t,i,s=this,r=this.element.classList.contains(Ds),l=e.length;if(l){var o,a=void 0,d=void 0,h=0,c=void 0,p=2*l-1,u=!1,f=this.createElement("ol",{className:"Wrap"===this.overflowMode?"e-breadcrumb-wrapped-ol":""}),m=this.createElement("ol",{className:"Wrap"===this.overflowMode?"e-breadcrumb-first-ol":""}),v=this.hasField(e,"iconCss"),g="Collapsed"===this.overflowMode&&this._maxItems>0&&l>this._maxItems&&!this.isExpanded,y="Hidden"===this.overflowMode&&this._maxItems>0;"Menu"===this.overflowMode&&this.popupUl&&(this.popupUl.innerHTML="");for(var b={moduleName:this.getModuleName(),showIcon:v,itemNavigable:!0,itemCreated:function(e){var t=e.curData.isLastItem;t&&e.item.children.length&&!s.itemTemplate&&(delete e.curData.isLastItem,o||s.enableActiveItemNavigation||(e.item.innerHTML=s.createElement("span",{className:Ms,innerHTML:e.item.children[0].innerHTML}).outerHTML)),!e.curData.iconCss||e.curData.text||s.itemTemplate||e.item.classList.add("e-icon-item"),y&&e.item.setAttribute("item-index",h.toString());var i={item:(0,n.extend)({},e.curData.properties?e.curData.properties:e.curData),element:e.item,cancel:!1};s.trigger("beforeItemRender",i),u=i.cancel;var l=r||i.element.classList.contains(Ds);l&&e.curData.iconCss&&!s.itemTemplate&&e.item.querySelector(".e-anchor-wrap").appendChild(e.item.querySelector(_s+Hs)),i.item.disabled&&(e.item.setAttribute(Vs,"true"),e.item.classList.add(Fs)),(i.item.disabled||s.disabled)&&e.item.children.length&&!s.itemTemplate&&e.item.children[0].setAttribute(Ws,"-1"),e.curData.isEmptyUrl&&(e.item.children[0].removeAttribute("href"),!(!t||t&&s.enableActiveItemNavigation)||i.item.disabled||s.disabled||(e.item.children[0].setAttribute(Ws,"0"),n.EventHandler.add(e.item.children[0],"keydown",s.keyDownHandler,s))),e.item.removeAttribute("role"),t&&e.item.setAttribute("data-active-item",""),s.itemTemplate||s.beforeItemRenderChanges(e.curData,i.item,e.item,l)}},C=0;C<p;C%2&&h++,C++)if(a=this.activeItem&&(this.activeItem===e[h].url||this.activeItem===e[h].text),!(g&&C>1&&C<p-2)&&(!y||!(h<this.startIndex||h>this.endIndex)||C%2&&h===this.startIndex-1||0===h)){C%2?(c=this.createElement("div",{className:"e-breadcrumb-item-wrapper"}),this.separatorTemplate&&"/"===this.separatorTemplate||(0,n.isNullOrUndefined)(this.separatorTemplate)?b.template=(0,n.initializeCSPTemplate)((function(){return"/"})):b.template=this.separatorTemplate,b.itemClass="e-breadcrumb-separator",i=!1,t=[{previousItem:e[h],nextItem:e[h+1]}]):(b.itemClass="",this.itemTemplate?(b.template=this.itemTemplate,i=!1):i=!0,(t=[(0,n.extend)({},e[h].properties?e[h].properties:e[h])])[0].url||this.itemTemplate||(t=[(0,n.extend)({},t[0],{isEmptyUrl:!0,url:"#"})]),d=(y||"Menu"===this.overflowMode)&&h===this.endIndex,((C===p-1||d)&&!this.itemTemplate||a)&&(t[0].isLastItem=!0));var S=f,I=this.startIndex+this.endIndex-this._maxItems;if("Menu"===this.overflowMode&&(h>=this.startIndex&&h<=I&&(!(C%2)||h!==I)&&this.endIndex>=this._maxItems&&this._maxItems>0||0===this._maxItems)){if(C%2)continue;S=this.popupUl,d&&(o=!0)}else"Wrap"===this.overflowMode&&(S=0===C?m:c);var E=j.ListBase.createList(this.createElement,t,b,i,this).childNodes;if(u){if(y||g||"Menu"===this.overflowMode||"Wrap"===this.overflowMode)return e.splice(h,1),this.initPvtProps(),this.reRenderItems();(C===p-1||d)&&(0,n.remove)(S.lastElementChild)}else(0,n.append)(E,S);if("Wrap"===this.overflowMode&&0!==C&&C%2==0&&f.appendChild(c),g&&1===C){var x=this.createElement("li",{className:"e-icons e-breadcrumb-collapsed",attrs:{TABINDEX:"0"}});n.EventHandler.add(x,"keyup",this.expandHandler,this),f.appendChild(x)}if("Menu"===this.overflowMode&&this.startIndex===C&&this.endIndex>=this._maxItems&&this._maxItems>=0){var N=this.getMenuElement();n.EventHandler.add(N,"keyup",this.keyDownHandler,this),f.appendChild(N)}if(a||d)break;u&&C++}this.isReact&&this.renderReactTemplates(),"Wrap"===this.overflowMode&&this.element.appendChild(m),this.element.appendChild(f),this.calculateMaxItems()}},t.prototype.calculateMaxItems=function(){if("Hidden"===this.overflowMode||"Collapsed"===this.overflowMode||"Menu"===this.overflowMode){var e=void 0,t=this.element.offsetWidth,i=[].slice.call(this.element.children[0].children).reverse(),s="Menu"===this.overflowMode?0:i[i.length-1].offsetWidth+(i[i.length-2]?i[i.length-2].offsetWidth:0);if("Menu"===this.overflowMode){var r=this.getMenuElement();this.element.appendChild(r),s+=r.offsetWidth,(0,n.remove)(r)}for(var l=0;l<i.length-2;l++){if(s>t){if(e=Math.ceil((l-1)/2)+("Menu"===this.overflowMode&&l<=2?0:1),(this.maxItems>e&&!(this.maxItems>-1&&-1===e)||-1===this.maxItems)&&this._maxItems!==e)return this._maxItems=e,this.initPvtProps(),this.reRenderItems();break}if("Menu"===this.overflowMode&&2===l&&(s+=i[i.length-1].offsetWidth+i[i.length-2].offsetWidth)>t)return this._maxItems=1,this.initPvtProps(),this.reRenderItems();"Menu"===this.overflowMode&&i[l].classList.contains(Us)||(s+=i[l].offsetWidth)}}else if(("Wrap"===this.overflowMode||"Scroll"===this.overflowMode)&&this._maxItems>0&&(t=0,(i=this.element.querySelectorAll(_s+Rs)).length>this._maxItems+this._maxItems-1)){for(l="Wrap"===this.overflowMode?1:0;l<this._maxItems+this._maxItems-1;l++)t+=i[l].offsetWidth;t=t+5+2*parseInt(getComputedStyle(this.element.children[0]).paddingLeft,10),"Wrap"===this.overflowMode?this.element.querySelector(".e-breadcrumb-wrapped-ol").style.width=t+"px":this.element.style.width=t+"px"}},t.prototype.hasField=function(e,t){for(var i=0,s=e.length;i<s;i++)if(e[i][""+t])return!0;return!1},t.prototype.getMenuElement=function(){return this.createElement("li",{className:"e-icons e-breadcrumb-menu",attrs:{TABINDEX:"0"}})},t.prototype.beforeItemRenderChanges=function(e,t,i,s){var r=i.querySelector(".e-anchor-wrap");if(r&&r.parentElement.setAttribute("aria-label","home"),t.text!==e.text&&r.childNodes.forEach((function(e){e.nodeType===Node.TEXT_NODE&&(e.textContent=t.text)})),t.iconCss!==e.iconCss&&r){var l=i.querySelector(_s+Hs);if(l)t.iconCss?((0,n.removeClass)([l],e.iconCss.split(" ")),(0,n.addClass)([l],t.iconCss.split(" "))):(0,n.remove)(l);else if(t.iconCss){var o=this.createElement("span",{className:Hs+" "+t.iconCss});s?(0,n.append)([o],r):r.insertBefore(o,r.childNodes[0])}}if(t.url!==e.url&&this.enableNavigation){var a=i.querySelector("a."+Ms);a&&(t.url?a.setAttribute("href",t.url):a.removeAttribute("href"))}},t.prototype.reRenderItems=function(){this.element.innerHTML="",this.renderItems(this.items)},t.prototype.clickHandler=function(e){var t=(0,n.closest)(e.target,_s+Rs+":not(.e-breadcrumb-separator)");if(this.enableNavigation||e.preventDefault(),t&&((0,n.closest)(e.target,_s+Ms)||this.itemTemplate)){var i=void 0;i="Wrap"===this.overflowMode?[].slice.call(this.element.querySelectorAll(_s+Rs)).indexOf(t):[].slice.call(t.parentElement.children).indexOf(t),"Menu"===this.overflowMode?(0,n.closest)(e.target,_s+Bs)?(i+=this.startIndex,this.endIndex=i,"keydown"===e.type&&this.documentClickHandler(e)):this.element.querySelector(_s+Us)?i>[].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(_s+Us))?(i+=2*this.popupUl.childElementCount-2,i=Math.floor(i/2),this.endIndex=i):this.startIndex=this.endIndex=i:(i=Math.floor(i/2),this.startIndex=this.endIndex=i):i=Math.floor(i/2),"Hidden"===this.overflowMode&&this._maxItems>0&&0!==this.endIndex&&(i=parseInt(t.getAttribute("item-index"),10),this.startIndex>1&&(this.startIndex-=this.endIndex-i),this.endIndex=i),this.trigger("itemClick",{element:t,item:this.items[i],event:e}),this.activeItem=this.items[i].url||this.items[i].text,this.dataBind()}e.target.classList.contains("e-breadcrumb-collapsed")&&(this.isExpanded=!0,this.reRenderItems()),e.target.classList.contains(Us)&&!this.isPopupCreated&&this.renderPopup()},t.prototype.renderPopup=function(){var e=this,t=this.createElement("div",{className:Bs+" "+this.cssClass+(this.enableRtl?" e-rtl":"")});document.body.appendChild(t),this.isPopupCreated=!0,this.popupObj=new q.Popup(t,{content:this.popupUl,relateTo:this.element.querySelector(_s+Us),enableRtl:this.enableRtl,position:{X:"left",Y:"bottom"},collision:{X:"fit",Y:"flip"},open:function(){e.popupUl.focus()}}),this.popupWireEvents(),this.popupObj.show()},t.prototype.documentClickHandler=function(e){"Menu"===this.overflowMode&&this.popupObj&&this.popupObj.element.classList.contains("e-popup-open")&&!(0,n.closest)(e.target,_s+Us)&&(this.popupObj.hide(),this.popupObj.destroy(),this.isPopupCreated=!1,(0,n.detach)(this.popupObj.element))},t.prototype.resize=function(){this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems()},t.prototype.expandHandler=function(e){"Enter"===e.key&&(this.isExpanded=!0,this.reRenderItems())},t.prototype.keyDownHandler=function(e){"Enter"===e.key&&this.clickHandler(e)},t.prototype.popupKeyDownHandler=function(e){"Escape"===e.key&&this.documentClickHandler(e)},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"items":case"enableActiveItemNavigation":this.reRenderItems();break;case"activeItem":this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems();break;case"overflowMode":case"maxItems":this._maxItems=this.maxItems,this.initPvtProps(),this.reRenderItems(),"Wrap"===t.overflowMode?this.element.classList.remove(js):"Wrap"===e.overflowMode&&this.element.classList.add(js),"Scroll"===t.overflowMode?this.element.classList.remove(qs):"Scroll"===e.overflowMode&&this.element.classList.add(qs);break;case"url":this.initItems(),this.reRenderItems();break;case"cssClass":t.cssClass&&(0,n.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,n.addClass)([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" ")),(t.cssClass&&t.cssClass.indexOf(Ds)>-1&&!(e.cssClass&&e.cssClass.indexOf(Ds)>-1)||!(t.cssClass&&t.cssClass.indexOf(Ds)>-1)&&e.cssClass&&e.cssClass.indexOf(Ds)>-1)&&this.reRenderItems();break;case"enableRtl":this.element.classList.toggle("e-rtl");break;case"disabled":this.element.classList.toggle(Fs),this.element.setAttribute(Vs,e.disabled+"")}},t.prototype.wireEvents=function(){this.delegateClickHanlder=this.documentClickHandler.bind(this),n.EventHandler.add(document,"click",this.delegateClickHanlder,this),n.EventHandler.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resize.bind(this))},t.prototype.popupWireEvents=function(){n.EventHandler.add(this.popupObj.element,"click",this.clickHandler,this),n.EventHandler.add(this.popupObj.element,"keydown",this.popupKeyDownHandler,this)},t.prototype.unWireEvents=function(){n.EventHandler.remove(document,"click",this.delegateClickHanlder),n.EventHandler.remove(this.element,"click",this.clickHandler),window.removeEventListener("resize",this.resize.bind(this)),this.popupObj&&(n.EventHandler.remove(this.popupObj.element,"click",this.clickHandler),n.EventHandler.remove(this.popupObj.element,"keydown",this.popupKeyDownHandler))},t.prototype.getPersistData=function(){return this.addOnPersist(["activeItem"])},t.prototype.getModuleName=function(){return"breadcrumb"},t.prototype.destroy=function(){var t=this,i=[],s=["aria-label"];this.cssClass&&i.concat(this.cssClass.split(" ")),this.enableRtl&&i.push("e-rtl"),this.disabled&&(i.push(Fs),s.push(Vs)),"Wrap"===this.overflowMode?i.push(js):"Scroll"===this.overflowMode&&i.push(qs),this.unWireEvents(),this.element.innerHTML="",(0,n.removeClass)([this.element],i),s.forEach((function(e){t.element.removeAttribute(e)})),e.prototype.destroy.call(this)},Ps([(0,n.Property)("")],t.prototype,"url",void 0),Ps([(0,n.Collection)([],Xs)],t.prototype,"items",void 0),Ps([(0,n.Property)("")],t.prototype,"activeItem",void 0),Ps([(0,n.Property)(-1)],t.prototype,"maxItems",void 0),Ps([(0,n.Property)("Menu")],t.prototype,"overflowMode",void 0),Ps([(0,n.Property)("")],t.prototype,"cssClass",void 0),Ps([(0,n.Property)(null)],t.prototype,"itemTemplate",void 0),Ps([(0,n.Property)("/")],t.prototype,"separatorTemplate",void 0),Ps([(0,n.Property)(!0)],t.prototype,"enableNavigation",void 0),Ps([(0,n.Property)(!1)],t.prototype,"enableActiveItemNavigation",void 0),Ps([(0,n.Property)(!1)],t.prototype,"disabled",void 0),Ps([(0,n.Property)("")],t.prototype,"locale",void 0),Ps([(0,n.Event)()],t.prototype,"beforeItemRender",void 0),Ps([(0,n.Event)()],t.prototype,"itemClick",void 0),Ps([(0,n.Event)()],t.prototype,"created",void 0),Ps([n.NotifyPropertyChanges],t)}(n.Component),Ys=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gs=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},Qs="e-carousel",Js="e-active",Zs="e-rtl",$s="e-partial",en="e-swipe",tn="e-carousel-slide-container",sn="e-carousel-items",nn="e-carousel-item",rn="e-previous",ln="e-next",on="e-carousel-navigators",an="e-carousel-indicators",dn="e-indicator-bars",hn="e-indicator-bar",cn="e-indicator",pn="e-icons",un="e-play-pause",fn="e-play-icon",mn="e-pause-icon",vn="e-previous-button",gn="e-next-button",yn="e-play-button",bn="e-flat",Cn="e-round",Sn="e-hover-arrows",In="e-carousel-hover",En="e-template",xn="e-carousel-slide-animation",Nn="e-carousel-fade-animation",On="e-carousel-custom-animation",wn="e-carousel-animation-none",Ln="e-prev",kn="e-next",An="e-transition-start",Tn="e-transition-end";!function(e){e[e.Touch=1]="Touch",e[e.Mouse=2]="Mouse"}(zs||(zs={}));var Pn,Dn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ys(t,e),Gs([(0,n.Property)()],t.prototype,"cssClass",void 0),Gs([(0,n.Property)()],t.prototype,"interval",void 0),Gs([(0,n.Property)()],t.prototype,"template",void 0),Gs([(0,n.Property)()],t.prototype,"htmlAttributes",void 0),t}(n.ChildProperty),Mn=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.isSwipe=!1,s}return Ys(t,e),t.prototype.getModuleName=function(){return Qs.replace("e-","")},t.prototype.getPersistData=function(){return this.addOnPersist(["selectedIndex"])},t.prototype.preRender=function(){this.keyConfigs={home:"home",end:"end",space:"space",moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow"},this.localeObj=new n.L10n(this.getModuleName(),{nextSlide:"Next slide",of:"of",pauseSlideTransition:"Pause slide transition",playSlideTransition:"Play slide transition",previousSlide:"Previous slide",slide:"Slide",slideShow:"Slide show"},this.locale)},t.prototype.render=function(){this.initialize(),this.renderSlides(),this.renderNavigators(),this.renderPlayButton(),this.renderIndicators(),this.applyAnimation(),this.wireEvents()},t.prototype.onPropertyChanged=function(e,t){for(var i,s,r=0,l=Object.keys(e);r<l.length;r++){var o=l[r];switch(o){case"animationEffect":this.applyAnimation();break;case"cssClass":(0,n.classList)(this.element,[e.cssClass],[t.cssClass]);break;case"selectedIndex":this.setActiveSlide(this.selectedIndex,t.selectedIndex>this.selectedIndex?"Previous":"Next"),this.autoSlide();break;case"htmlAttributes":(0,n.isNullOrUndefined)(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element);break;case"enableTouchSwipe":!this.enableTouchSwipe&&this.touchModule&&this.touchModule.destroy(),this.element.querySelector("."+sn)&&this.renderTouchActions();break;case"loop":this.loop&&(0,n.isNullOrUndefined)(this.autoSlideInterval)&&this.applySlideInterval(),this.handleNavigatorsActions(this.selectedIndex),(this.partialVisible||this.swipeMode!==(~zs.Touch&~zs.Mouse))&&this.reRenderSlides();break;case"enableRtl":if((s=[].slice.call(this.element.querySelectorAll("."+vn+",\n                ."+gn+", ."+yn))).push(this.element),this.enableRtl?(0,n.addClass)(s,Zs):(0,n.removeClass)(s,Zs),this.partialVisible||this.swipeMode!==(~zs.Touch&~zs.Mouse)){var a=this.loop?this.getNumOfItems():0,d=this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(d,this.selectedIndex+a)}break;case"buttonsVisibility":if(i=this.element.querySelector("."+on))switch(this.buttonsVisibility){case"Hidden":this.resetTemplates(["previousButtonTemplate","nextButtonTemplate"]),(0,n.remove)(i);break;case"VisibleOnHover":(0,n.addClass)([].slice.call(i.childNodes),Sn);break;case"Visible":(0,n.removeClass)([].slice.call(i.childNodes),Sn)}else this.renderNavigators(),this.renderPlayButton();break;case"width":(0,n.setStyleAttribute)(this.element,{width:(0,n.formatUnit)(this.width)});break;case"height":(0,n.setStyleAttribute)(this.element,{height:(0,n.formatUnit)(this.height)});break;case"autoPlay":this.showPlayButton&&(0,n.isNullOrUndefined)(this.playButtonTemplate)&&this.playButtonClickHandler(null,!0),this.autoSlide();break;case"interval":this.autoSlide();break;case"showIndicators":case"indicatorsType":(i=this.element.querySelector("."+an))&&(this.resetTemplates(["indicatorsTemplate"]),(0,n.remove)(i)),this.renderIndicators();break;case"showPlayButton":i=this.element.querySelector("."+un),!this.showPlayButton&&i&&((0,n.remove)(i),this.resetTemplates(["playButtonTemplate"])),this.renderPlayButton();break;case"items":case"dataSource":var h="dataSource"===o?this.dataSource:this.items;h.length>0&&this.selectedIndex>=h.length&&(this.setActiveSlide(h.length-1,"Previous"),this.autoSlide()),this.reRenderSlides(),this.reRenderIndicators();break;case"partialVisible":this.partialVisible?(0,n.addClass)([this.element],$s):(0,n.removeClass)([this.element],$s),this.reRenderSlides();break;case"swipeMode":n.EventHandler.remove(this.element,"mousedown touchstart",this.swipeStart),n.EventHandler.remove(this.element,"mousemove touchmove",this.swiping),n.EventHandler.remove(this.element,"mouseup touchend",this.swipStop),this.swipeModehandlers(),this.reRenderSlides()}}},t.prototype.reRenderSlides=function(){var e=this.element.querySelector("."+sn);e&&(this.resetTemplates(["itemTemplate"]),(0,n.remove)(e)),this.renderSlides()},t.prototype.reRenderIndicators=function(){var e=this.element.querySelector("."+an);e&&(this.resetTemplates(["indicatorsTemplate"]),(0,n.remove)(e)),this.renderIndicators()},t.prototype.initialize=function(){var e=[];e.push(Qs),this.cssClass&&e.push(this.cssClass),this.enableRtl&&e.push(Zs),this.partialVisible&&e.push($s),this.swipeMode!==(~zs.Touch&~zs.Mouse)&&e.push(en),(0,n.addClass)([this.element],e),(0,n.setStyleAttribute)(this.element,{width:(0,n.formatUnit)(this.width),height:(0,n.formatUnit)(this.height)}),(0,n.attributes)(this.element,{role:"group","aria-roledescription":"carousel","aria-label":this.localeObj.getConstant("slideShow")}),(0,n.isNullOrUndefined)(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element)},t.prototype.renderSlides=function(){var e=this,t=this.element.querySelector("."+tn);t||(t=this.createElement("div",{className:tn,attrs:{tabindex:"0",role:"tabpanel"}}),this.element.appendChild(t)),this.itemsContainer=this.createElement("div",{className:sn,attrs:{"aria-live":this.autoPlay?"off":"polite"}}),t.appendChild(this.itemsContainer);var i=this.getNumOfItems();i>0&&this.loop&&(this.items.length>0?this.items.slice(-i).forEach((function(t,i){e.renderSlide(t,t.template,i,e.itemsContainer,!0)})):this.dataSource.length>0&&this.dataSource.slice(-i).forEach((function(t,i){e.renderSlide(t,e.itemTemplate,i,e.itemsContainer,!0)}))),this.items.length>0?(this.slideItems=this.items,this.items.forEach((function(t,i){e.renderSlide(t,t.template,i,e.itemsContainer)}))):this.dataSource.length>0&&(this.slideItems=this.dataSource,this.dataSource.forEach((function(t,i){e.renderSlide(t,e.itemTemplate,i,e.itemsContainer)}))),i>0&&this.loop&&(this.items.length>0?this.items.slice(0,i).forEach((function(t,i){e.renderSlide(t,t.template,i,e.itemsContainer,!0)})):this.dataSource.length>0&&this.dataSource.slice(0,i).forEach((function(t,i){e.renderSlide(t,e.itemTemplate,i,e.itemsContainer,!0)}))),this.renderTemplates(),this.itemsContainer.style.setProperty("--carousel-items-count",""+this.itemsContainer.children.length);var s=(0,n.isNullOrUndefined)(this.itemsContainer.firstElementChild)?0:this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transitionProperty="none";var r=this.loop?i:0;this.itemsContainer.style.transform=this.getTranslateX(s,this.selectedIndex+r),this.autoSlide(),this.renderTouchActions(),this.renderKeyboardActions()},t.prototype.getTranslateX=function(e,t){return void 0===t&&(t=1),this.enableRtl?"translateX("+e*t+"px)":"translateX("+-e*t+"px)"},t.prototype.renderSlide=function(e,t,i,s,r){void 0===r&&(r=!1);var l=this.createElement("div",{id:(0,n.getUniqueID)("carousel_item"),className:nn+" "+(e.cssClass?e.cssClass:"")+" "+(this.selectedIndex!==i||r?"":Js),attrs:{"aria-hidden":this.selectedIndex!==i||r?"true":"false","data-index":i.toString(),role:"group","aria-roledescription":"slide"}});r&&l.classList.add("e-cloned"),(0,n.isNullOrUndefined)(e.htmlAttributes)||this.setHtmlAttributes(e.htmlAttributes,l);var o=this.element.id+"_template",a=this.templateParser(t)(e,this,"itemTemplate",o,!1);(0,n.append)(a,l),s.appendChild(l)},t.prototype.renderNavigators=function(){if("Hidden"!==this.buttonsVisibility){var e=this.createElement("div",{className:on});this.element.querySelector("."+tn).insertAdjacentElement("afterend",e),!(0,n.isNullOrUndefined)(this.slideItems)&&this.slideItems.length>1&&(this.renderNavigatorButton("Previous"),this.renderNavigatorButton("Next")),this.renderTemplates()}},t.prototype.renderNavigatorButton=function(e){var t=this.createElement("div",{className:("Previous"===e?rn:ln)+" "+("VisibleOnHover"===this.buttonsVisibility?Sn:"")});if("Previous"===e&&this.previousButtonTemplate){(0,n.addClass)([t],En);var i=this.element.id+"_previousButtonTemplate",s=this.templateParser(this.previousButtonTemplate)({type:"Previous"},this,"previousButtonTemplate",i,!1);(0,n.append)(s,t)}else if("Next"===e&&this.nextButtonTemplate)(0,n.addClass)([t],En),i=this.element.id+"_nextButtonTemplate",s=this.templateParser(this.nextButtonTemplate)({type:"Next"},this,"nextButtonTemplate",i,!1),(0,n.append)(s,t);else{var r=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant("Previous"===e?"previousSlide":"nextSlide"),type:"button"}});new ue.Button({cssClass:bn+" "+Cn+" "+("Previous"===e?vn:gn),iconCss:pn+" "+("Previous"===e?"e-previous-icon":"e-next-icon"),enableRtl:this.enableRtl,disabled:!this.loop&&this.selectedIndex===("Previous"===e?0:this.slideItems.length-1)}).appendTo(r),t.appendChild(r)}this.element.querySelector("."+on).appendChild(t),n.EventHandler.add(t,"click",this.navigatorClickHandler,this)},t.prototype.renderPlayButton=function(){if(!((0,n.isNullOrUndefined)(this.slideItems)||"Hidden"===this.buttonsVisibility||!this.showPlayButton||this.slideItems.length<=1)){var e=this.createElement("div",{className:un+" "+("VisibleOnHover"===this.buttonsVisibility?Sn:"")});if(this.playButtonTemplate){(0,n.addClass)([e],En);var t=this.element.id+"_playButtonTemplate",i=this.templateParser(this.playButtonTemplate)({},this,"playButtonTemplate",t,!1);(0,n.append)(i,e)}else{var s=this.createElement("button",{attrs:{"aria-label":this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition"),type:"button"}}),r=this.selectedIndex===this.slideItems.length-1&&!this.loop,l=new ue.Button({cssClass:bn+" "+Cn+" "+yn,iconCss:pn+" "+(this.autoPlay&&!r?mn:fn),isToggle:!0,enableRtl:this.enableRtl});r&&(this.setProperties({autoPlay:!1},!0),s.setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),this.itemsContainer.setAttribute("aria-live","polite")),l.appendTo(s),e.appendChild(s)}var o=this.element.querySelector("."+on);o.insertBefore(e,o.lastElementChild),this.renderTemplates(),n.EventHandler.add(e,"click",this.playButtonClickHandler,this)}},t.prototype.renderIndicators=function(){var e=this;if(this.showIndicators){var t="e-default";this.indicatorsTemplate||(t="e-"+this.indicatorsType.toLowerCase());var i,s=this.createElement("div",{className:an+" "+t}),r=this.createElement("div",{className:dn});if(s.appendChild(r),this.slideItems)switch(this.indicatorsType){case"Fraction":this.indicatorsTemplate?this.renderIndicatorTemplate(r,this.selectedIndex+1):r.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?this.renderIndicatorTemplate(r,this.selectedIndex+1):((i=this.createElement("div",{className:hn})).style.setProperty("--carousel-items-current",""+(this.selectedIndex+1)),i.style.setProperty("--carousel-items-count",""+this.slideItems.length),r.appendChild(i));break;case"Default":case"Dynamic":this.slideItems.forEach((function(t,i){var s=e.createElement("div",{className:hn+" "+(e.selectedIndex===i?Js:e.selectedIndex-1===i?Ln:e.selectedIndex+1===i?kn:""),attrs:{"data-index":i.toString(),"aria-current":e.selectedIndex===i?"true":"false"}});if(s.style.setProperty("--carousel-items-current",""+e.selectedIndex),e.indicatorsTemplate)e.renderIndicatorTemplate(s,i);else if("Default"===e.indicatorsType){var l=e.createElement("button",{className:cn,attrs:{type:"button","aria-label":e.localeObj.getConstant("slide")+" "+(i+1)+" "+e.localeObj.getConstant("of")+" "+e.slideItems.length}});s.appendChild(l),l.appendChild(e.createElement("div",{})),new ue.Button({cssClass:"e-flat e-small"}).appendTo(l)}r.appendChild(s),"Default"===e.indicatorsType&&n.EventHandler.add(s,"click",e.indicatorClickHandler,e)}))}this.element.appendChild(s)}},t.prototype.renderIndicatorTemplate=function(e,t){void 0===t&&(t=0),(0,n.addClass)([e],En);var i=this.element.id+"_indicatorsTemplate",s=this.templateParser(this.indicatorsTemplate)({index:t,selectedIndex:this.selectedIndex},this,"indicatorsTemplate",i,!1);(0,n.append)(s,e)},t.prototype.renderKeyboardActions=function(){this.keyModule=new n.KeyboardEvents(this.element,{keyAction:this.keyHandler.bind(this),keyConfigs:this.keyConfigs})},t.prototype.renderTouchActions=function(){this.enableTouchSwipe&&(this.touchModule=new n.Touch(this.element,{swipe:this.swipeHandler.bind(this)}))},t.prototype.applyAnimation=function(){switch((0,n.removeClass)([this.element],[On,Nn,xn,wn]),this.animationEffect){case"Slide":(0,n.addClass)([this.element],xn);break;case"Fade":(0,n.addClass)([this.element],Nn);break;case"None":(0,n.addClass)([this.element],wn);break;case"Custom":(0,n.addClass)([this.element],On)}},t.prototype.autoSlide=function(){(0,n.isNullOrUndefined)(this.slideItems)||this.slideItems.length<=1||(this.resetSlideInterval(),this.applySlideInterval())},t.prototype.autoSlideChange=function(){var e=this.element.querySelector("."+Js);if(!(0,n.isNullOrUndefined)(e)){var t=parseInt(e.dataset.index,10);if(this.loop||t!==this.slideItems.length-1){var i=(t+1)%this.slideItems.length;this.element.classList.contains(In)||this.setActiveSlide(i,"Next"),this.autoSlide()}else this.resetSlideInterval()}},t.prototype.applySlideInterval=function(){var e=this;if(this.autoPlay&&!this.element.classList.contains(In)){var t=this.interval;this.items.length>0&&!(0,n.isNullOrUndefined)(this.items[this.selectedIndex].interval)&&(t=this.items[this.selectedIndex].interval),this.autoSlideInterval=setInterval((function(){return e.autoSlideChange()}),t)}},t.prototype.resetSlideInterval=function(){clearInterval(this.autoSlideInterval),this.autoSlideInterval=null},t.prototype.getSlideIndex=function(e){var t=this.selectedIndex;return"Previous"===e?--t<0&&(t=this.slideItems.length-1):++t===this.slideItems.length&&(t=0),t},t.prototype.setActiveSlide=function(e,t,i){var s=this;if(void 0===i&&(i=!1),!(this.element.querySelectorAll("."+nn+"."+Ln+",."+nn+"."+kn).length>0)){var r=[].slice.call(this.element.querySelectorAll("."+nn+":not(.e-cloned)")),l=this.element.querySelector("."+nn+"."+Js);if((0,n.isNullOrUndefined)(l)&&this.showIndicators){var o=this.element.querySelector("."+hn+"."+Js),a=parseInt(o.dataset.index,10);(0,n.addClass)([r[parseInt(a.toString(),10)]],Js)}else if((0,n.isNullOrUndefined)(l))(0,n.addClass)([r[parseInt(e.toString(),10)]],Js);else{var d=parseInt(l.dataset.index,10),h=r[parseInt(e.toString(),10)],c={currentIndex:d,nextIndex:e,currentSlide:l,nextSlide:h,slideDirection:t,isSwiped:i,cancel:!1};this.trigger("slideChanging",c,(function(l){if(!l.cancel){s.setProperties({selectedIndex:e},!0),(0,n.attributes)(l.currentSlide,{"aria-hidden":"true"}),(0,n.attributes)(l.nextSlide,{"aria-hidden":"false"}),s.refreshIndicators(d,e),s.slideChangedEventArgs={currentIndex:l.nextIndex,previousIndex:l.currentIndex,currentSlide:l.nextSlide,previousSlide:l.currentSlide,slideDirection:t,isSwiped:i};var o=r[parseInt(e.toString(),10)].clientWidth,a=s.getNumOfItems();s.isSwipe||(s.itemsContainer.style.transitionDuration="0.6s"),s.isSwipe=!1,"Fade"===s.animationEffect?s.itemsContainer.classList.add("e-fade-in-out"):s.itemsContainer.style.transitionProperty="transform",s.loop?0===s.slideChangedEventArgs.currentIndex&&"Next"===s.slideChangedEventArgs.slideDirection?s.itemsContainer.style.transform=s.getTranslateX(o,r.length+a):s.slideChangedEventArgs.currentIndex===s.slideItems.length-1&&"Previous"===s.slideChangedEventArgs.slideDirection?s.itemsContainer.style.transform=s.partialVisible?s.getTranslateX(o):"translateX(0px)":s.itemsContainer.style.transform=s.getTranslateX(o,e+a):s.itemsContainer.style.transform=s.getTranslateX(o,e),"Slide"===s.animationEffect?"Previous"===t?((0,n.addClass)([l.nextSlide],Ln),l.nextSlide.setAttribute("data-slide-height",l.nextSlide.offsetHeight.toString()),(0,n.addClass)([l.currentSlide,l.nextSlide],Tn)):((0,n.addClass)([l.nextSlide],kn),l.nextSlide.setAttribute("data-slide-height",l.nextSlide.offsetHeight.toString()),(0,n.addClass)([l.currentSlide,l.nextSlide],An)):"Fade"===s.animationEffect?((0,n.removeClass)([l.currentSlide],Js),(0,n.addClass)([l.nextSlide],Js)):"Custom"===s.animationEffect?"Previous"===t?((0,n.addClass)([l.nextSlide],kn),(0,n.addClass)([l.currentSlide],Ln)):((0,n.addClass)([l.currentSlide],Ln),(0,n.addClass)([l.nextSlide],kn)):s.onTransitionEnd(),s.handleNavigatorsActions(e)}}))}}},t.prototype.onTransitionEnd=function(){var e=this;(0,n.removeClass)(this.element.querySelectorAll("."+sn),"e-fade-in-out");var t=this.getNumOfItems();if(this.slideChangedEventArgs){if(this.itemsContainer.style.transitionProperty="none",this.loop&&(0===this.slideChangedEventArgs.currentIndex&&"Next"===this.slideChangedEventArgs.slideDirection||this.slideChangedEventArgs.currentIndex===this.slideItems.length-1&&"Previous"===this.slideChangedEventArgs.slideDirection)){var i=this.slideChangedEventArgs.currentSlide.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(i,this.slideChangedEventArgs.currentIndex+t)}(0,n.addClass)([this.slideChangedEventArgs.currentSlide],Js),(0,n.removeClass)([this.slideChangedEventArgs.previousSlide],Js),this.trigger("slideChanged",this.slideChangedEventArgs,(function(){(0,n.removeClass)(e.element.querySelectorAll("."+nn),[Ln,kn,An,Tn]),e.slideChangedEventArgs=null}))}},t.prototype.refreshIndicators=function(e,t){var i=this,s=this.element.querySelector("."+dn);if(!(0,n.isNullOrUndefined)(s)){var r=[].slice.call(s.childNodes);switch(this.indicatorsType){case"Default":case"Dynamic":(0,n.attributes)(r[parseInt(e.toString(),10)],{"aria-current":"false"}),(0,n.attributes)(r[parseInt(t.toString(),10)],{"aria-current":"true"}),(0,n.removeClass)(r,[Js,Ln,kn]),(0,n.addClass)([r[parseInt(t.toString(),10)]],Js),r[t-1]&&(0,n.addClass)([r[t-1]],Ln),r[t+1]&&(0,n.addClass)([r[t+1]],kn),r.forEach((function(e){return e.style.setProperty("--carousel-items-current",""+i.selectedIndex)}));break;case"Fraction":this.indicatorsTemplate?(s.children.length>0&&s.removeChild(s.firstElementChild),this.renderIndicatorTemplate(s,t+1)):s.innerText=this.selectedIndex+1+" / "+this.slideItems.length;break;case"Progress":this.indicatorsTemplate?(s.children.length>0&&s.removeChild(s.firstElementChild),this.renderIndicatorTemplate(s,t+1)):s.firstElementChild.style.setProperty("--carousel-items-current",""+(this.selectedIndex+1))}}},t.prototype.setHtmlAttributes=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){var r=s[i];"class"===r?(0,n.addClass)([t],e[""+r]):t.setAttribute(r,e[""+r])}},t.prototype.templateParser=function(e){if(e)try{return"function"!=typeof e&&document.querySelectorAll(e).length?(0,n.compile)(document.querySelector(e).innerHTML.trim()):(0,n.compile)(e)}catch(t){return(0,n.compile)(e)}},t.prototype.getNavigatorState=function(e,t){var i=e.querySelector("."+(t?vn:gn));return!!i&&(0,n.getInstance)(i,ue.Button).disabled},t.prototype.navigatorClickHandler=function(e){var t=e.currentTarget;if(!this.getNavigatorState(t,t.classList.contains(rn))){var i=t.classList.contains(rn)?"Previous":"Next";this.setActiveSlide(this.getSlideIndex(i),i),this.autoSlide()}},t.prototype.indicatorClickHandler=function(e){var t=(0,n.closest)(e.target,"."+hn),i=parseInt(t.dataset.index,10);this.selectedIndex!==i&&(this.setActiveSlide(i,this.selectedIndex>i?"Previous":"Next"),this.autoSlide())},t.prototype.playButtonClickHandler=function(e,t){void 0===t&&(t=!1);var i=this.element.querySelector("."+yn);if(i){var s=(0,n.getInstance)(i,ue.Button);t||this.setProperties({autoPlay:!this.autoPlay},!0),i.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),s.iconCss=pn+" "+(this.autoPlay?mn:fn),s.dataBind(),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite"),this.autoPlay&&!this.loop&&this.selectedIndex===this.slideItems.length-1&&this.setActiveSlide(0,"Next"),this.autoSlide()}},t.prototype.keyHandler=function(e){var t,i,s=!1,r=e.target;switch(e.preventDefault(),e.action){case"space":this.showIndicators&&r.classList.contains(cn)?r.click():r.classList.contains(Qs)||r.classList.contains(yn)?this.playButtonClickHandler(e):r.classList.contains(gn)?this.next():r.classList.contains(vn)&&this.prev();break;case"end":i=this.slideItems.length-1,t="Next",s=!0;break;case"home":i=0,t="Previous",s=!0;break;case"moveUp":case"moveLeft":case"moveDown":case"moveRight":this.showIndicators&&(0,n.isNullOrUndefined)(this.indicatorsTemplate)&&this.element.focus(),t="moveUp"===e.action||"moveLeft"===e.action?"Previous":"Next",i=this.getSlideIndex(t),s=!this.isSuspendSlideTransition(i,t)}s&&(this.setActiveSlide(i,t),this.autoSlide(),s=!1)},t.prototype.swipeHandler=function(e){if(!(this.element.classList.contains(In)||(0,n.isNullOrUndefined)(this.slideItems)||this.slideItems.length<=1)){var t="Right"===e.swipeDirection?"Previous":"Next",i=this.getSlideIndex(t);this.isSuspendSlideTransition(i,t)||(this.setActiveSlide(i,t,!0),this.autoSlide())}},t.prototype.isSuspendSlideTransition=function(e,t){return!this.loop&&("Next"===t&&0===e||"Previous"===t&&e===this.slideItems.length-1)},t.prototype.handleNavigatorsActions=function(e){if("Hidden"!==this.buttonsVisibility){if(this.showPlayButton){var t=this.element.querySelector("."+yn),i=this.selectedIndex===this.slideItems.length-1&&!this.loop,s=(0,n.isNullOrUndefined)(this.playButtonTemplate)&&t&&i;(0,n.isNullOrUndefined)(this.playButtonTemplate)&&t&&!i&&(s=!t.classList.contains(Js)),s&&(this.setProperties({autoPlay:!i},!0),t.setAttribute("aria-label",this.localeObj.getConstant(this.autoPlay?"pauseSlideTransition":"playSlideTransition")),this.itemsContainer.setAttribute("aria-live",this.autoPlay?"off":"polite"),(l=(0,n.getInstance)(t,ue.Button)).iconCss=pn+" "+(this.autoPlay?mn:fn),l.dataBind())}var r=this.element.querySelector("."+vn);r&&(0,n.isNullOrUndefined)(this.previousButtonTemplate)&&((l=(0,n.getInstance)(r,ue.Button)).disabled=!this.loop&&0===e,l.dataBind());var l,o=this.element.querySelector("."+gn);o&&(0,n.isNullOrUndefined)(this.nextButtonTemplate)&&((l=(0,n.getInstance)(o,ue.Button)).disabled=!this.loop&&e===this.slideItems.length-1,l.dataBind())}},t.prototype.onHoverActions=function(e){var t=this.element.querySelector("."+on);switch(e.type){case"mouseenter":"VisibleOnHover"===this.buttonsVisibility&&t&&(0,n.removeClass)([].slice.call(t.childNodes),Sn),this.pauseOnHover&&(0,n.addClass)([this.element],In);break;case"mouseleave":"VisibleOnHover"===this.buttonsVisibility&&t&&(0,n.addClass)([].slice.call(t.childNodes),Sn),(0,n.removeClass)([this.element],In)}this.autoSlide()},t.prototype.onFocusActions=function(e){switch(e.type){case"focusin":(0,n.addClass)([this.element],In);break;case"focusout":(0,n.removeClass)([this.element],In)}this.autoSlide()},t.prototype.destroyButtons=function(){for(var e=0,t=[].slice.call(this.element.querySelectorAll(".e-control.e-btn"));e<t.length;e++){var i=t[e],s=(0,n.getInstance)(i,ue.Button);s&&s.destroy()}},t.prototype.getNumOfItems=function(){return this.partialVisible?2:1},t.prototype.getTranslateValue=function(e){var t=getComputedStyle(e);return window.WebKitCSSMatrix?new WebKitCSSMatrix(t.webkitTransform).m41:0},t.prototype.swipeStart=function(e){this.timeStampStart||(this.timeStampStart=Date.now()),this.isSwipe=!1,this.itemsContainer.classList.add("e-swipe-start"),this.prevPageX=e.touches?e.touches[0].pageX:e.pageX,this.initialTranslate=this.getTranslateValue(this.itemsContainer)},t.prototype.swiping=function(e){if(this.itemsContainer.classList.contains("e-swipe-start")){e.preventDefault();var t=e.touches?e.touches[0].pageX:e.pageX,i=this.prevPageX-t;!this.loop&&(this.enableRtl&&(0===this.selectedIndex&&i>0||this.selectedIndex===this.itemsContainer.childElementCount-1&&i<0)||!this.enableRtl&&(0===this.selectedIndex&&i<0||this.selectedIndex===this.itemsContainer.childElementCount-1&&i>0))||(this.itemsContainer.style.transform="translateX("+(this.initialTranslate+(this.enableRtl?i:-i))+"px)")}},t.prototype.swipStop=function(){this.isSwipe=!0;var e=Date.now()-this.timeStampStart,t=this.getTranslateValue(this.itemsContainer)-this.initialTranslate;if(t=t<0?-1*t:t,this.isSwipe){var i=t*(n.Browser.isDevice?6:1.66);this.itemsContainer.style.transitionDuration=(n.Browser.isDevice?t:i)/e/10+"s"}var s=this.itemsContainer.firstElementChild.clientWidth/2;this.itemsContainer.classList.remove("e-swipe-start");var r=this.getTranslateValue(this.itemsContainer);r-this.initialTranslate<-s?this.swipeNavigation(!this.enableRtl):r-this.initialTranslate>s?this.swipeNavigation(this.enableRtl):(this.itemsContainer.style.transform="translateX("+this.initialTranslate+"px)","Fade"===this.animationEffect&&this.itemsContainer.classList.add("e-fade-in-out"))},t.prototype.swipeNavigation=function(e){e?this.next():this.prev()},t.prototype.swipeModehandlers=function(){(this.swipeMode&zs.Touch)===zs.Touch&&(n.EventHandler.add(this.itemsContainer,"touchstart",this.swipeStart,this),n.EventHandler.add(this.itemsContainer,"touchmove",this.swiping,this),n.EventHandler.add(this.itemsContainer,"touchend",this.swipStop,this)),(this.swipeMode&zs.Mouse)===zs.Mouse&&(n.EventHandler.add(this.itemsContainer,"mousedown",this.swipeStart,this),n.EventHandler.add(this.itemsContainer,"mousemove",this.swiping,this),n.EventHandler.add(this.itemsContainer,"mouseup",this.swipStop,this)),0===this.swipeMode&&(this.swipeMode&zs.Mouse&zs.Touch)==(zs.Mouse&zs.Touch)&&(n.EventHandler.add(this.itemsContainer,"mousedown touchstart",this.swipeStart,this),n.EventHandler.add(this.itemsContainer,"mousemove touchmove",this.swiping,this),n.EventHandler.add(this.itemsContainer,"mouseup touchend",this.swipStop,this))},t.prototype.resizeHandler=function(){if(this.itemsContainer&&this.itemsContainer.firstElementChild){var e=this.getNumOfItems(),t=this.itemsContainer.firstElementChild.clientWidth;this.itemsContainer.style.transform=this.getTranslateX(t,this.selectedIndex+e)}},t.prototype.wireEvents=function(){"Custom"!==this.animationEffect&&this.swipeModehandlers(),n.EventHandler.add(this.element,"focusin focusout",this.onFocusActions,this),n.EventHandler.add(this.element,"mouseenter mouseleave",this.onHoverActions,this),n.EventHandler.add(this.element.firstElementChild,"animationend",this.onTransitionEnd,this),n.EventHandler.add(this.element.firstElementChild,"transitionend",this.onTransitionEnd,this),n.EventHandler.add(window,"resize",this.resizeHandler,this)},t.prototype.unWireEvents=function(){var e=this;[].slice.call(this.element.querySelectorAll("."+hn)).forEach((function(t){n.EventHandler.remove(t,"click",e.indicatorClickHandler)})),[].slice.call(this.element.querySelectorAll("."+rn+",."+ln)).forEach((function(t){n.EventHandler.remove(t,"click",e.navigatorClickHandler)}));var t=this.element.querySelector("."+un);t&&n.EventHandler.remove(t,"click",this.playButtonClickHandler),n.EventHandler.remove(this.element.firstElementChild,"animationend",this.onTransitionEnd),n.EventHandler.remove(this.element.firstElementChild,"transitionend",this.onTransitionEnd),n.EventHandler.clearEvents(this.element),n.EventHandler.clearEvents(this.itemsContainer),n.EventHandler.remove(window,"resize",this.resizeHandler)},t.prototype.prev=function(){if(this.loop||0!==this.selectedIndex){var e=0===this.selectedIndex?this.slideItems.length-1:this.selectedIndex-1;this.setActiveSlide(e,"Previous"),this.autoSlide()}},t.prototype.next=function(){if(this.loop||this.selectedIndex!==this.slideItems.length-1){var e=this.selectedIndex===this.slideItems.length-1?0:this.selectedIndex+1;this.setActiveSlide(e,"Next"),this.autoSlide()}},t.prototype.play=function(){var e=this.element.querySelector("."+fn);this.showPlayButton&&e&&((0,n.classList)(e,[mn],[fn]),this.element.querySelector("."+yn).setAttribute("aria-label",this.localeObj.getConstant("pauseSlideTransition"))),this.setProperties({autoPlay:!0},!0),this.itemsContainer.setAttribute("aria-live","off"),this.applySlideInterval()},t.prototype.pause=function(){var e=this.element.querySelector("."+mn);this.showPlayButton&&e&&(this.element.querySelector("."+yn).setAttribute("aria-label",this.localeObj.getConstant("playSlideTransition")),(0,n.classList)(e,[fn],[mn])),this.setProperties({autoPlay:!1},!0),this.itemsContainer.setAttribute("aria-live","off"),this.resetSlideInterval()},t.prototype.renderTemplates=function(){(this.isAngular||this.isReact)&&this.renderReactTemplates()},t.prototype.resetTemplates=function(e){(this.isAngular||this.isReact)&&this.clearTemplate(e)},t.prototype.destroy=function(){var t=this;this.resetTemplates(),this.touchModule&&(this.touchModule.destroy(),this.touchModule=null),this.keyModule.destroy(),this.keyModule=null,this.resetSlideInterval(),this.destroyButtons(),this.unWireEvents(),[].slice.call(this.element.children).forEach((function(e){t.element.removeChild(e)})),(0,n.removeClass)([this.element],[Qs,this.cssClass,Zs,en]),["role","style"].forEach((function(e){t.element.removeAttribute(e)})),this.itemsContainer=null,e.prototype.destroy.call(this)},Gs([(0,n.Collection)([],Dn)],t.prototype,"items",void 0),Gs([(0,n.Property)("Slide")],t.prototype,"animationEffect",void 0),Gs([(0,n.Property)()],t.prototype,"previousButtonTemplate",void 0),Gs([(0,n.Property)()],t.prototype,"nextButtonTemplate",void 0),Gs([(0,n.Property)()],t.prototype,"indicatorsTemplate",void 0),Gs([(0,n.Property)()],t.prototype,"playButtonTemplate",void 0),Gs([(0,n.Property)()],t.prototype,"cssClass",void 0),Gs([(0,n.Property)([])],t.prototype,"dataSource",void 0),Gs([(0,n.Property)()],t.prototype,"itemTemplate",void 0),Gs([(0,n.Property)(0)],t.prototype,"selectedIndex",void 0),Gs([(0,n.Property)("100%")],t.prototype,"width",void 0),Gs([(0,n.Property)("100%")],t.prototype,"height",void 0),Gs([(0,n.Property)(5e3)],t.prototype,"interval",void 0),Gs([(0,n.Property)(!0)],t.prototype,"autoPlay",void 0),Gs([(0,n.Property)(!0)],t.prototype,"pauseOnHover",void 0),Gs([(0,n.Property)(!0)],t.prototype,"loop",void 0),Gs([(0,n.Property)(!1)],t.prototype,"showPlayButton",void 0),Gs([(0,n.Property)(!0)],t.prototype,"enableTouchSwipe",void 0),Gs([(0,n.Property)(!0)],t.prototype,"showIndicators",void 0),Gs([(0,n.Property)("Default")],t.prototype,"indicatorsType",void 0),Gs([(0,n.Property)("Visible")],t.prototype,"buttonsVisibility",void 0),Gs([(0,n.Property)(!1)],t.prototype,"partialVisible",void 0),Gs([(0,n.Property)(zs.Touch)],t.prototype,"swipeMode",void 0),Gs([(0,n.Property)()],t.prototype,"htmlAttributes",void 0),Gs([(0,n.Event)()],t.prototype,"slideChanging",void 0),Gs([(0,n.Event)()],t.prototype,"slideChanged",void 0),Gs([n.NotifyPropertyChanges],t)}(n.Component),Hn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Un=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},Rn="e-appbar",Bn="e-horizontal-bottom",jn="e-sticky",qn="e-prominent",Wn="e-dense",Fn="e-rtl",Vn="e-light",_n="e-dark",zn="e-primary",Xn="e-inherit",Kn=function(e){function t(t,i){return e.call(this,t,i)||this}return Hn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.element.classList.remove(Rn),this.element.removeAttribute("style"),this.element.removeAttribute("role")},t.prototype.getModuleName=function(){return"appbar"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.preRender=function(){},t.prototype.render=function(){this.element.classList.add(Rn),"HEADER"!==this.element.tagName&&this.element.setAttribute("role","header"),this.cssClass&&(0,n.addClass)([this.element],this.cssClass.split(" ")),"Bottom"===this.position&&this.element.classList.add(Bn),this.isSticky&&this.element.classList.add(jn),this.enableRtl&&this.element.classList.add(Fn),this.setHeightMode(),this.setColorMode(),(0,n.isNullOrUndefined)(this.htmlAttributes)||this.setHtmlAttributes(this.htmlAttributes,this.element)},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"mode":(0,n.removeClass)([this.element],[Wn,qn]),this.setHeightMode();break;case"position":"Bottom"===this.position?(0,n.addClass)([this.element],Bn):(0,n.removeClass)([this.element],Bn);break;case"cssClass":t.cssClass&&(0,n.removeClass)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,n.addClass)([this.element],e.cssClass.split(" "));break;case"isSticky":this.isSticky?(0,n.addClass)([this.element],jn):(0,n.removeClass)([this.element],jn);break;case"htmlAttributes":if(!(0,n.isNullOrUndefined)(this.htmlAttributes)){if(!(0,n.isNullOrUndefined)(t.htmlAttributes))for(var r=0,l=Object.keys(t.htmlAttributes);r<l.length;r++){var o=l[r];"class"===o?(0,n.removeClass)([this.element],t.htmlAttributes[""+o]):this.element.removeAttribute(o)}this.setHtmlAttributes(e.htmlAttributes,this.element)}break;case"colorMode":(0,n.removeClass)([this.element],[_n,zn,Xn,Vn]),this.setColorMode();break;case"enableRtl":this.enableRtl?(0,n.addClass)([this.element],Fn):(0,n.removeClass)([this.element],Fn)}},t.prototype.setHtmlAttributes=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++){var r=s[i];"class"===r?(0,n.addClass)([t],e[""+r]):t.setAttribute(r,e[""+r])}},t.prototype.setHeightMode=function(){"Prominent"===this.mode?this.element.classList.add(qn):"Dense"===this.mode&&this.element.classList.add(Wn)},t.prototype.setColorMode=function(){switch(this.colorMode){case"Light":this.element.classList.add(Vn);break;case"Dark":this.element.classList.add(_n);break;case"Primary":this.element.classList.add(zn);break;case"Inherit":this.element.classList.add(Xn)}},Un([(0,n.Property)("Regular")],t.prototype,"mode",void 0),Un([(0,n.Property)("Top")],t.prototype,"position",void 0),Un([(0,n.Property)()],t.prototype,"cssClass",void 0),Un([(0,n.Property)(!1)],t.prototype,"isSticky",void 0),Un([(0,n.Property)()],t.prototype,"htmlAttributes",void 0),Un([(0,n.Property)("Light")],t.prototype,"colorMode",void 0),Un([(0,n.Event)()],t.prototype,"created",void 0),Un([(0,n.Event)()],t.prototype,"destroyed",void 0),Un([n.NotifyPropertyChanges],t)}(n.Component),Yn=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),Gn=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l};!function(e){e.NotStarted="NotStarted",e.InProgress="InProgress",e.Completed="Completed"}(Pn||(Pn={}));var Qn,Jn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Yn(t,e),Gn([(0,n.Property)("")],t.prototype,"cssClass",void 0),Gn([(0,n.Property)(!1)],t.prototype,"disabled",void 0),Gn([(0,n.Property)("")],t.prototype,"iconCss",void 0),Gn([(0,n.Property)(null)],t.prototype,"isValid",void 0),Gn([(0,n.Property)("")],t.prototype,"label",void 0),Gn([(0,n.Property)(!1)],t.prototype,"optional",void 0),Gn([(0,n.Property)(Pn.NotStarted)],t.prototype,"status",void 0),Gn([(0,n.Property)("")],t.prototype,"text",void 0),t}(n.ChildProperty);!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical"}(Qn||(Qn={}));var Zn,$n,er=function(e){function t(t,i){return e.call(this,t,i)||this}return Yn(t,e),t.prototype.preRender=function(){},t.prototype.getModuleName=function(){return"stepperBase"},t.prototype.getPersistData=function(){return this.addOnPersist([])},t.prototype.render=function(){},t.prototype.updateOrientaion=function(e){(e.classList.contains("e-horizontal")||e.classList.contains("e-vertical"))&&(e.classList.contains("e-horizontal")?e.classList.remove("e-horizontal"):e.classList.remove("e-vertical")),e.classList.add("e-"+this.orientation.toLocaleLowerCase())},t.prototype.renderProgressBar=function(e){this.progressStep=this.createElement("div",{className:"e-stepper-progressbar"}),this.progressbar=this.createElement("div",{className:"e-progressbar-value"}),this.progressStep.appendChild(this.progressbar),e.prepend(this.progressStep),this.progressbar.style.setProperty("--progress-value","0%");var t=e.querySelector("li").querySelector(".e-step-label-container");if(e.classList.contains("e-vertical"))if(e.classList.contains("e-label-bottom")||e.classList.contains("e-label-top")){var i=e.querySelector(".e-stepper-steps");this.progressStep.style.setProperty("--progress-position",i.offsetWidth/2+"px")}else this.progressStep.style.setProperty("--progress-position",this.progressBarPosition/2-1+"px");t&&t.classList.contains("e-label-before")&&this.progressStep.style.setProperty("--progress-position",this.progressBarPosition-1+5+"px"),e.classList.contains("e-horizontal")&&this.setProgressPosition(e)},t.prototype.setProgressPosition=function(e,t){var i=e.querySelector(".e-step-container"),s=i.firstElementChild;if(1!=t){var n;n=e.classList.contains("e-label-before")?i.offsetParent.offsetHeight-s.offsetHeight/2-1:s.offsetHeight/2,this.progressStep.style.setProperty("--progress-top-position",n+"px")}var r=e.querySelector(".e-stepper-steps").lastChild.firstChild;if(e.classList.contains("e-rtl")){var l=s.offsetLeft+s.offsetWidth-e.querySelector(".e-stepper-steps").offsetWidth;this.progressStep.style.setProperty("--progress-left-position",Math.abs(l)+"px"),this.progressStep.style.setProperty("--progress-bar-width",Math.abs(r.offsetLeft-s.offsetLeft)+"px")}else this.progressStep.style.setProperty("--progress-left-position",s.offsetLeft+1+"px"),this.progressStep.style.setProperty("--progress-bar-width",r.offsetWidth+r.offsetLeft-2-(s.offsetLeft+2)+"px")},t.prototype.onPropertyChanged=function(e,t){},Gn([(0,n.Collection)([],Jn)],t.prototype,"steps",void 0),Gn([(0,n.Property)("")],t.prototype,"cssClass",void 0),Gn([(0,n.Property)(!1)],t.prototype,"readOnly",void 0),Gn([(0,n.Property)(Qn.Horizontal)],t.prototype,"orientation",void 0),Gn([(0,n.Event)()],t.prototype,"created",void 0),Gn([n.NotifyPropertyChanges],t)}(n.Component),tr=function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},e(t,i)};return function(t,i){function s(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(s.prototype=i.prototype,new s)}}(),ir=function(e,t,i,s){var n,r=arguments.length,l=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,i,s);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(l=(r<3?n(l):r>3?n(t,i,l):n(t,i))||l);return r>3&&l&&Object.defineProperty(t,i,l),l},sr="e-indicator",nr="e-step-text-container",rr="e-step-selected",lr="e-step-inprogress",or="e-step-notstarted",ar="e-step-focus",dr="e-step-completed",hr="e-step-disabled",cr="e-stepper-readonly",pr="--progress-value",ur="e-rtl",fr="e-step-template",mr="e-label-after",vr="e-label-before",gr="e-vertical",yr="e-horizontal",br="e-step-icon",Cr="e-step-text",Sr="e-text",Ir="e-step-label",Er="e-label",xr="e-step-type-indicator",Nr="e-step-type-label",Or="e-stepper-tooltip",wr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tr(t,e),ir([(0,n.Property)(!0)],t.prototype,"enable",void 0),ir([(0,n.Property)(2e3)],t.prototype,"duration",void 0),ir([(0,n.Property)(0)],t.prototype,"delay",void 0),t}(n.ChildProperty);!function(e){e.Top="Top",e.Bottom="Bottom",e.Start="Start",e.End="End"}(Zn||(Zn={})),function(e){e.Default="Default",e.Label="Label",e.Indicator="Indicator"}($n||($n={}));var Lr=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.stepperItemElements=[],s}return tr(t,e),t.prototype.preRender=function(){this.element.id||(this.element.id=(0,n.getUniqueID)("e-"+this.getModuleName())),this.l10n=new n.L10n("stepper",{optional:"Optional"},this.locale),this.keyConfigs={downarrow:"downarrow",leftarrow:"leftarrow",rightarrow:"rightarrow",uparrow:"uparrow",space:"space",enter:"enter",home:"home",end:"end",tab:"tab",shiftTab:"shift+tab",escape:"escape"},this.tooltipOpen=!1},t.prototype.getModuleName=function(){return"stepper"},t.prototype.render=function(){this.initialize(),this.navigationHandler(this.activeStep,null,!1),this.updateStepperStatus(!0)},t.prototype.initialize=function(){var e=this;this.element.setAttribute("aria-label",this.element.id),this.updatePosition(),this.stepperItemList=this.createElement("ol",{className:"e-stepper-steps"}),this.updateOrientaion(this.element),this.updateStepType(),this.element.appendChild(this.stepperItemList),this.cssClass&&(0,n.addClass)([this.element],this.cssClass.trim().split(" ")),this.readOnly&&this.element.classList.add(cr),this.enableRtl&&this.element.classList.add(ur),this.wireEvents(),this.updateTemplateFunction(),this.renderItems(),this.steps.length>0&&(this.steps.length>1&&(this.isAngular&&this.template?setTimeout((function(){e.renderProgressBar(e.element)})):this.renderProgressBar(this.element)),this.checkValidStep(),this.updateAnimation(),this.updateTooltip(),this.wireKeyboardEvent())},t.prototype.updatePosition=function(){this.progressBarPosition=this.beforeLabelWidth=this.textEleWidth=0},t.prototype.renderDefault=function(e){return!(this.steps[parseInt(e.toString(),10)].iconCss||this.steps[parseInt(e.toString(),10)].text||this.steps[parseInt(e.toString(),10)].label)},t.prototype.updateAnimation=function(){var e=this.element.querySelector(".e-progressbar-value");this.animation.enable?(this.animation.duration>=0&&e&&e.style.setProperty("--duration",this.animation.duration+"ms"),this.animation.delay>=0&&e&&e.style.setProperty("--delay",this.animation.delay+"ms")):e&&(e.style.setProperty("--delay","0ms"),e.style.setProperty("--duration","0ms"))},t.prototype.updateStepType=function(){this.stepType.toLowerCase(),"default"!==this.stepType.toLowerCase()&&this.element.classList.add("e-step-type-"+this.stepType.toLowerCase()),this.stepType.toLowerCase(),this.labelContainer&&this.clearLabelPosition()},t.prototype.wireEvents=function(){var e=this;n.EventHandler.add(window,"resize",(function(){e.stepperItemList&&e.progressbar&&e.element.classList.contains(yr)&&e.setProgressPosition(e.element,!0)}),this),n.EventHandler.add(window,"click",(function(){e.updateStepFocus()}),this)},t.prototype.updateStepFocus=function(){if(this.isKeyNavFocus){this.isKeyNavFocus=!1;var e=this.element.querySelector("."+ar);e&&(e.classList.remove(ar),this.element.classList.remove("e-steps-focus"))}},t.prototype.updateStepperStatus=function(e){for(var t=0;t<this.steps.length;t++){var i=this.steps[parseInt(t.toString(),10)],s=i.status.toLowerCase();if(e&&0===this.activeStep&&0===t&&(i.status=Pn.InProgress),i&&"notstarted"!==s&&t===this.activeStep)for(var n=0;n<this.steps.length;n++){var r=this.stepperItemElements[parseInt(n.toString(),10)];r.classList.remove(rr,lr,dr,or);var l=this.isProtectedOnChange;this.isProtectedOnChange=!0,"completed"===s?this.updateStatusClass(n,t,r):this.updateStatusClass(n,t,r,!0),this.isProtectedOnChange=l}else i&&"notstarted"!==s&&t!==this.activeStep&&this.navigationHandler(this.activeStep,null,!0)}},t.prototype.updateStatusClass=function(e,t,i,s){var n=this.steps[parseInt(e.toString(),10)];e<t?(i.classList.add(dr),n.status=Pn.Completed):e===t?i.classList.add(s?lr:dr,rr):i.classList.add(or)},t.prototype.renderItems=function(){for(var e=this,t=0;t<this.steps.length;t++){this.stepperItemContainer=this.createElement("li",{className:"e-step-container"}),this.stepperItemContainer.classList[0===t?"add":"remove"](rr,lr),this.stepperItemContainer.classList[0!==t?"add":"remove"](or),this.element.classList.contains(yr)&&this.stepperItemContainer.style.setProperty("--max-width",100/this.steps.length+"%");var i=this.createElement("span",{className:"e-step"});if(this.renderDefault(t)&&((0,n.isNullOrUndefined)(this.template)||""===this.template)){var s=!this.element.classList.contains("e-step-type-default")&&"indicator"===this.stepType.toLowerCase();s&&i.classList.add("e-icons","e-step-indicator"),s||(i.classList.add("e-step-content"),i.innerHTML=(t+1).toString()),this.stepperItemContainer.appendChild(i)}else if((0,n.isNullOrUndefined)(this.template)||""===this.template){var r=!0,l=this.steps[parseInt(t.toString(),10)];if(l.iconCss&&(!l.text&&!l.label||!this.element.classList.contains(Nr))){var o=l.iconCss.trim().split(" ");i.classList.add(sr);for(var a=0;a<o.length;a++)i.classList.add(o[parseInt(a.toString(),10)]);this.stepperItemContainer.appendChild(i),this.stepperItemContainer.classList.add(br),(this.element.classList.contains(yr)&&("start"===this.labelPosition.toLowerCase()||"end"===this.labelPosition.toLowerCase())&&l.label||this.element.classList.contains(gr)&&("top"===this.labelPosition.toLowerCase()||"bottom"===this.labelPosition.toLowerCase())&&l.label)&&(this.element.classList.add("e-label-"+this.labelPosition.toLowerCase()),(h=this.createElement("span",{className:nr+" "+Sr})).innerText=l.label,this.stepperItemContainer.appendChild(h),this.stepperItemContainer.classList.add(Cr),r=!1)}if(l.text&&(!l.iconCss||!this.element.classList.contains(xr))&&r&&(!l.iconCss||!l.label))if(!l.iconCss&&this.element.classList.contains(xr)){this.checkValidState(l,i);var d=this.isProtectedOnChange;this.isProtectedOnChange=!0,l.label=null,this.isProtectedOnChange=d}else{this.textContainer=this.createElement("span",{className:nr});var h=this.createElement("span",{className:Sr});if(l.label||(h.innerText=l.text,null===l.isValid||l.iconCss&&!this.element.classList.contains(Nr)?h.classList.add(nr):this.textContainer.appendChild(h),this.stepperItemContainer.appendChild(null===l.isValid||l.iconCss&&!this.element.classList.contains(Nr)?h:this.textContainer),this.stepperItemContainer.classList.add(Cr)),(!l.iconCss||this.element.classList.contains(Nr))&&(this.stepperItemContainer.classList.add("e-step-text-only"),!l.label&&null!==l.isValid)){var c=this.createElement("span",{className:"e-step-validation-icon e-icons"});this.textContainer.appendChild(c)}l.label&&this.element.classList.contains(Nr)&&(h.innerText=l.label),d=this.isProtectedOnChange,this.isProtectedOnChange=!0,l.text=l.label?null:l.text,this.isProtectedOnChange=d}if(l.cssClass&&(0,n.addClass)([this.stepperItemContainer],l.cssClass.trim().split(" ")),l.disabled&&(this.stepperItemContainer.classList[l.disabled?"add":"remove"](hr),(0,n.attributes)(this.stepperItemContainer,{tabindex:"-1","aria-disabled":"true"})),l.label&&(!l.iconCss||!this.element.classList.contains(xr))&&r)if(l.iconCss||l.text||!this.element.classList.contains(xr)){if(!this.element.classList.contains(Nr)||!l.text||this.element.classList.contains(Nr)&&l.label){this.labelContainer=this.createElement("span",{className:"e-step-label-container"});var p=this.createElement("span",{className:Er});p.innerText=l.label,this.labelContainer.appendChild(p),this.stepperItemContainer.classList.add(Ir),this.updateLabelPosition(),(l.iconCss||l.text)&&!this.element.classList.contains(Nr)||(this.stepperItemContainer.classList.add("e-step-label-only"),null===l.isValid)||(c=this.createElement("span",{className:"e-step-validation-icon e-icons"}),this.labelContainer.appendChild(c))}}else this.checkValidState(l,i,!0);if(l.optional){var u=this.createElement("span",{className:"e-step-label-optional"});this.l10n.setLocale(this.locale);var f=this.l10n.getConstant("optional");u.innerText=f,l.label&&this.labelContainer&&(this.element.classList.contains(mr)&&!this.stepperItemContainer.classList.contains("e-step-label-only")||this.element.classList.contains(yr)&&this.element.classList.contains(vr)&&!this.stepperItemContainer.classList.contains("e-step-label-only"))||this.element.classList.contains(gr)&&this.element.classList.contains(vr)?this.labelContainer.appendChild(u):this.stepperItemContainer.appendChild(u)}null!==l.isValid&&(l.isValid?this.stepperItemContainer.classList.add("e-step-valid"):this.stepperItemContainer.classList.add("e-step-error"))}this.renderItemContent(t,!1),this.stepperItemContainer.classList.contains(lr)?(0,n.attributes)(this.stepperItemContainer,{tabindex:"0","aria-current":"true"}):(0,n.attributes)(this.stepperItemContainer,{tabindex:"-1"}),this.wireItemsEvents(this.stepperItemContainer,t),this.stepperItemElements.push(this.stepperItemContainer);var m={element:this.stepperItemContainer,index:t};this.trigger("beforeStepRender",m,(function(t){e.stepperItemList.appendChild(t.element)})),this.isAngular&&this.template?setTimeout((function(){e.calculateProgressBarPosition()})):this.calculateProgressBarPosition()}if(this.element.classList.contains(gr)&&this.element.classList.contains(vr)){var v=this.stepperItemList.querySelectorAll("."+Er);for(a=0;a<v.length;a++)v[parseInt(a.toString(),10)].style.setProperty("--label-width",this.beforeLabelWidth+5+"px")}},t.prototype.calculateProgressBarPosition=function(){var e=!!this.element.classList.contains(vr);if(this.element.classList.contains(gr)){var t=!(!this.stepperItemContainer.classList.contains(br)||this.stepperItemContainer.classList.contains(Cr)||this.stepperItemContainer.classList.contains(Ir)),i=this.stepperItemContainer.querySelector("."+nr);if(i&&(this.textEleWidth=this.textEleWidth<i.offsetWidth?i.offsetWidth:this.textEleWidth),e){var s=void 0,n=this.stepperItemContainer.querySelector("."+Er).offsetWidth+15;this.beforeLabelWidth<n&&(this.beforeLabelWidth=n),this.element.querySelector("ol").lastChild.querySelector("."+sr)?s=this.beforeLabelWidth+this.stepperItemContainer.querySelector("."+sr).offsetWidth/2:this.stepperItemContainer.querySelector("."+nr)&&(s=this.beforeLabelWidth+this.stepperItemContainer.querySelector("."+nr).offsetWidth/2),this.progressBarPosition<s&&(this.progressBarPosition=s)}else this.progressBarPosition<(t?this.stepperItemContainer.offsetWidth:this.element.querySelector("ol").lastChild.firstChild.offsetWidth)&&(this.progressBarPosition=t?this.stepperItemContainer.offsetWidth:this.element.querySelector("ol").lastChild.firstChild.offsetWidth)}},t.prototype.checkValidState=function(e,t,i){null==e.isValid?(t.classList.add("e-step-content"),t.innerHTML=i||e.label?e.label:e.text,this.stepperItemContainer.appendChild(t)):(t.classList.add(sr),this.stepperItemContainer.appendChild(t),this.stepperItemContainer.classList.add(br))},t.prototype.updateCurrentLabel=function(){return this.element.classList.contains(yr)?"top"===this.labelPosition.toLowerCase()?"before":"bottom"===this.labelPosition.toLowerCase()?"after":this.labelPosition.toLowerCase():"start"===this.labelPosition.toLowerCase()?"before":"end"===this.labelPosition.toLowerCase()?"after":this.labelPosition.toLowerCase()},t.prototype.updateLabelPosition=function(){this.clearLabelPosition(),this.labelContainer.classList.add("e-label-"+this.updateCurrentLabel()),"start"===this.labelPosition.toLowerCase()&&"vertical"===this.orientation.toLowerCase()&&this.stepperItemContainer.firstChild?this.stepperItemContainer.firstChild.before(this.labelContainer):this.stepperItemContainer.appendChild(this.labelContainer),this.element.classList.add("e-label-"+this.updateCurrentLabel())},t.prototype.clearLabelPosition=function(){var e=this.labelContainer.classList.value.match(/(e-label-[after|before]+)/g);e&&((0,n.removeClass)([this.labelContainer],e),(0,n.removeClass)([this.element],e))},t.prototype.checkValidStep=function(){for(var e=0;e<this.steps.length;e++){var t=this.steps[parseInt(e.toString(),10)],i=this.stepperItemElements[parseInt(e.toString(),10)];if(null!==t.isValid){var s=void 0,n=void 0;this.element.classList.contains(xr)&&!t.iconCss?s=i.querySelector("."+sr):n=i.querySelector("."+sr);var r=i.querySelector(".e-step-validation-icon"),l=t.iconCss.trim().split(" "),o=i.classList.contains("e-step-valid");if(s&&s.classList.add("e-icons",o?"e-check":"e-circle-info"),n){for(var a=0;a<l.length;a++)n.classList.remove(l[parseInt(a.toString(),10)]);n.classList.add("e-icons",o?"e-check":"e-circle-info")}if(r&&(r.classList.add(o?"e-circle-check":"e-circle-info"),this.element.classList.contains(gr))){var d=i.querySelector("."+Er),h=i.querySelector("."+Sr),c=h?h.offsetWidth+h.getBoundingClientRect().left:d.offsetWidth+d.getBoundingClientRect().left;i.querySelector(".e-step-validation-icon").style.setProperty("--icon-position",c+20+"px")}}}},t.prototype.updateTooltip=function(){this.showTooltip?(this.tooltipObj=new q.Tooltip({target:".e-step-container",windowCollision:!0,opensOn:"Custom",cssClass:this.cssClass?Or+" "+this.cssClass:Or,position:"TopCenter"}),this.tooltipObj.appendTo(this.stepperItemList)):(0,n.isNullOrUndefined)(this.tooltipObj)||(this.tooltipObj.destroy(),this.tooltipObj=null)},t.prototype.wireItemsEvents=function(e,t){var i=this;n.EventHandler.add(e,"click",(function(s){if(i.linear){var n=t-i.activeStep;1===Math.abs(n)&&i.stepClickHandler(t,s,e)}else i.stepClickHandler(t,s,e)}),this),n.EventHandler.add(e,"mouseover",(function(){return i.openStepperTooltip(t)}),this),n.EventHandler.add(e,"mouseleave",(function(){return i.closeStepperTooltip()}),this)},t.prototype.openStepperTooltip=function(e){var t=this.steps[parseInt(e.toString(),10)];if(this.showTooltip&&(t.label||t.text)&&!this.tooltipOpen){if(this.updateTooltipContent(e),this.tooltipObj.open(this.stepperItemElements[parseInt(e.toString(),10)]),"label"!==this.stepType.toLocaleLowerCase()&&("indicator"===this.stepType.toLocaleLowerCase()||""!==t.label&&""!==t.iconCss)){var i="inprogress"===t.status.toLowerCase()?Or+" e-step-inprogress-tip "+(this.cssClass?this.cssClass:""):Or+" "+(this.cssClass?this.cssClass:"");this.tooltipObj.setProperties({cssClass:i.trim()})}this.tooltipOpen=!0}},t.prototype.closeStepperTooltip=function(){this.tooltipOpen&&(this.tooltipObj.close(),this.tooltipOpen=!1)},t.prototype.updateTooltipContent=function(e){if(this.showTooltip){this.isReact&&this.clearTemplate(["stepperTooltipTemplate"]);var t=void 0,i=this.steps[parseInt(e.toString(),10)];if(this.tooltipTemplate){t=this.createElement("span",{className:"e-stepper-tooltip-content"});var s=this.getTemplateFunction(this.tooltipTemplate);(0,n.append)(s({value:i},this,"stepperTooltipTemplate",this.element.id+"tooltipTemplate",this.isStringTemplate),t),this.tooltipObj.setProperties({content:t},!0)}else{var r=i.label?i.label:i.text;this.tooltipObj.setProperties({content:(0,n.initializeCSPTemplate)((function(){return r}))},!0)}this.renderReactTemplates()}},t.prototype.stepClickHandler=function(e,t,i){var s={element:i,event:t,previousStep:this.activeStep,activeStep:e};this.trigger("stepClick",s),this.navigateToStep(e,t,i,!0)},t.prototype.updateTemplateFunction=function(){this.templateFunction=this.template?this.getTemplateFunction(this.template):null},t.prototype.renderItemContent=function(e,t){var i=this.stepperItemList.querySelectorAll("li");if(t&&this.removeItemContent(i[parseInt(e.toString(),10)]),this.template){t?i[parseInt(e.toString(),10)].classList.add(fr):this.stepperItemContainer.classList.add(fr);var s=this.steps[parseInt(e.toString(),10)];(0,n.append)(this.templateFunction({step:s,currentStep:e},this,"stepperTemplate",this.element.id+"_stepperTemplate",this.isStringTemplate),t?i[parseInt(e.toString(),10)]:this.stepperItemContainer)}this.renderReactTemplates()},t.prototype.removeItemContent=function(e){e.classList.remove(fr);for(var t=e.firstElementChild,i=0;i<e.childElementCount;i++)t.remove()},t.prototype.updateContent=function(){this.isReact&&this.clearTemplate(["stepperTemplate"]);for(var e=0;e<this.steps.length;e++)this.renderItemContent(e,!0)},t.prototype.getTemplateFunction=function(e){if("string"==typeof e){var t="";try{var i=(0,n.select)(e);t=i?"SCRIPT"===i.tagName?i.innerHTML:i.outerHTML:e}catch(i){t=e}return(0,n.compile)(t)}return(0,n.compile)(e)},t.prototype.navigateToStep=function(e,t,i,s,n){var r=this,l={element:i,event:t,isInteracted:s,previousStep:this.activeStep,activeStep:e,cancel:!1};if(0!=n){var o=this.activeStep;this.trigger("stepChanging",l,(function(n){if(!n.cancel){r.navigationHandler(e);var l={element:i,event:t,isInteracted:s,previousStep:o,activeStep:r.activeStep};r.trigger("stepChanged",l)}}))}else this.navigationHandler(e)},t.prototype.navigationHandler=function(e,t,i){e=e>=this.steps.length-1?this.steps.length-1:e;var s=this.stepperItemElements.length;e>=0&&e<s-1&&(e=this.stepperItemElements[parseInt(e.toString(),10)].classList.contains(hr)?this.activeStep:e);var r=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.activeStep=e,this.isProtectedOnChange=r;for(var l=0;l<this.steps.length;l++){var o=this.stepperItemElements[parseInt(l.toString(),10)],a=this.steps[parseInt(l.toString(),10)];if(o.classList.remove(rr,lr,dr,or),l===this.activeStep&&o.classList.add(rr),this.activeStep>=0&&this.progressbar)if(this.element.classList.contains(yr))if((this.element.classList.contains(vr)||this.element.classList.contains(mr))&&!this.element.classList.contains(xr)&&this.stepperItemElements[parseInt(this.activeStep.toString(),10)].classList.contains(br)){var d=this.element.querySelector(".e-stepper-progressbar"),h=this.stepperItemElements[parseInt(this.activeStep.toString(),10)].firstChild,c=0===this.activeStep?0:(h.offsetLeft-d.offsetLeft+h.offsetWidth/2)/d.offsetWidth*100;if(this.element.classList.contains(ur)){var p=this.stepperItemElements[0].firstChild;c=(d.offsetWidth-h.offsetLeft+Math.abs(p.offsetLeft+p.offsetWidth-this.stepperItemList.offsetWidth))/d.offsetWidth*100,this.progressbar.style.setProperty(pr,c+"%")}else this.progressbar.style.setProperty(pr,c+"%")}else{for(var u=0,f=0,m=0;m<this.stepperItemElements.length;m++)u+=this.stepperItemElements[parseInt(m.toString(),10)].offsetWidth,m<=this.activeStep&&(m<this.activeStep?f+=this.stepperItemElements[parseInt(m.toString(),10)].offsetWidth:m==this.activeStep&&0!==m&&(f+=this.stepperItemElements[parseInt(m.toString(),10)].offsetWidth/2));var v=(f+(this.stepperItemList.offsetWidth-u)/(this.stepperItemElements.length-1)*this.activeStep)/this.stepperItemList.offsetWidth*100;this.progressbar.style.setProperty(pr,v+"%")}else this.progressbar.style.setProperty(pr,100/(this.steps.length-1)*e+"%");else this.activeStep<0&&this.progressbar&&this.progressbar.style.setProperty(pr,"0%");l===this.activeStep?o.classList.add(lr):this.activeStep>0&&l<this.activeStep?o.classList.add(dr):o.classList.add(or),o.classList.contains(lr)?(0,n.attributes)(o,{tabindex:"0","aria-current":"true"}):(0,n.attributes)(o,{tabindex:"-1","aria-current":"false"});var g=this.isProtectedOnChange;this.isProtectedOnChange=!0,!1!==i&&(l<this.activeStep||this.steps.length-1===this.activeStep&&"completed"===a.status.toLowerCase()?a.status=Pn.Completed:l===this.activeStep?a.status=Pn.InProgress:l>this.activeStep&&(a.status=Pn.NotStarted),t&&this.activeStep===l&&(a.status=t),"completed"===a.status.toLowerCase()&&(o.classList.remove(rr,lr,or),o.classList.add(dr)),"notstarted"===a.status.toLowerCase()&&(o.classList.remove(rr,lr,dr),o.classList.add(or))),this.isProtectedOnChange=g,this.renderDefault(l)&&this.element.classList.contains(xr)&&(o.classList.contains(dr)?(o.firstChild.classList.remove("e-icons","e-step-indicator"),o.firstChild.classList.add(sr,"e-icons","e-check")):(o.classList.contains(lr)||o.classList.contains(or))&&(o.firstChild.classList.remove(sr,"e-icons","e-check"),o.firstChild.classList.add("e-icons","e-step-indicator")))}},t.prototype.removeItemElements=function(){for(var e=0;e<this.stepperItemElements.length;e++)(0,n.remove)(this.stepperItemElements[parseInt(e.toString(),10)]);this.stepperItemElements=[]},t.prototype.nextStep=function(){this.activeStep!==this.steps.length-1&&this.navigateToStep(this.activeStep+1,null,null,!1)},t.prototype.previousStep=function(){this.activeStep>0&&this.navigateToStep(this.activeStep-1,null,null,!1)},t.prototype.reset=function(){if(0!==this.activeStep){var e=!!this.stepperItemElements[0].classList.contains(hr);this.navigateToStep(e?-1:0,null,null,!1)}},t.prototype.updateElementClassArray=function(){var e=[ur,cr,"e-steps-focus",mr,vr,"e-label-top","e-label-bottom","e-label-start","e-label-end",xr,Nr,gr,yr];(0,n.removeClass)([this.element],e)},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),n.EventHandler.remove(window,"resize",(function(){t.stepperItemList&&t.progressbar&&t.setProgressPosition(t.element,!0)})),n.EventHandler.remove(window,"click",(function(){t.updateStepFocus()})),this.removeItemElements(),this.clearTemplate(),this.stepperItemList&&(0,n.remove)(this.stepperItemList),this.stepperItemList=null,this.progressStep&&(0,n.remove)(this.progressStep),this.progressStep=null,this.progressbar=null,this.progressBarPosition=null,this.stepperItemContainer=null,this.textContainer=null,this.labelContainer=null,this.updateElementClassArray(),this.element.removeAttribute("aria-label"),this.showTooltip&&(this.tooltipObj.destroy(),this.tooltipObj=null),this.keyboardModuleStepper&&this.keyboardModuleStepper.destroy(),this.keyboardModuleStepper=null},t.prototype.wireKeyboardEvent=function(){this.keyboardModuleStepper=new n.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"})},t.prototype.keyActionHandler=function(e){if(!this.readOnly)switch(e.action){case"uparrow":case"downarrow":case"leftarrow":case"rightarrow":case"tab":case"shiftTab":this.handleNavigation(this.enableRtl&&this.element.classList.contains(yr)?"leftarrow"===e.action||"shiftTab"===e.action||"uparrow"===e.action:"rightarrow"===e.action||"tab"===e.action||"downarrow"===e.action,e);break;case"space":case"enter":case"escape":this.handleNavigation(null,e);break;case"home":case"end":this.handleNavigation(null,e,this.enableRtl)}},t.prototype.handleNavigation=function(e,t,i){this.isKeyNavFocus=!0,this.element.classList.add("e-steps-focus");var s=this.element.querySelector("."+ar);s||(s=this.element.querySelector("."+rr));var n=Array.prototype.slice.call(this.stepperItemList.children),r=n.indexOf(s);if("tab"===t.action||"shiftTab"===t.action||"downarrow"===t.action||"uparrow"===t.action||"space"===t.action||"home"===t.action||"end"===t.action)if("tab"===t.action&&r===n.length-1||"shiftTab"===t.action&&0===r){if(s.classList.contains(ar))return void this.updateStepFocus()}else t.preventDefault();if("escape"===t.action&&(n[parseInt(r.toString(),10)].classList.remove(ar),this.element.classList.remove("e-steps-focus")),"space"!==t.action&&"enter"!==t.action){var l=r;for(r=e?r+1:r-1;r>=0&&r<n.length&&n[parseInt(r.toString(),10)].classList.contains(hr);)r=e?r+1:r-1;r=r<0?0:r>n.length-1?n.length-1:r,n[parseInt(l.toString(),10)].classList.contains(ar)&&n[parseInt(l.toString(),10)].classList.remove(ar),"home"!==t.action&&"end"!==t.action||(r="home"===t.action?i?n.length-1:0:i?0:n.length-1),r>=0&&r<n.length&&n[parseInt(r.toString(),10)].classList.add(ar)}else if("space"===t.action||"enter"===t.action){var o=!1;if(this.linear){var a=this.activeStep-r;1===Math.abs(a)&&(this.navigateToStep(r,null,null,!0),o=!0)}else this.navigateToStep(r,null,null,!0),o=!0;o&&(this.updateStepFocus(),this.stepperItemElements[r].focus())}},t.prototype.renderStepperItems=function(e,t){this.updateElementClassArray(),this.removeItemElements(),this.element.querySelector(".e-stepper-progressbar").remove(),e&&this.updatePosition(),t&&this.updateStepType(),this.readOnly&&!this.element.classList.contains(cr)&&this.element.classList.add(cr),this.enableRtl&&!this.element.classList.contains(ur)&&this.element.classList.add(ur),this.updateOrientaion(this.element),this.renderItems(),this.renderProgressBar(this.element),this.checkValidStep(),this.updateAnimation(),this.navigateToStep(this.activeStep,null,this.stepperItemElements[this.activeStep],!0)},t.prototype.onPropertyChanged=function(e,t){for(var i=0,s=Object.keys(e);i<s.length;i++)switch(s[i]){case"steps":if(e.steps instanceof Array&&t.steps instanceof Array)this.renderStepperItems(!0,!0);else for(var r=Object.keys(e.steps),l=0;l<r.length;l++)for(var o=parseInt(Object.keys(e.steps)[l],10),a=Object.keys(e.steps[o]).length,d=0;d<a;d++)"status"===Object.keys(e.steps[o])[d]?this.activeStep===o?this.navigationHandler(o,e.steps[o].status):this.steps[o].status=t.steps[o].status:(this.removeItemElements(),this.renderItems(),this.updateStepperStatus()),this.checkValidStep();break;case"orientation":this.updateOrientaion(this.element),this.renderStepperItems(!0);break;case"activeStep":if(this.activeStep=e.activeStep>this.steps.length-1||e.activeStep<-1?t.activeStep:this.activeStep,this.activeStep>=0&&this.stepperItemElements[parseInt(this.activeStep.toString(),10)].classList.contains(hr)&&(this.activeStep=t.activeStep),this.linear){var h=t.activeStep-this.activeStep;1===Math.abs(h)&&this.navigateToStep(this.activeStep,null,null,!0)}else this.navigateToStep(this.activeStep,null,this.stepperItemElements[this.activeStep],!0);break;case"enableRtl":this.element.classList[this.enableRtl?"add":"remove"](ur);break;case"readOnly":this.element.classList[this.readOnly?"add":"remove"](cr);break;case"cssClass":t.cssClass&&(0,n.removeClass)([this.element],t.cssClass.trim().split(" ")),e.cssClass&&(0,n.addClass)([this.element],e.cssClass.trim().split(" ")),this.tooltipObj&&this.tooltipObj.setProperties({cssClass:this.cssClass?Or+" "+this.cssClass:Or});break;case"labelPosition":this.renderStepperItems(!0);break;case"showTooltip":this.updateTooltip();break;case"stepType":this.renderStepperItems(!0,!0);break;case"template":this.updateTemplateFunction(),this.updateContent();break;case"animation":this.updateAnimation()}},ir([(0,n.Property)(0)],t.prototype,"activeStep",void 0),ir([(0,n.Complex)({},wr)],t.prototype,"animation",void 0),ir([(0,n.Property)(!1)],t.prototype,"linear",void 0),ir([(0,n.Property)(!1)],t.prototype,"showTooltip",void 0),ir([(0,n.Property)("")],t.prototype,"template",void 0),ir([(0,n.Property)("")],t.prototype,"tooltipTemplate",void 0),ir([(0,n.Property)(Zn.Bottom)],t.prototype,"labelPosition",void 0),ir([(0,n.Property)($n.Default)],t.prototype,"stepType",void 0),ir([(0,n.Event)()],t.prototype,"stepChanged",void 0),ir([(0,n.Event)()],t.prototype,"stepChanging",void 0),ir([(0,n.Event)()],t.prototype,"stepClick",void 0),ir([(0,n.Event)()],t.prototype,"beforeStepRender",void 0),ir([n.NotifyPropertyChanges],t)}(er)}}]);
//# sourceMappingURL=239.js.map